"use strict";var rN=Object.defineProperty,iN=Object.defineProperties,sN=Object.getOwnPropertyDescriptors,dM=Object.getOwnPropertySymbols,oN=Object.prototype.hasOwnProperty,aN=Object.prototype.propertyIsEnumerable,hM=(Ge,ye,P)=>ye in Ge?rN(Ge,ye,{enumerable:!0,configurable:!0,writable:!0,value:P}):Ge[ye]=P,fM=(Ge,ye)=>{for(var P in ye||(ye={}))oN.call(ye,P)&&hM(Ge,P,ye[P]);if(dM)for(var P of dM(ye))aN.call(ye,P)&&hM(Ge,P,ye[P]);return Ge},pM=(Ge,ye)=>iN(Ge,sN(ye));(self.webpackChunksite=self.webpackChunksite||[]).push([[179],{2011:(Ge,ye,P)=>{P.d(ye,{Dh:()=>ue,GT:()=>ge,cc:()=>Se,hO:()=>Be,on:()=>z,pX:()=>le,xv:()=>me});var l=P(5e3),V=P(127),x=P(5813);Ge=P.hmd(Ge);const oe=["ngOnDestroy"],le=(Ce,Ue,Ve,Ae={})=>new Proxy(Ce,{get:(Me,ve)=>Ve.runOutsideAngular(()=>{var He;if(Ce[ve])return(null===(He=null==Ae?void 0:Ae.spy)||void 0===He?void 0:He.get)&&Ae.spy.get(ve,Ce[ve]),Ce[ve];if(oe.indexOf(ve)>-1)return()=>{};const ne=Ue.toPromise().then(he=>{const U=he&&he[ve];return"function"==typeof U?U.bind(he):U&&U.then?U.then(X=>Ve.run(()=>X)):Ve.run(()=>U)});return new Proxy(()=>{},{get:(he,U)=>ne[U],apply:(he,U,X)=>ne.then(ae=>{var ce;const xe=ae&&ae(...X);return(null===(ce=null==Ae?void 0:Ae.spy)||void 0===ce?void 0:ce.apply)&&Ae.spy.apply(ve,X,xe),xe})})})}),ge=(Ce,Ue)=>{Ue.forEach(Ve=>{Object.getOwnPropertyNames(Ve.prototype||Ve).forEach(Ae=>{Object.defineProperty(Ce.prototype,Ae,Object.getOwnPropertyDescriptor(Ve.prototype||Ve,Ae))})})};class fe{constructor(Ue){return Ue}}const ue=new l.OlP("angularfire2.app.options"),me=new l.OlP("angularfire2.app.name");function z(Ce,Ue,Ve){const Me="object"==typeof Ve&&Ve||{};Me.name=Me.name||"string"==typeof Ve&&Ve||"[DEFAULT]";const He=V.Z.apps.filter(ne=>ne&&ne.name===Me.name)[0]||Ue.runOutsideAngular(()=>V.Z.initializeApp(Ce,Me));try{JSON.stringify(Ce)!==JSON.stringify(He.options)&&$("error",`${He.name} Firebase App already initialized with different options${Ge.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ne){}return new fe(He)}const $=(Ce,...Ue)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Ue)},ie={provide:fe,useFactory:z,deps:[ue,l.R0b,[new l.FiY,me]]};let Be=(()=>{class Ce{constructor(Ve){V.Z.registerVersion("angularfire",x.q4.full,"core"),V.Z.registerVersion("angularfire",x.q4.full,"app-compat"),V.Z.registerVersion("angular",l.q4F.full,Ve.toString())}static initializeApp(Ve,Ae){return{ngModule:Ce,providers:[{provide:ue,useValue:Ve},{provide:me,useValue:Ae}]}}}return Ce.\u0275fac=function(Ve){return new(Ve||Ce)(l.LFG(l.Lbi))},Ce.\u0275mod=l.oAB({type:Ce}),Ce.\u0275inj=l.cJS({providers:[ie]}),Ce})();function Se(Ce,Ue,Ve,Ae,Me){const[,ve,He]=globalThis.\u0275AngularfireInstanceCache.find(ne=>ne[0]===Ce)||[];if(ve)return function Oe(Ce,Ue){try{return Ce.toString()===Ue.toString()}catch(Ve){return Ce===Ue}}(Me,He)||(pe("error",`${Ue} was already initialized on the ${Ve} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Me,was:He})),ve;{const ne=Ae();return globalThis.\u0275AngularfireInstanceCache.push([Ce,ne,Me]),ne}}const Ne=!!Ge.hot,pe=(Ce,...Ue)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[Ce](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ge,ye,P)=>{P.d(ye,{q4:()=>nc,iC:()=>sc,HU:()=>os,vb:()=>Bs,JM:()=>Pl,u3:()=>as});var l=P(5e3),V=P(5867),x=P(5861),oe=P(9681),le=P(2090),ge=P(4859),fe=P(1877),ue=P(8766);const me="@firebase/installations",z="0.5.12",ie=`w:${z}`,Be="FIS_v2",Ue=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ve(w){return w instanceof le.ZR&&w.code.includes("request-failed")}function Ae({projectId:w}){return`https://firebaseinstallations.googleapis.com/v1/projects/${w}/installations`}function Me(w){return{token:w.token,requestStatus:2,expiresIn:ae(w.expiresIn),creationTime:Date.now()}}function ve(w,T){return He.apply(this,arguments)}function He(){return(He=(0,x.Z)(function*(w,T){const L=(yield T.json()).error;return Ue.create("request-failed",{requestName:w,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function ne({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function he(w,{refreshToken:T}){const M=ne(w);return M.append("Authorization",function ce(w){return`${Be} ${w}`}(T)),M}function U(w){return X.apply(this,arguments)}function X(){return(X=(0,x.Z)(function*(w){const T=yield w();return T.status>=500&&T.status<600?w():T})).apply(this,arguments)}function ae(w){return Number(w.replace("s","000"))}function xe(w,T){return se.apply(this,arguments)}function se(){return(se=(0,x.Z)(function*({appConfig:w,heartbeatServiceProvider:T},{fid:M}){const L=Ae(w),Q=ne(w),de=T.getImmediate({optional:!0});if(de){const ct=yield de.getHeartbeatsHeader();ct&&Q.append("x-firebase-client",ct)}const je={method:"POST",headers:Q,body:JSON.stringify({fid:M,authVersion:Be,appId:w.appId,sdkVersion:ie})},Qe=yield U(()=>fetch(L,je));if(Qe.ok){const ct=yield Qe.json();return{fid:ct.fid||M,registrationStatus:2,refreshToken:ct.refreshToken,authToken:Me(ct.authToken)}}throw yield ve("Create Installation",Qe)})).apply(this,arguments)}function rt(w){return new Promise(T=>{setTimeout(T,w)})}const Tn=/^[cdef][\w-]{21}$/;function st(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function Dn(w){return function Ct(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Tn.test(M)?M:""}catch(w){return""}}function Wt(w){return`${w.appName}!${w.appId}`}const Bn=new Map;function qt(w,T){const M=Wt(w);dn(M,T),function qr(w,T){const M=function gn(){return!lr&&"BroadcastChannel"in self&&(lr=new BroadcastChannel("[Firebase] FID Change"),lr.onmessage=w=>{dn(w.data.key,w.data.fid)}),lr}();M&&M.postMessage({key:w,fid:T}),function Ti(){0===Bn.size&&lr&&(lr.close(),lr=null)}()}(M,T)}function dn(w,T){const M=Bn.get(w);if(M)for(const L of M)L(T)}let lr=null;const In="firebase-installations-store";let di=null;function it(){return di||(di=(0,ue.X3)("firebase-installations-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(In)}})),di}function ur(w,T){return hn.apply(this,arguments)}function hn(){return(hn=(0,x.Z)(function*(w,T){const M=Wt(w),Q=(yield it()).transaction(In,"readwrite"),de=Q.objectStore(In),Ie=yield de.get(M);return yield de.put(T,M),yield Q.done,(!Ie||Ie.fid!==T.fid)&&qt(w,T.fid),T})).apply(this,arguments)}function zt(w){return Un.apply(this,arguments)}function Un(){return(Un=(0,x.Z)(function*(w){const T=Wt(w),L=(yield it()).transaction(In,"readwrite");yield L.objectStore(In).delete(T),yield L.done})).apply(this,arguments)}function cr(w,T){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,x.Z)(function*(w,T){const M=Wt(w),Q=(yield it()).transaction(In,"readwrite"),de=Q.objectStore(In),Ie=yield de.get(M),je=T(Ie);return void 0===je?yield de.delete(M):yield de.put(je,M),yield Q.done,je&&(!Ie||Ie.fid!==je.fid)&&qt(w,je.fid),je})).apply(this,arguments)}function fn(w){return jn.apply(this,arguments)}function jn(){return(jn=(0,x.Z)(function*(w){let T;const M=yield cr(w.appConfig,L=>{const Q=Di(L),de=Mt(w,Q);return T=de.registrationPromise,de.installationEntry});return""===M.fid?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}})).apply(this,arguments)}function Di(w){return Kr(w||{fid:st(),registrationStatus:0})}function Mt(w,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Ue.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},L=function Xe(w,T){return qe.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:L}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:kr(w)}:{installationEntry:T}}function qe(){return(qe=(0,x.Z)(function*(w,T){try{const M=yield xe(w,T);return ur(w.appConfig,M)}catch(M){throw Ve(M)&&409===M.customData.serverCode?yield zt(w.appConfig):yield ur(w.appConfig,{fid:T.fid,registrationStatus:0}),M}})).apply(this,arguments)}function kr(w){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,x.Z)(function*(w){let T=yield xt(w.appConfig);for(;1===T.registrationStatus;)yield rt(100),T=yield xt(w.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:L}=yield fn(w);return L||M}return T})).apply(this,arguments)}function xt(w){return cr(w,T=>{if(!T)throw Ue.create("installation-not-found");return Kr(T)})}function Kr(w){return function Sn(w){return 1===w.registrationStatus&&w.registrationTime+1e4<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function Xt(w,T){return tt.apply(this,arguments)}function tt(){return(tt=(0,x.Z)(function*({appConfig:w,heartbeatServiceProvider:T},M){const L=_r(w,M),Q=he(w,M),de=T.getImmediate({optional:!0});if(de){const ct=yield de.getHeartbeatsHeader();ct&&Q.append("x-firebase-client",ct)}const je={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:ie,appId:w.appId}})},Qe=yield U(()=>fetch(L,je));if(Qe.ok)return Me(yield Qe.json());throw yield ve("Generate Auth Token",Qe)})).apply(this,arguments)}function _r(w,{fid:T}){return`${Ae(w)}/${T}/authTokens:generate`}function W(w){return H.apply(this,arguments)}function H(){return(H=(0,x.Z)(function*(w,T=!1){let M;const L=yield cr(w.appConfig,de=>{if(!ut(de))throw Ue.create("not-registered");const Ie=de.authToken;if(!T&&jt(Ie))return de;if(1===Ie.requestStatus)return M=B(w,T),de;{if(!navigator.onLine)throw Ue.create("app-offline");const je=$n(de);return M=De(w,je),je}});return M?yield M:L.authToken})).apply(this,arguments)}function B(w,T){return j.apply(this,arguments)}function j(){return(j=(0,x.Z)(function*(w,T){let M=yield G(w.appConfig);for(;1===M.authToken.requestStatus;)yield rt(100),M=yield G(w.appConfig);const L=M.authToken;return 0===L.requestStatus?W(w,T):L})).apply(this,arguments)}function G(w){return cr(w,T=>{if(!ut(T))throw Ue.create("not-registered");return function J(w){return 1===w.requestStatus&&w.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function De(w,T){return Le.apply(this,arguments)}function Le(){return(Le=(0,x.Z)(function*(w,T){try{const M=yield Xt(w,T),L=Object.assign(Object.assign({},T),{authToken:M});return yield ur(w.appConfig,L),M}catch(M){if(!Ve(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const L=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ur(w.appConfig,L)}else yield zt(w.appConfig);throw M}})).apply(this,arguments)}function ut(w){return void 0!==w&&2===w.registrationStatus}function jt(w){return 2===w.requestStatus&&!function Ut(w){const T=Date.now();return T<w.creationTime||w.creationTime+w.expiresIn<T+36e5}(w)}function $n(w){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:T})}function q(){return(q=(0,x.Z)(function*(w){const T=w,{installationEntry:M,registrationPromise:L}=yield fn(T);return L?L.catch(console.error):W(T).catch(console.error),M.fid})).apply(this,arguments)}function $e(){return($e=(0,x.Z)(function*(w,T=!1){const M=w;return yield Ke(M),(yield W(M,T)).token})).apply(this,arguments)}function Ke(w){return ft.apply(this,arguments)}function ft(){return(ft=(0,x.Z)(function*(w){const{registrationPromise:T}=yield fn(w);T&&(yield T)})).apply(this,arguments)}function Po(w){return Ue.create("missing-app-config-values",{valueName:w})}const br="installations",Dt=w=>{const T=w.getProvider("app").getImmediate(),M=function Zn(w){if(!w||!w.options)throw Po("App Configuration");if(!w.name)throw Po("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!w.options[M])throw Po(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,oe._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},rn=w=>{const T=w.getProvider("app").getImmediate(),M=(0,oe._getProvider)(T,br).getImmediate();return{getId:()=>function K(w){return q.apply(this,arguments)}(M),getToken:Q=>function we(w){return $e.apply(this,arguments)}(M,Q)}};(function yr(){(0,oe._registerComponent)(new ge.wA(br,Dt,"PUBLIC")),(0,oe._registerComponent)(new ge.wA("installations-internal",rn,"PRIVATE"))})(),(0,oe.registerVersion)(me,z),(0,oe.registerVersion)(me,z,"esm2017");const Ii="@firebase/remote-config",An=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Nu{constructor(T,M,L,Q){this.client=T,this.storage=M,this.storageCache=L,this.logger=Q}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-M,Q=L<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${Q}.`),Q}fetch(T){var M=this;return(0,x.Z)(function*(){const[L,Q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Q&&M.isCachedDataFresh(T.cacheMaxAgeMillis,L))return Q;T.eTag=Q&&Q.eTag;const de=yield M.client.fetch(T),Ie=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Ie.push(M.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Ie),de})()}}function Ca(w=navigator){return w.languages&&w.languages[0]||w.language}class Vn{constructor(T,M,L,Q,de,Ie){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=L,this.projectId=Q,this.apiKey=de,this.appId=Ie}fetch(T){var M=this;return(0,x.Z)(function*(){var L,Q,de;const[Ie,je]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),ct=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,yt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},et={sdk_version:M.sdkVersion,app_instance_id:Ie,app_instance_id_token:je,app_id:M.appId,language_code:Ca()},er={method:"POST",headers:yt,body:JSON.stringify(et)},fr=fetch(ct,er),Us=new Promise((ti,ls)=>{T.signal.addEventListener(()=>{const ef=new Error("The operation was aborted.");ef.name="AbortError",ls(ef)})});let kn;try{yield Promise.race([fr,Us]),kn=yield fr}catch(ti){let ls="fetch-client-network";throw"AbortError"===(null===(L=ti)||void 0===L?void 0:L.name)&&(ls="fetch-timeout"),An.create(ls,{originalErrorMessage:null===(Q=ti)||void 0===Q?void 0:Q.message})}let ji=kn.status;const vo=kn.headers.get("ETag")||void 0;let Eo,vi;if(200===kn.status){let ti;try{ti=yield kn.json()}catch(ls){throw An.create("fetch-client-parse",{originalErrorMessage:null===(de=ls)||void 0===de?void 0:de.message})}Eo=ti.entries,vi=ti.state}if("INSTANCE_STATE_UNSPECIFIED"===vi?ji=500:"NO_CHANGE"===vi?ji=304:("NO_TEMPLATE"===vi||"EMPTY_CONFIG"===vi)&&(Eo={}),304!==ji&&200!==ji)throw An.create("fetch-status",{httpStatus:ji});return{status:ji,eTag:vo,config:Eo}})()}}class Mi{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,x.Z)(function*(){const L=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,L)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:L}){var Q=this;return(0,x.Z)(function*(){yield function ku(w,T){return new Promise((M,L)=>{const Q=Math.max(T-Date.now(),0),de=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(de),L(An.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const de=yield Q.client.fetch(T);return yield Q.storage.deleteThrottleMetadata(),de}catch(de){if(!function Uh(w){if(!(w instanceof le.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}(de))throw de;const Ie={throttleEndTimeMillis:Date.now()+(0,le.$s)(L),backoffCount:L+1};return yield Q.storage.setThrottleMetadata(Ie),Q.attemptFetch(T,Ie)}})()}}class jh{constructor(T,M,L,Q,de){this.app=T,this._client=M,this._storageCache=L,this._storage=Q,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Oo(w,T){var M;const L=w.target.error||void 0;return An.create(T,{originalErrorMessage:L&&(null===(M=L)||void 0===M?void 0:M.message)})}const io="app_namespace_store";class Lu{constructor(T,M,L,Q=function Wh(){return new Promise((w,T)=>{var M;try{const L=indexedDB.open("firebase_remote_config",1);L.onerror=Q=>{T(Oo(Q,"storage-open"))},L.onsuccess=Q=>{w(Q.target.result)},L.onupgradeneeded=Q=>{0===Q.oldVersion&&Q.target.result.createObjectStore(io,{keyPath:"compositeKey"})}}catch(L){T(An.create("storage-open",{originalErrorMessage:null===(M=L)||void 0===M?void 0:M.message}))}})}()){this.appId=T,this.appName=M,this.namespace=L,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,x.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Q,de)=>{var Ie;const Qe=L.transaction([io],"readonly").objectStore(io),ct=M.createCompositeKey(T);try{const yt=Qe.get(ct);yt.onerror=et=>{de(Oo(et,"storage-get"))},yt.onsuccess=et=>{const er=et.target.result;Q(er?er.value:void 0)}}catch(yt){de(An.create("storage-get",{originalErrorMessage:null===(Ie=yt)||void 0===Ie?void 0:Ie.message}))}})})()}set(T,M){var L=this;return(0,x.Z)(function*(){const Q=yield L.openDbPromise;return new Promise((de,Ie)=>{var je;const ct=Q.transaction([io],"readwrite").objectStore(io),yt=L.createCompositeKey(T);try{const et=ct.put({compositeKey:yt,value:M});et.onerror=er=>{Ie(Oo(er,"storage-set"))},et.onsuccess=()=>{de()}}catch(et){Ie(An.create("storage-set",{originalErrorMessage:null===(je=et)||void 0===je?void 0:je.message}))}})})()}delete(T){var M=this;return(0,x.Z)(function*(){const L=yield M.openDbPromise;return new Promise((Q,de)=>{var Ie;const Qe=L.transaction([io],"readwrite").objectStore(io),ct=M.createCompositeKey(T);try{const yt=Qe.delete(ct);yt.onerror=et=>{de(Oo(et,"storage-delete"))},yt.onsuccess=()=>{Q()}}catch(yt){de(An.create("storage-delete",{originalErrorMessage:null===(Ie=yt)||void 0===Ie?void 0:Ie.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class so{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,x.Z)(function*(){const M=T.storage.getLastFetchStatus(),L=T.storage.getLastSuccessfulFetchTimestampMillis(),Q=T.storage.getActiveConfig(),de=yield M;de&&(T.lastFetchStatus=de);const Ie=yield L;Ie&&(T.lastSuccessfulFetchTimestampMillis=Ie);const je=yield Q;je&&(T.activeConfig=je)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function vg(){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,x.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(w){return!1}})).apply(this,arguments)}!function Gh(){(0,oe._registerComponent)(new ge.wA("remote-config",function w(T,{instanceIdentifier:M}){const L=T.getProvider("app").getImmediate(),Q=T.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw An.create("registration-window");if(!(0,le.hl)())throw An.create("indexed-db-unavailable");const{projectId:de,apiKey:Ie,appId:je}=L.options;if(!de)throw An.create("registration-project-id");if(!Ie)throw An.create("registration-api-key");if(!je)throw An.create("registration-app-id");const Qe=new Lu(je,L.name,M=M||"firebase"),ct=new so(Qe),yt=new fe.Yd(Ii);yt.logLevel=fe.in.ERROR;const et=new Vn(Q,oe.SDK_VERSION,M,de,Ie,je),er=new Mi(et,Qe),fr=new Nu(er,Qe,ct,yt),Us=new jh(L,fr,ct,Qe,yt);return function Qt(w){const T=(0,le.m9)(w);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Us),Us},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(Ii,"0.3.11"),(0,oe.registerVersion)(Ii,"0.3.11","esm2017")}();const Ji="/firebase-messaging-sw.js",Br="/firebase-cloud-messaging-push-scope",oo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ko="google.c.a.c_id",ad="google.c.a.c_l",zh="google.c.a.ts",Xi="google.c.a.e";var Pi=(()=>{return(w=Pi||(Pi={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",Pi;var w})();function Jr(w){const T=new Uint8Array(w);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Bu(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(M),Q=new Uint8Array(L.length);for(let de=0;de<L.length;++de)Q[de]=L.charCodeAt(de);return Q}const qn="fcm_token_details_db",Uu="fcm_token_object_Store";function Hu(w){return ba.apply(this,arguments)}function ba(){return ba=(0,x.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(qn))return null;let T=null;return(yield(0,ue.X3)(qn,5,{upgrade:(L=(0,x.Z)(function*(Q,de,Ie,je){var Qe;if(de<2||!Q.objectStoreNames.contains(Uu))return;const ct=je.objectStore(Uu),yt=yield ct.index("fcmSenderId").get(w);if(yield ct.clear(),yt)if(2===de){const et=yt;if(!et.auth||!et.p256dh||!et.endpoint)return;T={token:et.fcmToken,createTime:null!==(Qe=et.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:et.auth,p256dh:et.p256dh,endpoint:et.endpoint,swScope:et.swScope,vapidKey:"string"==typeof et.vapidKey?et.vapidKey:Jr(et.vapidKey)}}}else if(3===de){const et=yt;T={token:et.fcmToken,createTime:et.createTime,subscriptionOptions:{auth:Jr(et.auth),p256dh:Jr(et.p256dh),endpoint:et.endpoint,swScope:et.swScope,vapidKey:Jr(et.vapidKey)}}}else if(4===de){const et=yt;T={token:et.fcmToken,createTime:et.createTime,subscriptionOptions:{auth:Jr(et.auth),p256dh:Jr(et.p256dh),endpoint:et.endpoint,swScope:et.swScope,vapidKey:Jr(et.vapidKey)}}}}),function(de,Ie,je,Qe){return L.apply(this,arguments)})})).close(),yield(0,ue.Lj)(qn),yield(0,ue.Lj)("fcm_vapid_details_db"),yield(0,ue.Lj)("undefined"),ao(T)?T:null;var L}),ba.apply(this,arguments)}function ao(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:T}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const Oi="firebase-messaging-store";let yl=null;function sn(){return yl||(yl=(0,ue.X3)("firebase-messaging-database",1,{upgrade:(w,T)=>{0===T&&w.createObjectStore(Oi)}})),yl}function Fo(w){return es.apply(this,arguments)}function es(){return(es=(0,x.Z)(function*(w){const T=Kn(w),L=yield(yield sn()).transaction(Oi).objectStore(Oi).get(T);if(L)return L;{const Q=yield Hu(w.appConfig.senderId);if(Q)return yield Jt(w,Q),Q}})).apply(this,arguments)}function Jt(w,T){return Da.apply(this,arguments)}function Da(){return(Da=(0,x.Z)(function*(w,T){const M=Kn(w),Q=(yield sn()).transaction(Oi,"readwrite");return yield Q.objectStore(Oi).put(T,M),yield Q.done,T})).apply(this,arguments)}function Lo(w){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,x.Z)(function*(w){const T=Kn(w),L=(yield sn()).transaction(Oi,"readwrite");yield L.objectStore(Oi).delete(T),yield L.done})).apply(this,arguments)}function Kn({appConfig:w}){return w.appId}const Mn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ri(w,T){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,x.Z)(function*(w,T){var M;const L=yield ns(w),Q=Vo(T),de={method:"POST",headers:L,body:JSON.stringify(Q)};let Ie;try{Ie=yield(yield fetch(ts(w.appConfig),de)).json()}catch(je){throw Mn.create("token-subscribe-failed",{errorInfo:null===(M=je)||void 0===M?void 0:M.toString()})}if(Ie.error)throw Mn.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Mn.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function lo(w,T){return fi.apply(this,arguments)}function fi(){return(fi=(0,x.Z)(function*(w,T){var M;const L=yield ns(w),Q=Vo(T.subscriptionOptions),de={method:"PATCH",headers:L,body:JSON.stringify(Q)};let Ie;try{Ie=yield(yield fetch(`${ts(w.appConfig)}/${T.token}`,de)).json()}catch(je){throw Mn.create("token-update-failed",{errorInfo:null===(M=je)||void 0===M?void 0:M.toString()})}if(Ie.error)throw Mn.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw Mn.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function vl(w,T){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,x.Z)(function*(w,T){var M;const Q={method:"DELETE",headers:yield ns(w)};try{const Ie=yield(yield fetch(`${ts(w.appConfig)}/${T}`,Q)).json();if(Ie.error)throw Mn.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(de){throw Mn.create("token-unsubscribe-failed",{errorInfo:null===(M=de)||void 0===M?void 0:M.toString()})}})).apply(this,arguments)}function ts({projectId:w}){return`https://fcmregistrations.googleapis.com/v1/projects/${w}/registrations`}function ns(w){return ot.apply(this,arguments)}function ot(){return(ot=(0,x.Z)(function*({appConfig:w,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function Vo({p256dh:w,auth:T,endpoint:M,vapidKey:L}){const Q={web:{endpoint:M,auth:T,p256dh:w}};return L!==oo&&(Q.web.applicationPubKey=L),Q}const Bo=6048e5;function ju(w){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,x.Z)(function*(w){const T=yield En(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:T.endpoint,auth:Jr(T.getKey("auth")),p256dh:Jr(T.getKey("p256dh"))},L=yield Fo(w.firebaseDependencies);if(L){if($o(L.subscriptionOptions,M))return Date.now()>=L.createTime+Bo?ld(w,{token:L.token,createTime:Date.now(),subscriptionOptions:M}):L.token;try{yield vl(w.firebaseDependencies,L.token)}catch(Q){console.warn(Q)}return Pt(w.firebaseDependencies,M)}return Pt(w.firebaseDependencies,M)})).apply(this,arguments)}function El(w){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,x.Z)(function*(w){const T=yield Fo(w.firebaseDependencies);T&&(yield vl(w.firebaseDependencies,T.token),yield Lo(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function ld(w,T){return Te.apply(this,arguments)}function Te(){return(Te=(0,x.Z)(function*(w,T){try{const M=yield lo(w.firebaseDependencies,T),L=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield Jt(w.firebaseDependencies,L),M}catch(M){throw yield El(w),M}})).apply(this,arguments)}function Pt(w,T){return jo.apply(this,arguments)}function jo(){return(jo=(0,x.Z)(function*(w,T){const L={token:yield Ri(w,T),createTime:Date.now(),subscriptionOptions:T};return yield Jt(w,L),L.token})).apply(this,arguments)}function En(w,T){return rs.apply(this,arguments)}function rs(){return(rs=(0,x.Z)(function*(w,T){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Bu(T)})})).apply(this,arguments)}function $o(w,T){return T.vapidKey===w.vapidKey&&T.endpoint===w.endpoint&&T.auth===w.auth&&T.p256dh===w.p256dh}function vr(w){const T={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function Cl(w,T){if(!T.notification)return;w.notification={};const M=T.notification.title;M&&(w.notification.title=M);const L=T.notification.body;L&&(w.notification.body=L);const Q=T.notification.image;Q&&(w.notification.image=Q)}(T,w),function wl(w,T){!T.data||(w.data=T.data)}(T,w),function $u(w,T){var M,L,Q,de,Ie;if(!T.fcmOptions&&!(null===(M=T.notification)||void 0===M?void 0:M.click_action))return;w.fcmOptions={};const je=null!==(Q=null===(L=T.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==Q?Q:null===(de=T.notification)||void 0===de?void 0:de.click_action;je&&(w.fcmOptions.link=je);const Qe=null===(Ie=T.fcmOptions)||void 0===Ie?void 0:Ie.analytics_label;Qe&&(w.fcmOptions.analyticsLabel=Qe)}(T,w),T}function Wu(w){return"object"==typeof w&&!!w&&ko in w}function Wo(w,T){const M=[];for(let L=0;L<w.length;L++)M.push(w.charAt(L)),L<T.length&&M.push(T.charAt(L));return M.join("")}function Wn(w){return Mn.create("missing-app-config-values",{valueName:w})}Wo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Wo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xr{constructor(T,M,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function uo(w){if(!w||!w.options)throw Wn("App Configuration Object");if(!w.name)throw Wn("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const L of T)if(!M[L])throw Wn(L);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:Q,installations:M,analyticsProvider:L}}_delete(){return Promise.resolve()}}function bl(w){return pi.apply(this,arguments)}function pi(){return(pi=(0,x.Z)(function*(w){var T;try{w.swRegistration=yield navigator.serviceWorker.register(Ji,{scope:Br}),w.swRegistration.update().catch(()=>{})}catch(M){throw Mn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=M)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Ni(w,T){return Go.apply(this,arguments)}function Go(){return(Go=(0,x.Z)(function*(w,T){if(!T&&!w.swRegistration&&(yield bl(w)),T||!w.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Mn.create("invalid-sw-registration");w.swRegistration=T}})).apply(this,arguments)}function Gu(w,T){return zo.apply(this,arguments)}function zo(){return(zo=(0,x.Z)(function*(w,T){T?w.vapidKey=T:w.vapidKey||(w.vapidKey=oo)})).apply(this,arguments)}function Is(){return(Is=(0,x.Z)(function*(w,T){if(!navigator)throw Mn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Mn.create("permission-blocked");return yield Gu(w,null==T?void 0:T.vapidKey),yield Ni(w,null==T?void 0:T.serviceWorkerRegistration),ju(w)})).apply(this,arguments)}function Sa(w,T,M){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,x.Z)(function*(w,T,M){const L=Tl(T);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:M[ko],message_name:M[ad],message_time:M[zh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Tl(w){switch(w){case Pi.NOTIFICATION_CLICKED:return"notification_open";case Pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Aa(){return(Aa=(0,x.Z)(function*(w,T){const M=T.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===Pi.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(vr(M)):w.onMessageHandler.next(vr(M)));const L=M.data;Wu(L)&&"1"===L[Xi]&&(yield Sa(w,M.messageType,L))})).apply(this,arguments)}const Ss="@firebase/messaging",As=w=>{const T=new Xr(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Zh(w,T){return Aa.apply(this,arguments)}(T,M)),T},Zu=w=>{const T=w.getProvider("messaging").getImmediate();return{getToken:L=>function zu(w,T){return Is.apply(this,arguments)}(T,L)}};function co(){return gi.apply(this,arguments)}function gi(){return(gi=(0,x.Z)(function*(){try{yield(0,le.eu)()}catch(w){return!1}return"undefined"!=typeof window&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ud(){(0,oe._registerComponent)(new ge.wA("messaging",As,"PUBLIC")),(0,oe._registerComponent)(new ge.wA("messaging-internal",Zu,"PRIVATE")),(0,oe.registerVersion)(Ss,"0.9.16"),(0,oe.registerVersion)(Ss,"0.9.16","esm2017")}();const qu="analytics",qh="firebase_id",Yo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ma="https://www.googletagmanager.com/gtag/js",Xn=new fe.Yd("@firebase/analytics");function hd(w){return Promise.all(w.map(T=>T.catch(M=>M)))}function Ms(w,T){const M=document.createElement("script");M.src=`${Ma}?l=${w}&id=${T}`,M.async=!0,document.head.appendChild(M)}function Yu(w,T,M,L,Q,de){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,x.Z)(function*(w,T,M,L,Q,de){const Ie=L[Q];try{if(Ie)yield T[Ie];else{const Qe=(yield hd(M)).find(ct=>ct.measurementId===Q);Qe&&(yield T[Qe.appId])}}catch(je){Xn.error(je)}w("config",Q,de)})).apply(this,arguments)}function xs(w,T,M,L,Q){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,x.Z)(function*(w,T,M,L,Q){try{let de=[];if(Q&&Q.send_to){let Ie=Q.send_to;Array.isArray(Ie)||(Ie=[Ie]);const je=yield hd(M);for(const Qe of Ie){const ct=je.find(et=>et.measurementId===Qe),yt=ct&&T[ct.appId];if(!yt){de=[];break}de.push(yt)}}0===de.length&&(de=Object.values(T)),yield Promise.all(de),w("event",L,Q||{})}catch(de){Xn.error(de)}})).apply(this,arguments)}function Il(){const w=window.document.getElementsByTagName("script");for(const T of Object.values(w))if(T.src&&T.src.includes(Ma))return T;return null}const un=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),xa=new class Qo{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function bt(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function Jo(w){return mn.apply(this,arguments)}function mn(){return(mn=(0,x.Z)(function*(w){var T;const{appId:M,apiKey:L}=w,Q={method:"GET",headers:bt(L)},de=Yo.replace("{app-id}",M),Ie=yield fetch(de,Q);if(200!==Ie.status&&304!==Ie.status){let je="";try{const Qe=yield Ie.json();(null===(T=Qe.error)||void 0===T?void 0:T.message)&&(je=Qe.error.message)}catch(Qe){}throw un.create("config-fetch-failed",{httpStatus:Ie.status,responseMessage:je})}return Ie.json()})).apply(this,arguments)}function Gn(w){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,x.Z)(function*(w,T=xa,M){const{appId:L,apiKey:Q,measurementId:de}=w.options;if(!L)throw un.create("no-app-id");if(!Q){if(de)return{measurementId:de,appId:L};throw un.create("no-api-key")}const Ie=T.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},je=new Sl;return setTimeout((0,x.Z)(function*(){je.abort()}),void 0!==M?M:6e4),Os({appId:L,apiKey:Q,measurementId:de},Ie,je,T)})).apply(this,arguments)}function Os(w,T,M){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,x.Z)(function*(w,{throttleEndTimeMillis:T,backoffCount:M},L,Q=xa){var de,Ie;const{appId:je,measurementId:Qe}=w;try{yield fo(L,T)}catch(ct){if(Qe)return Xn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${null===(de=ct)||void 0===de?void 0:de.message}]`),{appId:je,measurementId:Qe};throw ct}try{const ct=yield Jo(w);return Q.deleteThrottleMetadata(je),ct}catch(ct){const yt=ct;if(!Qu(yt)){if(Q.deleteThrottleMetadata(je),Qe)return Xn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Qe} provided in the "measurementId" field in the local Firebase config. [${null==yt?void 0:yt.message}]`),{appId:je,measurementId:Qe};throw ct}const et=503===Number(null===(Ie=null==yt?void 0:yt.customData)||void 0===Ie?void 0:Ie.httpStatus)?(0,le.$s)(M,Q.intervalMillis,30):(0,le.$s)(M,Q.intervalMillis),er={throttleEndTimeMillis:Date.now()+et,backoffCount:M+1};return Q.setThrottleMetadata(je,er),Xn.debug(`Calling attemptFetch again in ${et} millis`),Os(w,er,L,Q)}})).apply(this,arguments)}function fo(w,T){return new Promise((M,L)=>{const Q=Math.max(T-Date.now(),0),de=setTimeout(M,Q);w.addEventListener(()=>{clearTimeout(de),L(un.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Qu(w){if(!(w instanceof le.ZR&&w.customData))return!1;const T=Number(w.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Sl{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Rs,Oa;function is(){return(is=(0,x.Z)(function*(w,T,M,L,Q){if(Q&&Q.global)w("event",M,L);else{const de=yield T;w("event",M,Object.assign(Object.assign({},L),{send_to:de}))}})).apply(this,arguments)}function Xu(w){Oa=w}function ta(w){Rs=w}function Ra(){return Na.apply(this,arguments)}function Na(){return(Na=(0,x.Z)(function*(){var w;if(!(0,le.hl)())return Xn.warn(un.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(T){return Xn.warn(un.create("indexeddb-unavailable",{errorInfo:null===(w=T)||void 0===w?void 0:w.toString()}).message),!1}return!0})).apply(this,arguments)}function ka(){return(ka=(0,x.Z)(function*(w,T,M,L,Q,de,Ie){var je;const Qe=Gn(w);Qe.then(fr=>{M[fr.measurementId]=fr.appId,w.options.measurementId&&fr.measurementId!==w.options.measurementId&&Xn.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${fr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(fr=>Xn.error(fr)),T.push(Qe);const ct=Ra().then(fr=>{if(fr)return L.getId()}),[yt,et]=yield Promise.all([Qe,ct]);Il()||Ms(de,yt.measurementId),Oa&&(Q("consent","default",Oa),Xu(void 0)),Q("js",new Date);const er=null!==(je=null==Ie?void 0:Ie.config)&&void 0!==je?je:{};return er.origin="firebase",er.update=!0,null!=et&&(er[qh]=et),Q("config",yt.measurementId,er),Rs&&(Q("set",Rs),ta(void 0)),yt.measurementId})).apply(this,arguments)}class mo{constructor(T){this.app=T}_delete(){return delete Hr[this.app.options.appId],Promise.resolve()}}let Hr={},Fa=[];const na={};let ks,Dr,mi="dataLayer",ra=!1;function Ml(w,T,M){!function Kh(){const w=[];if((0,le.ru)()&&w.push("This is a browser extension environment."),(0,le.zI)()||w.push("Cookies are not available."),w.length>0){const T=w.map((L,Q)=>`(${Q+1}) ${L}`).join(" "),M=un.create("invalid-analytics-context",{errorInfo:T});Xn.warn(M.message)}}();const L=w.options.appId;if(!L)throw un.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw un.create("no-api-key");Xn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Hr[L])throw un.create("already-exists",{id:L});if(!ra){!function ho(w){let T=[];Array.isArray(window[w])?T=window[w]:window[w]=T}(mi);const{wrappedGtag:de,gtagCore:Ie}=function Yh(w,T,M,L,Q){let de=function(...Ie){window[L].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(de=window[Q]),window[Q]=function fd(w,T,M,L){function de(){return(de=(0,x.Z)(function*(Ie,je,Qe){try{"event"===Ie?yield xs(w,T,M,je,Qe):"config"===Ie?yield Yu(w,T,M,L,je,Qe):"consent"===Ie?w("consent","update",Qe):w("set",je)}catch(ct){Xn.error(ct)}})).apply(this,arguments)}return function Q(Ie,je,Qe){return de.apply(this,arguments)}}(de,w,T,M),{gtagCore:de,wrappedGtag:window[Q]}}(Hr,Fa,na,mi,"gtag");Dr=de,ks=Ie,ra=!0}return Hr[L]=function pd(w,T,M,L,Q,de,Ie){return ka.apply(this,arguments)}(w,Fa,na,T,ks,mi,M),new mo(w)}function Qh(){return ec.apply(this,arguments)}function ec(){return(ec=(0,x.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch(w){return!1}})).apply(this,arguments)}const _o="@firebase/analytics";!function Bi(){(0,oe._registerComponent)(new ge.wA(qu,(T,{options:M})=>Ml(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,oe._registerComponent)(new ge.wA("analytics-internal",function w(T){try{const M=T.getProvider(qu).getImmediate();return{logEvent:(L,Q,de)=>function md(w,T,M,L){w=(0,le.m9)(w),function Vi(w,T,M,L,Q){return is.apply(this,arguments)}(Dr,Hr[w.app.options.appId],T,M,L).catch(Q=>Xn.error(Q))}(M,L,Q,de)}}catch(M){throw un.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,oe.registerVersion)(_o,"0.8.0"),(0,oe.registerVersion)(_o,"0.8.0","esm2017")}();var tc=P(4408),hr=P(7565);const sr=new class yo extends hr.v{}(class ir extends tc.o{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(T,M,L):T.flush(this)}});var Va=P(4986),Ui=P(8306),Ba=P(8505),xl=P(9468),Xh=P(5363);const nc=new l.GfV("7.4.1"),_n="__angularfire_symbol__analyticsIsSupportedValue",Ls="__angularfire_symbol__analyticsIsSupported",Hi="__angularfire_symbol__remoteConfigIsSupportedValue",rc="__angularfire_symbol__remoteConfigIsSupported",Vs="__angularfire_symbol__messagingIsSupportedValue",Ua="__angularfire_symbol__messagingIsSupported";function Pl(w,T,M){if(T){if(1===T.length)return T[0];const de=T.filter(Ie=>Ie.app===M);if(1===de.length)return de[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[Ls]||(globalThis[Ls]=Qh().then(w=>globalThis[_n]=w).catch(()=>globalThis[_n]=!1)),globalThis[Ua]||(globalThis[Ua]=co().then(w=>globalThis[Vs]=w).catch(()=>globalThis[Vs]=!1)),globalThis[rc]||(globalThis[rc]=vg().then(w=>globalThis[Hi]=w).catch(()=>globalThis[Hi]=!1));const Bs=(w,T)=>{const M=T?[T]:(0,V.C6)(),L=[];return M.forEach(Q=>{Q.container.getProvider(w).instances.forEach(Ie=>{L.includes(Ie)||L.push(Ie)})}),L};function ei(){}class $a{constructor(T,M=sr){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,L){const Q=this.zone;return this.delegate.schedule(function(Ie){Q.runGuarded(()=>{T.apply(this,[Ie])})},M,L)}}class _i{constructor(T){this.zone=T,this.task=null}call(T,M){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ei,{},ei,ei)),M.pipe((0,Ba.b)({next:L,complete:L,error:L})).subscribe(T).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let os=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new $a(Zone.current)),this.insideAngular=M.run(()=>new $a(Zone.current,Va.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(l.LFG(l.R0b))},w.\u0275prov=l.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Ir(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Ol(w){return Ir().ngZone.runOutsideAngular(()=>w())}function Er(w){return Ir().ngZone.run(()=>w())}function sc(w){return Ir(),function yi(w){return function(M){return(M=M.lift(new _i(w.ngZone))).pipe((0,xl.R)(w.outsideAngular),(0,Xh.Q)(w.insideAngular))}}(Ir())(w)}const oa=(w,T)=>function(){const L=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),Er(()=>w.apply(void 0,L))},as=(w,T)=>function(){let M;const L=arguments;for(let de=0;de<arguments.length;de++)"function"==typeof L[de]&&(T&&(M||(M=Er(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ei,{},ei,ei)))),L[de]=oa(L[de],M));const Q=Ol(()=>w.apply(this,L));if(!T){if(Q instanceof Ui.y){const de=Ir();return Q.pipe((0,xl.R)(de.outsideAngular),(0,Xh.Q)(de.insideAngular))}return Er(()=>Q)}return Q instanceof Ui.y?Q.pipe(sc):Q instanceof Promise?Er(()=>new Promise((de,Ie)=>Q.then(je=>Er(()=>de(je)),je=>Er(()=>Ie(je))))):"function"==typeof Q&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Q.apply(this,arguments)}:Er(()=>Q)}},6457:(Ge,ye,P)=>{P.d(ye,{$:()=>ts,A:()=>$,B:()=>Se,G:()=>rn,H:()=>Yt,J:()=>Mi,L:()=>jt,M:()=>Ro,N:()=>No,P:()=>Va,Q:()=>ko,R:()=>Tg,T:()=>ad,U:()=>oo,V:()=>Pi,W:()=>Jr,X:()=>Hu,Y:()=>Ia,Z:()=>Ri,_:()=>lo,a:()=>en,a0:()=>ju,a1:()=>El,a2:()=>ld,a3:()=>Pt,a4:()=>En,a5:()=>$o,a6:()=>Cl,a7:()=>wl,a8:()=>Wu,a9:()=>Wo,aA:()=>er,aB:()=>je,aC:()=>Er,aD:()=>Ol,aE:()=>Re,aI:()=>bt,aL:()=>Xi,aa:()=>bl,ab:()=>Ni,ac:()=>Gu,af:()=>Sa,ag:()=>Tl,ah:()=>Zh,ak:()=>Oi,al:()=>Jn,an:()=>Ma,ao:()=>Ku,ap:()=>Pn,aq:()=>U,ar:()=>St,as:()=>Ke,at:()=>Ve,au:()=>us,av:()=>ji,aw:()=>Ae,ax:()=>ne,ay:()=>ae,az:()=>Ut,b:()=>un,c:()=>rc,d:()=>_d,e:()=>Ua,f:()=>sc,g:()=>M,h:()=>as,i:()=>Na,j:()=>de,k:()=>Mg,l:()=>ss,m:()=>bd,o:()=>ue,r:()=>tc,s:()=>zn,u:()=>sr});var l=P(5861),V=P(2090),x=P(9681),oe=P(655),le=P(1877),ge=P(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},$={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Se=function ie(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Oe=function Be(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ce=new le.Yd("@firebase/auth");function Ue(y,...p){Ce.logLevel<=le.in.ERROR&&Ce.error(`Auth (${x.SDK_VERSION}): ${y}`,...p)}function Ve(y,...p){throw He(y,...p)}function Ae(y,...p){return He(y,...p)}function Me(y,p,g){const C=Object.assign(Object.assign({},Oe()),{[p]:g});return new V.LL("auth","Firebase",C).create(p,{appName:y.name})}function ve(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ve(y,"argument-error"),Me(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function He(y,...p){if("string"!=typeof y){const g=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(g,...C)}return Ne.create(y,...p)}function ne(y,p,...g){if(!y)throw He(p,...g)}function he(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ue(p),new Error(p)}function U(y,p){y||he(p)}const X=new Map;function ae(y){U(y instanceof Function,"Expected a class definition");let p=X.get(y);return p?(U(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,X.set(y,p),p)}function se(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function rt(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class st{constructor(p,g){this.shortDelay=p,this.longDelay=g,U(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Tn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(rt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dn(y,p){U(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Wt{static initialize(p,g,C){this.fetchImpl=p,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},qt=new st(3e4,6e4);function Rt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function Gt(y,p,g,C){return dn.apply(this,arguments)}function dn(){return(dn=(0,l.Z)(function*(y,p,g,C,S={}){return qr(y,S,(0,l.Z)(function*(){let N={},te={};C&&("GET"===p?te=C:N={body:JSON.stringify(C)});const be=(0,V.xO)(Object.assign({key:y.config.apiKey},te)).slice(1),ze=yield y._getAdditionalHeaders();return ze["Content-Type"]="application/json",y.languageCode&&(ze["X-Firebase-Locale"]=y.languageCode),Wt.fetch()(Nr(y,y.config.apiHost,g,be),Object.assign({method:p,headers:ze,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function qr(y,p,g){return lr.apply(this,arguments)}function lr(){return(lr=(0,l.Z)(function*(y,p,g){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Bn),p);try{const S=new Yr(y),N=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const te=yield N.json();if("needConfirmation"in te)throw In(y,"account-exists-with-different-credential",te);if(N.ok&&!("errorMessage"in te))return te;{const be=N.ok?te.errorMessage:te.error.message,[ze,at]=be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ze)throw In(y,"credential-already-in-use",te);if("EMAIL_EXISTS"===ze)throw In(y,"email-already-in-use",te);if("USER_DISABLED"===ze)throw In(y,"user-disabled",te);const Ot=C[ze]||ze.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw Me(y,Ot,at);Ve(y,Ot)}}catch(S){if(S instanceof V.ZR)throw S;Ve(y,"network-request-failed")}})).apply(this,arguments)}function gn(y,p,g,C){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,l.Z)(function*(y,p,g,C,S={}){const N=yield Gt(y,p,g,C,S);return"mfaPendingCredential"in N&&Ve(y,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Nr(y,p,g,C){const S=`${p}${g}?${C}`;return y.config.emulator?Dn(y.config,S):`${y.config.apiScheme}://${S}`}class Yr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(Ae(this.auth,"network-request-failed")),qt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function In(y,p,g){const C={appName:y.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const S=Ae(y,p,C);return S.customData._tokenResponse=g,S}function it(){return(it=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ur(y,p){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zt(y,p){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function cr(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function jn(){return(jn=(0,l.Z)(function*(y,p=!1){const g=(0,V.m9)(y),C=yield g.getIdToken(p),S=Mt(C);ne(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const N="object"==typeof S.firebase?S.firebase:void 0,te=null==N?void 0:N.sign_in_provider;return{claims:S,token:C,authTime:cr(Di(S.auth_time)),issuedAtTime:cr(Di(S.iat)),expirationTime:cr(Di(S.exp)),signInProvider:te||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Di(y){return 1e3*Number(y)}function Mt(y){var p;const[g,C,S]=y.split(".");if(void 0===g||void 0===C||void 0===S)return Ue("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,V.tV)(C);return N?JSON.parse(N):(Ue("Failed to decode base64 JWT payload"),null)}catch(N){return Ue("Caught error parsing JWT payload as JSON",null===(p=N)||void 0===p?void 0:p.toString()),null}}function qe(y,p){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(C){throw C instanceof V.ZR&&Fr(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function Fr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class xt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),C)}iteration(){var p=this;return(0,l.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(g=C)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class Kr{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=cr(this.lastLoginAt),this.creationTime=cr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Sn(y){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,l.Z)(function*(y){var p;const g=y.auth,C=yield y.getIdToken(),S=yield qe(y,zt(g,{idToken:C}));ne(null==S?void 0:S.users.length,g,"internal-error");const N=S.users[0];y._notifyReloadListener(N);const te=(null===(p=N.providerUserInfo)||void 0===p?void 0:p.length)?H(N.providerUserInfo):[],be=W(y.providerData,te),Ot=!!y.isAnonymous&&!(y.email&&N.passwordHash||(null==be?void 0:be.length)),pn={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:be,metadata:new Kr(N.createdAt,N.lastLoginAt),isAnonymous:Ot};Object.assign(y,pn)})).apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(y){const p=(0,V.m9)(y);yield Sn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function W(y,p){return[...y.filter(C=>!p.some(S=>S.providerId===C.providerId)),...p]}function H(y){return y.map(p=>{var{providerId:g}=p,C=(0,oe._T)(p,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function j(){return(j=(0,l.Z)(function*(y,p){const g=yield qr(y,{},(0,l.Z)(function*(){const C=(0,V.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:N}=y.config,te=Nr(y,S,"/v1/token",`key=${N}`),be=yield y._getAdditionalHeaders();return be["Content-Type"]="application/x-www-form-urlencoded",Wt.fetch()(te,{method:"POST",headers:be,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class G{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ne(p.idToken,"internal-error"),ne(void 0!==p.idToken,"internal-error"),ne(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function Xe(y){const p=Mt(y);return ne(p,"internal-error"),ne(void 0!==p.exp,"internal-error"),ne(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var C=this;return(0,l.Z)(function*(){return ne(!C.accessToken||C.refreshToken,p,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var C=this;return(0,l.Z)(function*(){const{accessToken:S,refreshToken:N,expiresIn:te}=yield function B(y,p){return j.apply(this,arguments)}(p,g);C.updateTokensAndExpiration(S,N,Number(te))})()}updateTokensAndExpiration(p,g,C){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,g){const{refreshToken:C,accessToken:S,expirationTime:N}=g,te=new G;return C&&(ne("string"==typeof C,"internal-error",{appName:p}),te.refreshToken=C),S&&(ne("string"==typeof S,"internal-error",{appName:p}),te.accessToken=S),N&&(ne("number"==typeof N,"internal-error",{appName:p}),te.expirationTime=N),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new G,this.toJSON())}_performRefresh(){return he("not implemented")}}function De(y,p){ne("string"==typeof y||void 0===y,"internal-error",{appName:p})}class Le{constructor(p){var{uid:g,auth:C,stsTokenManager:S}=p,N=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new Kr(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const C=yield qe(g,g.stsTokenManager.getToken(g.auth,p));return ne(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(p){return function fn(y){return jn.apply(this,arguments)}(this,p)}reload(){return function tt(y){return _r.apply(this,arguments)}(this)}_assign(p){this!==p&&(ne(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Le(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var C=this;return(0,l.Z)(function*(){let S=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),S=!0),g&&(yield Sn(C)),yield C.auth._persistUserIfCurrent(C),S&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield qe(p,function di(y,p){return it.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var C,S,N,te,be,ze,at,Ot;const pn=null!==(C=g.displayName)&&void 0!==C?C:void 0,Ei=null!==(S=g.email)&&void 0!==S?S:void 0,$i=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,Td=null!==(te=g.photoURL)&&void 0!==te?te:void 0,Og=null!==(be=g.tenantId)&&void 0!==be?be:void 0,Bl=null!==(ze=g._redirectEventId)&&void 0!==ze?ze:void 0,cf=null!==(at=g.createdAt)&&void 0!==at?at:void 0,cc=null!==(Ot=g.lastLoginAt)&&void 0!==Ot?Ot:void 0,{uid:Dd,emailVerified:df,isAnonymous:Id,providerData:Ga,stsTokenManager:Sd}=g;ne(Dd&&Sd,p,"internal-error");const Ad=G.fromJSON(this.name,Sd);ne("string"==typeof Dd,p,"internal-error"),De(pn,p.name),De(Ei,p.name),ne("boolean"==typeof df,p,"internal-error"),ne("boolean"==typeof Id,p,"internal-error"),De($i,p.name),De(Td,p.name),De(Og,p.name),De(Bl,p.name),De(cf,p.name),De(cc,p.name);const jr=new Le({uid:Dd,auth:p,email:Ei,emailVerified:df,displayName:pn,isAnonymous:Id,photoURL:Td,phoneNumber:$i,tenantId:Og,stsTokenManager:Ad,createdAt:cf,lastLoginAt:cc});return Ga&&Array.isArray(Ga)&&(jr.providerData=Ga.map(Fn=>Object.assign({},Fn))),Bl&&(jr._redirectEventId=Bl),jr}static _fromIdTokenResponse(p,g,C=!1){return(0,l.Z)(function*(){const S=new G;S.updateFromServerResponse(g);const N=new Le({uid:g.localId,auth:p,stsTokenManager:S,isAnonymous:C});return yield Sn(N),N})()}}const jt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,C){var S=this;return(0,l.Z)(function*(){S.storage[g]=C})()}_get(g){var C=this;return(0,l.Z)(function*(){const S=C.storage[g];return void 0===S?null:S})()}_remove(g){var C=this;return(0,l.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return y.type="NONE",y})();function Ut(y,p,g){return`firebase:${y}:${p}:${g}`}class $n{constructor(p,g,C){this.persistence=p,this.auth=g,this.userKey=C;const{config:S,name:N}=this.auth;this.fullUserKey=Ut(this.userKey,S.apiKey,N),this.fullPersistenceKey=Ut("persistence",S.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Le._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,C="authUser"){return(0,l.Z)(function*(){if(!g.length)return new $n(ae(jt),p,C);const S=(yield Promise.all(g.map(function(){var at=(0,l.Z)(function*(Ot){if(yield Ot._isAvailable())return Ot});return function(Ot){return at.apply(this,arguments)}}()))).filter(at=>at);let N=S[0]||ae(jt);const te=Ut(C,p.config.apiKey,p.name);let be=null;for(const at of g)try{const Ot=yield at._get(te);if(Ot){const pn=Le._fromJSON(p,Ot);at!==N&&(be=pn),N=at;break}}catch(Ot){}const ze=S.filter(at=>at._shouldAllowMigration);return N._shouldAllowMigration&&ze.length?(N=ze[0],be&&(yield N._set(te,be.toJSON())),yield Promise.all(g.map(function(){var at=(0,l.Z)(function*(Ot){if(Ot!==N)try{yield Ot._remove(te)}catch(pn){}});return function(Ot){return at.apply(this,arguments)}}())),new $n(N,p,C)):new $n(N,p,C)})()}}function J(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if($e(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(K(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ft(p))return"Blackberry";if(Nt(p))return"Webos";if(q(p))return"Safari";if((p.includes("chrome/")||we(p))&&!p.includes("edge/"))return"Chrome";if(Ke(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==C?void 0:C.length))return C[1]}return"Other"}function K(y=(0,V.z$)()){return/firefox\//i.test(y)}function q(y=(0,V.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function we(y=(0,V.z$)()){return/crios\//i.test(y)}function $e(y=(0,V.z$)()){return/iemobile/i.test(y)}function Ke(y=(0,V.z$)()){return/android/i.test(y)}function ft(y=(0,V.z$)()){return/blackberry/i.test(y)}function Nt(y=(0,V.z$)()){return/webos/i.test(y)}function St(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Pn(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}function dr(y=(0,V.z$)()){return St(y)||Ke(y)||Nt(y)||ft(y)||/windows phone/i.test(y)||$e(y)}function Zn(y,p=[]){let g;switch(y){case"Browser":g=J((0,V.z$)());break;case"Worker":g=`${J((0,V.z$)())}-${y}`;break;default:g=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${x.SDK_VERSION}/${C}`}class Po{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const C=N=>new Promise((te,be)=>{try{te(p(N))}catch(ze){be(ze)}});C.onAbort=g,this.queue.push(C);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,l.Z)(function*(){var C;if(g.auth.currentUser===p)return;const S=[];try{for(const N of g.queue)yield N(p),N.onAbort&&S.push(N.onAbort)}catch(N){S.reverse();for(const te of S)try{te()}catch(be){}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=N)||void 0===C?void 0:C.message})}})()}}class br{constructor(p,g,C){this.app=p,this.heartbeatServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dt(this),this.idTokenSubscription=new Dt(this),this.beforeStateQueue=new Po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,g){var C=this;return g&&(this._popupRedirectResolver=ae(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var S,N;if(!C._deleted&&(C.persistenceManager=yield $n.create(C,p),!C._deleted)){if(null===(S=C._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch(te){}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(N=C.currentUser)||void 0===N?void 0:N.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var C;const S=yield g.assertedPersistence.getCurrentUser();let N=S,te=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const be=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,ze=null==N?void 0:N._redirectEventId,at=yield g.tryRedirectSignIn(p);(!be||be===ze)&&(null==at?void 0:at.user)&&(N=at.user,te=!0)}if(!N)return g.directlySetCurrentUser(null);if(!N._redirectEventId){if(te)try{yield g.beforeStateQueue.runMiddleware(N)}catch(be){N=S,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(be))}return N?g.reloadAndSetCurrentUserOrClear(N):g.directlySetCurrentUser(null)}return ne(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===N._redirectEventId?g.directlySetCurrentUser(N):g.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(S){yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){var C;try{yield Sn(p)}catch(S){if("auth/network-request-failed"!==(null===(C=S)||void 0===C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ze(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const C=p?(0,V.m9)(p):null;return C&&ne(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(p,g=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return p&&ne(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(ae(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.LL("auth","Firebase",p())}onAuthStateChanged(p,g,C){return this.registerStateListener(this.authStateSubscription,p,g,C)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,C){return this.registerStateListener(this.idTokenSubscription,p,g,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var C=this;return(0,l.Z)(function*(){const S=yield C.getOrInitRedirectPersistenceManager(g);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const C=p&&ae(p)||g._popupRedirectResolver;ne(C,g,"argument-error"),g.redirectPersistenceManager=yield $n.create(g,[ae(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var C,S;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===p?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,C,S){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),te=this._isInitialized?Promise.resolve():this._initializationPromise;return ne(te,this,"internal-error"),te.then(()=>N(this.currentUser)),"function"==typeof g?p.addObserver(g,C,S):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Zn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var g;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(C["X-Firebase-Client"]=S),C})()}}function Re(y){return(0,V.m9)(y)}class Dt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.ne)(g=>this.observer=g)}get next(){return ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rn(y,p,g){const C=Re(y);ne(C._canInitEmulator,C,"emulator-config-failed"),ne(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),N=yr(p),{host:te,port:be}=function Ii(y){const p=yr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(C);if(S){const N=S[1];return{host:N,port:On(C.substr(N.length+1))}}{const[N,te]=C.split(":");return{host:N,port:On(te)}}}(p);C.config.emulator={url:`${N}//${te}${null===be?"":`:${be}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:te,port:be,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Si(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}function yr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function On(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Yt{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return he("not implemented")}_getIdTokenResponse(p){return he("not implemented")}_linkToIdToken(p,g){return he("not implemented")}_getReauthenticationResolver(p){return he("not implemented")}}function ws(y,p){return An.apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:resetPassword",Rt(y,p))})).apply(this,arguments)}function wt(y,p){return to.apply(this,arguments)}function to(){return(to=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ai(y,p){return no.apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:update",Rt(y,p))})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(y,p){return gn(y,"POST","/v1/accounts:signInWithPassword",Rt(y,p))})).apply(this,arguments)}function Ki(y,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:sendOobCode",Rt(y,p))})).apply(this,arguments)}function ln(y,p){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(y,p){return Ki(y,p)})).apply(this,arguments)}function Ou(y,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(y,p){return Ki(y,p)})).apply(this,arguments)}function Qr(y,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(y,p){return Ki(y,p)})).apply(this,arguments)}function Ru(y,p){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,l.Z)(function*(y,p){return Ki(y,p)})).apply(this,arguments)}function Vr(){return(Vr=(0,l.Z)(function*(y,p){return gn(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,p))})).apply(this,arguments)}function Nu(){return(Nu=(0,l.Z)(function*(y,p){return gn(y,"POST","/v1/accounts:signInWithEmailLink",Rt(y,p))})).apply(this,arguments)}class Ca extends Yt{constructor(p,g,C,S=null){super("password",C),this._email=p,this._password=g,this._tenantId=S}static _fromEmailAndPassword(p,g){return new Ca(p,g,"password")}static _fromEmailAndCode(p,g,C=null){return new Ca(p,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){switch(g.signInMethod){case"password":return function ro(y,p){return Rn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Qi(y,p){return Vr.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ve(p,"internal-error")}})()}_linkToIdToken(p,g){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return wt(p,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function ml(y,p){return Nu.apply(this,arguments)}(p,{idToken:g,email:C._email,oobCode:C._password});default:Ve(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Vn(y,p){return ku.apply(this,arguments)}function ku(){return(ku=(0,l.Z)(function*(y,p){return gn(y,"POST","/v1/accounts:signInWithIdp",Rt(y,p))})).apply(this,arguments)}class Mi extends Yt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Mi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ve("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S}=g,N=(0,oe._T)(g,["providerId","signInMethod"]);if(!C||!S)return null;const te=new Mi(C,S);return te.idToken=N.idToken||void 0,te.accessToken=N.accessToken||void 0,te.secret=N.secret,te.nonce=N.nonce,te.pendingToken=N.pendingToken||null,te}_getIdTokenResponse(p){return Vn(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,Vn(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Vn(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,V.xO)(g)}return p}}function Hh(y,p){return wa.apply(this,arguments)}function wa(){return(wa=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:sendVerificationCode",Rt(y,p))})).apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(y,p){return gn(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,p))})).apply(this,arguments)}function Fu(){return(Fu=(0,l.Z)(function*(y,p){const g=yield gn(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,p));if(g.temporaryProof)throw In(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const $h={USER_NOT_FOUND:"user-not-found"};function Lu(){return(Lu=(0,l.Z)(function*(y,p){return gn(y,"POST","/v1/accounts:signInWithPhoneNumber",Rt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),$h)})).apply(this,arguments)}class so extends Yt{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new so({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new so({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function jh(y,p){return Oo.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function io(y,p){return Fu.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Wh(y,p){return Lu.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:C,verificationCode:S}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:C,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:C,phoneNumber:S,temporaryProof:N}=p;return C||g||S||N?new so({verificationId:g,verificationCode:C,phoneNumber:S,temporaryProof:N}):null}}class xi{constructor(p){var g,C,S,N,te,be;const ze=(0,V.zd)((0,V.pd)(p)),at=null!==(g=ze.apiKey)&&void 0!==g?g:null,Ot=null!==(C=ze.oobCode)&&void 0!==C?C:null,pn=function Gh(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=ze.mode)&&void 0!==S?S:null);ne(at&&Ot&&pn,"argument-error"),this.apiKey=at,this.operation=pn,this.code=Ot,this.continueUrl=null!==(N=ze.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(te=ze.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(be=ze.tenantId)&&void 0!==be?be:null}static parseLink(p){const g=function od(y){const p=(0,V.zd)((0,V.pd)(y)).link,g=p?(0,V.zd)((0,V.pd)(p)).deep_link_id:null,C=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(C?(0,V.zd)((0,V.pd)(C)).link:null)||C||g||p||y}(p);try{return new xi(g)}catch(C){return null}}}let Ro=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,C){return Ca._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const S=xi.parseLink(C);return ne(S,"argument-error"),Ca._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ji{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Br extends Ji{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class oo extends Br{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return ne("providerId"in g&&"signInMethod"in g,"argument-error"),Mi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ne(p.idToken||p.accessToken,"argument-error"),Mi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return oo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return oo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:S,pendingToken:N,nonce:te,providerId:be}=p;if(!C&&!S&&!g&&!N||!be)return null;try{return new oo(be)._credential({idToken:g,accessToken:C,nonce:te,pendingToken:N})}catch(ze){return null}}}let No=(()=>{class y extends Br{constructor(){super("facebook.com")}static credential(g){return Mi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(C){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),ko=(()=>{class y extends Br{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return Mi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:S}=g;if(!C&&!S)return null;try{return y.credential(C,S)}catch(N){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ad=(()=>{class y extends Br{constructor(){super("github.com")}static credential(g){return Mi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(C){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Xi extends Yt{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Vn(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,Vn(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Vn(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:S,pendingToken:N}=g;return C&&S&&N&&C===S?new Xi(C,N):null}static _create(p,g){return new Xi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Pi extends Ji{constructor(p){ne(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Pi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Pi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Xi.fromJSON(p);return ne(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:C}=p;if(!g||!C)return null;try{return Xi._create(C,g)}catch(S){return null}}}let Jr=(()=>{class y extends Br{constructor(){super("twitter.com")}static credential(g,C){return Mi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:S}=g;if(!C||!S)return null;try{return y.credential(C,S)}catch(N){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Bu(y,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,l.Z)(function*(y,p){return gn(y,"POST","/v1/accounts:signUp",Rt(y,p))})).apply(this,arguments)}class Yn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,C,S=!1){return(0,l.Z)(function*(){const N=yield Le._fromIdTokenResponse(p,C,S),te=Uu(C);return new Yn({user:N,providerId:te,_tokenResponse:C,operationType:g})})()}static _forOperation(p,g,C){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const S=Uu(C);return new Yn({user:p,providerId:S,_tokenResponse:C,operationType:g})})()}}function Uu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Hu(y){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.Z)(function*(y){var p;const g=Re(y);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Yn({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Bu(g,{returnSecureToken:!0}),S=yield Yn._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class ao extends V.ZR{constructor(p,g,C,S){var N;super(g.code,g.message),this.operationType=C,this.user=S,Object.setPrototypeOf(this,ao.prototype),this.customData={appName:p.name,tenantId:null!==(N=p.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,g,C,S){return new ao(p,g,C,S)}}function Ta(y,p,g,C){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ao._fromErrorAndOperation(y,N,p,C):N})}function _l(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function Oi(y,p){return yl.apply(this,arguments)}function yl(){return(yl=(0,l.Z)(function*(y,p){const g=(0,V.m9)(y);yield es(!0,g,p);const{providerUserInfo:C}=yield ur(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),S=_l(C||[]);return g.providerData=g.providerData.filter(N=>S.has(N.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function sn(y,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,l.Z)(function*(y,p,g=!1){const C=yield qe(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Yn._forOperation(y,"link",C)})).apply(this,arguments)}function es(y,p,g){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,l.Z)(function*(y,p,g){yield Sn(p);const S=!1===y?"provider-already-linked":"no-such-provider";ne(_l(p.providerData).has(g)===y,p.auth,S)})).apply(this,arguments)}function Da(y,p){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(y,p,g=!1){var C;const{auth:S}=y,N="reauthenticate";try{const te=yield qe(y,Ta(S,N,p,y),g);ne(te.idToken,S,"internal-error");const be=Mt(te.idToken);ne(be,S,"internal-error");const{sub:ze}=be;return ne(y.uid===ze,S,"user-mismatch"),Yn._forOperation(y,N,te)}catch(te){throw"auth/user-not-found"===(null===(C=te)||void 0===C?void 0:C.code)&&Ve(S,"user-mismatch"),te}})).apply(this,arguments)}function Ds(y,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(y,p,g=!1){const C="signIn",S=yield Ta(y,C,p),N=yield Yn._fromIdTokenResponse(y,C,S);return g||(yield y._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Ia(y,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(y,p){return Ds(Re(y),p)})).apply(this,arguments)}function Ri(y,p){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,l.Z)(function*(y,p){const g=(0,V.m9)(y);return yield es(!1,g,p.providerId),sn(g,p)})).apply(this,arguments)}function lo(y,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(y,p){return Da((0,V.m9)(y),p)})).apply(this,arguments)}function vl(y,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,l.Z)(function*(y,p){return gn(y,"POST","/v1/accounts:signInWithCustomToken",Rt(y,p))})).apply(this,arguments)}function ts(y,p){return ns.apply(this,arguments)}function ns(){return(ns=(0,l.Z)(function*(y,p){const g=Re(y),C=yield vl(g,{token:p,returnSecureToken:!0}),S=yield Yn._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class ot{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Vo._fromServerResponse(p,g):Ve(p,"internal-error")}}class Vo extends ot{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Vo(g)}}function Bo(y,p,g){var C;ne((null===(C=g.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),ne(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(ne(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(ne(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function ju(y,p,g){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y),S={requestType:"PASSWORD_RESET",email:p};g&&Bo(C,S,g),yield Ou(C,S)})).apply(this,arguments)}function El(y,p,g){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,l.Z)(function*(y,p,g){yield ws((0,V.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function ld(y,p){return Te.apply(this,arguments)}function Te(){return(Te=(0,l.Z)(function*(y,p){yield Ai((0,V.m9)(y),{oobCode:p})})).apply(this,arguments)}function Pt(y,p){return jo.apply(this,arguments)}function jo(){return(jo=(0,l.Z)(function*(y,p){const g=(0,V.m9)(y),C=yield ws(g,{oobCode:p}),S=C.requestType;switch(ne(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ne(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ne(C.mfaInfo,g,"internal-error");default:ne(C.email,g,"internal-error")}let N=null;return C.mfaInfo&&(N=ot._fromServerResponse(Re(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:N},operation:S}})).apply(this,arguments)}function En(y,p){return rs.apply(this,arguments)}function rs(){return(rs=(0,l.Z)(function*(y,p){const{data:g}=yield Pt((0,V.m9)(y),p);return g.email})).apply(this,arguments)}function $o(y,p,g){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.Z)(function*(y,p,g){const C=Re(y),S=yield Bu(C,{returnSecureToken:!0,email:p,password:g}),N=yield Yn._fromIdTokenResponse(C,"signIn",S);return yield C._updateCurrentUser(N.user),N})).apply(this,arguments)}function Cl(y,p,g){return Ia((0,V.m9)(y),Ro.credential(p,g))}function wl(y,p,g){return $u.apply(this,arguments)}function $u(){return($u=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y),S={requestType:"EMAIL_SIGNIN",email:p};ne(g.handleCodeInApp,C,"argument-error"),g&&Bo(C,S,g),yield Qr(C,S)})).apply(this,arguments)}function Wu(y,p){const g=xi.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}function Wo(y,p,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y),S=Ro.credentialWithLink(p,g||se());return ne(S._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ia(C,S)})).apply(this,arguments)}function Wn(y,p){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:createAuthUri",Rt(y,p))})).apply(this,arguments)}function bl(y,p){return pi.apply(this,arguments)}function pi(){return(pi=(0,l.Z)(function*(y,p){const C={identifier:p,continueUri:rt()?se():"http://localhost"},{signinMethods:S}=yield Wn((0,V.m9)(y),C);return S||[]})).apply(this,arguments)}function Ni(y,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(y,p){const g=(0,V.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Bo(g.auth,S,p);const{email:N}=yield ln(g.auth,S);N!==y.email&&(yield y.reload())})).apply(this,arguments)}function Gu(y,p,g){return zo.apply(this,arguments)}function zo(){return(zo=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Bo(C.auth,N,g);const{email:te}=yield Ru(C.auth,N);te!==y.email&&(yield y.reload())})).apply(this,arguments)}function zu(y,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(y,p){return Gt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Sa(y,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const C=(0,V.m9)(y),N={idToken:yield C.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},te=yield qe(C,zu(C.auth,N));C.displayName=te.displayName||null,C.photoURL=te.photoUrl||null;const be=C.providerData.find(({providerId:ze})=>"password"===ze);be&&(be.displayName=C.displayName,be.photoURL=C.photoURL),yield C._updateTokensIfNecessary(te)})).apply(this,arguments)}function Tl(y,p){return Aa((0,V.m9)(y),p,null)}function Zh(y,p){return Aa((0,V.m9)(y),null,p)}function Aa(y,p,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,l.Z)(function*(y,p,g){const{auth:C}=y,N={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(N.email=p),g&&(N.password=g);const te=yield qe(y,wt(C,N));yield y._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class As{constructor(p,g,C={}){this.isNewUser=p,this.providerId=g,this.profile=C}}class Zu extends As{constructor(p,g,C,S){super(p,g,C),this.username=S}}class ud extends As{constructor(p,g){super(p,"facebook.com",g)}}class co extends Zu{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class gi extends As{constructor(p,g){super(p,"google.com",g)}}class cd extends Zu{constructor(p,g,C){super(p,"twitter.com",g,C)}}function Jn(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Dl(y){var p,g;if(!y)return null;const{providerId:C}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},N=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&(null==y?void 0:y.idToken)){const te=null===(g=null===(p=Mt(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(te)return new As(N,"anonymous"!==te&&"custom"!==te?te:null)}if(!C)return null;switch(C){case"facebook.com":return new ud(N,S);case"github.com":return new co(N,S);case"google.com":return new gi(N,S);case"twitter.com":return new cd(N,S,y.screenName||null);case"custom":case"anonymous":return new As(N,null);default:return new As(N,C,S)}}(g)}class Fi{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new Fi("enroll",p)}static _fromMfaPendingCredential(p){return new Fi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,C;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Fi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(C=p.multiFactorSession)||void 0===C?void 0:C.idToken)return Fi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Yo{constructor(p,g,C){this.session=p,this.hints=g,this.signInResolver=C}static _fromError(p,g){const C=Re(p),S=g.customData._serverResponse,N=(S.mfaInfo||[]).map(be=>ot._fromServerResponse(C,be));ne(S.mfaPendingCredential,C,"internal-error");const te=Fi._fromMfaPendingCredential(S.mfaPendingCredential);return new Yo(te,N,function(){var be=(0,l.Z)(function*(ze){const at=yield ze._process(C,te);delete S.mfaInfo,delete S.mfaPendingCredential;const Ot=Object.assign(Object.assign({},S),{idToken:at.idToken,refreshToken:at.refreshToken});switch(g.operationType){case"signIn":const pn=yield Yn._fromIdTokenResponse(C,g.operationType,Ot);return yield C._updateCurrentUser(pn.user),pn;case"reauthenticate":return ne(g.user,C,"internal-error"),Yn._forOperation(g.user,g.operationType,Ot);default:Ve(C,"internal-error")}});return function(ze){return be.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}function Ma(y,p){var g;const C=(0,V.m9)(y),S=p;return ne(p.customData.operationType,C,"argument-error"),ne(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),Yo._fromError(C,S)}function Xn(y,p){return Gt(y,"POST","/v2/accounts/mfaEnrollment:start",Rt(y,p))}class ho{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>ot._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new ho(p)}getSession(){var p=this;return(0,l.Z)(function*(){return Fi._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var C=this;return(0,l.Z)(function*(){const S=p,N=yield C.getSession(),te=yield qe(C.user,S._process(C.user.auth,N,g));return yield C.user._updateTokensIfNecessary(te),C.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){var C;const S="string"==typeof p?p:p.uid,N=yield g.user.getIdToken(),te=yield qe(g.user,function Ms(y,p){return Gt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Rt(y,p))}(g.user.auth,{idToken:N,mfaEnrollmentId:S}));g.enrolledFactors=g.enrolledFactors.filter(({uid:be})=>be!==S),yield g.user._updateTokensIfNecessary(te);try{yield g.user.reload()}catch(be){if("auth/user-token-expired"!==(null===(C=be)||void 0===C?void 0:C.code))throw be}})()}}const Yu=new WeakMap;function Ku(y){const p=(0,V.m9)(y);return Yu.has(p)||Yu.set(p,ho._fromUser(p)),Yu.get(p)}const xs="__sak";class Ko{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(xs,"1"),this.storage.removeItem(xs),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const un=(()=>{class y extends Ko{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fd(){const y=(0,V.z$)();return q(y)||St(y)}()&&function hi(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=dr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const S=this.storage.getItem(C),N=this.localCache[C];S!==N&&g(C,N,S)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((be,ze,at)=>{this.notifyListeners(be,at)});const S=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const be=this.storage.getItem(S);if(g.newValue!==be)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!C)return}const N=()=>{const be=this.storage.getItem(S);!C&&this.localCache[S]===be||this.notifyListeners(S,be)},te=this.storage.getItem(S);!function At(){return(0,V.w1)()&&10===document.documentMode}()||te===g.newValue||g.newValue===g.oldValue?N():setTimeout(N,10)}notifyListeners(g,C){this.localCache[g]=C;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var S=()=>super._set,N=this;return(0,l.Z)(function*(){yield S().call(N,g,C),N.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,S=this;return(0,l.Z)(function*(){const N=yield C().call(S,g);return S.localCache[g]=JSON.stringify(N),N})()}_remove(g){var C=()=>super._remove,S=this;return(0,l.Z)(function*(){yield C().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),en=(()=>{class y extends Ko{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return y.type="SESSION",y})();let xa=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(N=>N.isListeningto(g));if(C)return C;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,l.Z)(function*(){const S=g,{eventId:N,eventType:te,data:be}=S.data,ze=C.handlersMap[te];if(!(null==ze?void 0:ze.size))return;S.ports[0].postMessage({status:"ack",eventId:N,eventType:te});const at=Array.from(ze).map(function(){var pn=(0,l.Z)(function*(Ei){return Ei(S.origin,be)});return function(Ei){return pn.apply(this,arguments)}}()),Ot=yield function Qo(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return p.apply(this,arguments)}}()))}(at);S.ports[0].postMessage({status:"done",eventId:N,eventType:te,response:Ot})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function bt(y="",p=10){let g="";for(let C=0;C<p;C++)g+=Math.floor(10*Math.random());return y+g}class Jo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,C=50){var S=this;return(0,l.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let te,be;return new Promise((ze,at)=>{const Ot=bt("",20);N.port1.start();const pn=setTimeout(()=>{at(new Error("unsupported_event"))},C);be={messageChannel:N,onMessage(Ei){const $i=Ei;if($i.data.eventId===Ot)switch($i.data.status){case"ack":clearTimeout(pn),te=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),ze($i.data.response);break;default:clearTimeout(pn),clearTimeout(te),at(new Error("invalid_response"))}}},S.handlers.add(be),N.port1.addEventListener("message",be.onMessage),S.target.postMessage({eventType:p,eventId:Ot,data:g},[N.port2])}).finally(()=>{be&&S.removeMessageHandler(be)})})()}}function mn(){return window}function Ps(){return void 0!==mn().WorkerGlobalScope&&"function"==typeof mn().importScripts}function Pa(){return(Pa=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Sl="firebaseLocalStorageDb",Vi="firebaseLocalStorage",is="fbase_key";class _t{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ur(y,p){return y.transaction([Vi],p?"readwrite":"readonly").objectStore(Vi)}function ea(){const y=indexedDB.open(Sl,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Vi,{keyPath:is})}catch(S){g(S)}}),y.addEventListener("success",(0,l.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Vi)?p(C):(C.close(),yield function Xo(){const y=indexedDB.deleteDatabase(Sl);return new _t(y).toPromise()}(),p(yield ea()))}))})}function Al(y,p,g){return po.apply(this,arguments)}function po(){return(po=(0,l.Z)(function*(y,p,g){const C=Ur(y,!0).put({[is]:p,value:g});return new _t(C).toPromise()})).apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(y,p){const g=Ur(y,!1).get(p),C=yield new _t(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Oa(y,p){const g=Ur(y,!0).delete(p);return new _t(g).toPromise()}const Na=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield ea()),g.db})()}_withRetries(g){var C=this;return(0,l.Z)(function*(){let S=0;for(;;)try{const N=yield C._openDb();return yield g(N)}catch(N){if(S++>3)throw N;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return Ps()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=xa._getInstance(function Qu(){return Ps()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(S,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(S,N){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(S,N){return["keyChanged"]});return function(S,N){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var C,S;if(g.activeServiceWorker=yield function Os(){return Pa.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Jo(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(C=N[0])||void 0===C?void 0:C.fulfilled)&&(null===(S=N[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function fo(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield ea();return yield Al(g,xs,"1"),yield Oa(g,xs),!0}catch(g){}return!1})()}_withPendingWrite(g){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var S=this;return(0,l.Z)(function*(){return S._withPendingWrite((0,l.Z)(function*(){return yield S._withRetries(N=>Al(N,g,C)),S.localCache[g]=C,S.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,l.Z)(function*(){const S=yield C._withRetries(N=>function Ju(y,p){return go.apply(this,arguments)}(N,g));return C.localCache[g]=S,S})()}_remove(g){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(S=>Oa(S,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const C=yield g._withRetries(te=>{const be=Ur(te,!1).getAll();return new _t(be).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const S=[],N=new Set;for(const{fbase_key:te,value:be}of C)N.add(te),JSON.stringify(g.localCache[te])!==JSON.stringify(be)&&(g.notifyListeners(te,be),S.push(te));for(const te of Object.keys(g.localCache))g.localCache[te]&&!N.has(te)&&(g.notifyListeners(te,null),S.push(te));return S})()}notifyListeners(g,C){this.localCache[g]=C;const S=this.listeners[g];if(S)for(const N of Array.from(S))N(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function pd(y,p){return Gt(y,"POST","/v2/accounts/mfaSignIn:start",Rt(y,p))}function Hr(){return(Hr=(0,l.Z)(function*(y){return(yield Gt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function na(y){return new Promise((p,g)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=S=>{const N=Ae("internal-error");N.customData=S,g(N)},C.type="text/javascript",C.charset="UTF-8",function Fa(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function mi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Dr=1e12;class ra{constructor(p){this.auth=p,this.counter=Dr,this._widgets=new Map}render(p,g){const C=this.counter;return this._widgets.set(C,new ia(p,this.auth.name,g||{})),this.counter++,C}reset(p){var g;const C=p||Dr;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Dr))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var C;return null===(C=g._widgets.get(p||Dr))||void 0===C||C.execute(),""})()}}class ia{constructor(p,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;ne(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Kh(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(C){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(C){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ml=mi("rcb"),Nn=new st(3e4,6e4);class Qh{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(p=mn().grecaptcha)||void 0===p?void 0:p.render)}load(p,g=""){return ne(function ec(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(mn().grecaptcha):new Promise((C,S)=>{const N=mn().setTimeout(()=>{S(Ae(p,"network-request-failed"))},Nn.get());mn()[Ml]=()=>{mn().clearTimeout(N),delete mn()[Ml];const be=mn().grecaptcha;if(!be)return void S(Ae(p,"internal-error"));const ze=be.render;be.render=(at,Ot)=>{const pn=ze(at,Ot);return this.counter++,pn},this.hostLanguage=g,C(be)},na(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Ml,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),S(Ae(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!!(null===(g=mn().grecaptcha)||void 0===g?void 0:g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wg{load(p){return(0,l.Z)(function*(){return new ra(p)})()}clearedOneInstance(){}}const Jh="recaptcha",bg={theme:"light",type:"image"};class Tg{constructor(p,g=Object.assign({},bg),C){this.parameters=g,this.type=Jh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Re(C),this.isInvisible="invisible"===this.parameters.size,ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;ne(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wg:new Qh,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(g)||new Promise(N=>{const te=be=>{!be||(p.tokenChangeListeners.delete(te),N(be))};p.tokenChangeListeners.add(te),p.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ne(!this.parameters.sitekey,this.auth,"argument-error"),ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof p)p(g);else if("string"==typeof p){const C=mn()[p];"function"==typeof C&&C(g)}}}assertNotDestroyed(){ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){ne(rt()&&!Ps(),p.auth,"internal-error"),yield function La(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function mo(y){return Hr.apply(this,arguments)}(p.auth);ne(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class md{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=so._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function zn(y,p,g){return _o.apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(y,p,g){const C=Re(y),S=yield hr(C,p,(0,V.m9)(g));return new md(S,N=>Ia(C,N))})).apply(this,arguments)}function ss(y,p,g){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y);yield es(!1,C,"phone");const S=yield hr(C.auth,p,(0,V.m9)(g));return new md(S,N=>Ri(C,N))})).apply(this,arguments)}function tc(y,p,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y),S=yield hr(C.auth,p,(0,V.m9)(g));return new md(S,N=>lo(C,N))})).apply(this,arguments)}function hr(y,p,g){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(y,p,g){var C;const S=yield g.verify();try{let N;if(ne("string"==typeof S,y,"argument-error"),ne(g.type===Jh,y,"argument-error"),N="string"==typeof p?{phoneNumber:p}:p,"session"in N){const te=N.session;if("phoneNumber"in N)return ne("enroll"===te.type,y,"internal-error"),(yield Xn(y,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{ne("signin"===te.type,y,"internal-error");const be=(null===(C=N.multiFactorHint)||void 0===C?void 0:C.uid)||N.multiFactorUid;return ne(be,y,"missing-multi-factor-info"),(yield pd(y,{mfaPendingCredential:te.credential,mfaEnrollmentId:be,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Hh(y,{phoneNumber:N.phoneNumber,recaptchaToken:S});return te}}finally{g._reset()}})).apply(this,arguments)}function sr(y,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(y,p){yield sn((0,V.m9)(y),p)})).apply(this,arguments)}let Va=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Re(g)}verifyPhoneNumber(g,C){return hr(this.auth,g,(0,V.m9)(C))}static credential(g,C){return so._fromVerification(g,C)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:S}=g;return C&&S?so._fromTokenResponse(C,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ui(y,p){return p?ae(p):(ne(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ba extends Yt{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Vn(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Vn(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Vn(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function xl(y){return Ds(y.auth,new Ba(y),y.bypassAuthState)}function Xh(y){const{auth:p,user:g}=y;return ne(g,p,"internal-error"),Da(g,new Ba(y),y.bypassAuthState)}function nc(y){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(y){const{auth:p,user:g}=y;return ne(g,p,"internal-error"),sn(g,new Ba(y),y.bypassAuthState)})).apply(this,arguments)}class Ls{constructor(p,g,C,S,N=!1){this.auth=p,this.resolver=C,this.user=S,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(C,S){p.pendingPromise={resolve:C,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(N){p.reject(N)}});return function(C,S){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:S,postBody:N,tenantId:te,error:be,type:ze}=p;if(be)return void g.reject(be);const at={auth:g.auth,requestUri:C,sessionId:S,tenantId:te||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(ze)(at))}catch(Ot){g.reject(Ot)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return xl;case"linkViaPopup":case"linkViaRedirect":return nc;case"reauthViaPopup":case"reauthViaRedirect":return Xh;default:Ve(this.auth,"internal-error")}}resolve(p){U(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){U(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hi=new st(2e3,1e4);function rc(y,p,g){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,l.Z)(function*(y,p,g){const C=Re(y);ve(y,p,Ji);const S=Ui(C,g);return new ic(C,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function Ua(y,p,g){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y);ve(C.auth,p,Ji);const S=Ui(C.auth,g);return new ic(C.auth,"reauthViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}function _d(y,p,g){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y);ve(C.auth,p,Ji);const S=Ui(C.auth,g);return new ic(C.auth,"linkViaPopup",p,S,C).executeNotNull()})).apply(this,arguments)}let ic=(()=>{class y extends Ls{constructor(g,C,S,N,te){super(g,C,N,te),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const C=yield g.execute();return ne(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,l.Z)(function*(){U(1===g.filter.length,"Popup operations only handle one event");const C=bt();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(Ae(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ae(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,S;this.pollId=(null===(S=null===(C=this.authWindow)||void 0===C?void 0:C.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ae(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Hi.get())};g()}}return y.currentPopupAction=null,y})();const Bs=new Map;class ei extends Ls{constructor(p,g,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let C=Bs.get(g.auth._key());if(!C){try{const N=(yield function $a(y,p){return _i.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;C=()=>Promise.resolve(N)}catch(S){C=()=>Promise.reject(S)}Bs.set(g.auth._key(),C)}return g.bypassAuthState||Bs.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(C,p);if("unknown"!==p.type){if(p.eventId){const S=yield C.auth._redirectUserForId(p.eventId);if(S)return C.user=S,g().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function _i(){return(_i=(0,l.Z)(function*(y,p){const g=sa(p),C=Rl(y);if(!(yield C._isAvailable()))return!1;const S="true"===(yield C._get(g));return yield C._remove(g),S})).apply(this,arguments)}function os(y,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,l.Z)(function*(y,p){return Rl(y)._set(sa(p),"true")})).apply(this,arguments)}function Ol(){Bs.clear()}function Er(y,p){Bs.set(y._key(),p)}function Rl(y){return ae(y._redirectPersistence)}function sa(y){return Ut("pendingRedirect",y.config.apiKey,y.name)}function sc(y,p,g){return function yi(y,p,g){return oa.apply(this,arguments)}(y,p,g)}function oa(){return(oa=(0,l.Z)(function*(y,p,g){const C=Re(y);ve(y,p,Ji);const S=Ui(C,g);return yield os(S,C),S._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function as(y,p,g){return function w(y,p,g){return T.apply(this,arguments)}(y,p,g)}function T(){return(T=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y);ve(C.auth,p,Ji);const S=Ui(C.auth,g);yield os(S,C.auth);const N=yield ct(C);return S._openRedirect(C.auth,p,"reauthViaRedirect",N)})).apply(this,arguments)}function M(y,p,g){return function L(y,p,g){return Q.apply(this,arguments)}(y,p,g)}function Q(){return(Q=(0,l.Z)(function*(y,p,g){const C=(0,V.m9)(y);ve(C.auth,p,Ji);const S=Ui(C.auth,g);yield es(!1,C,p.providerId),yield os(S,C.auth);const N=yield ct(C);return S._openRedirect(C.auth,p,"linkViaRedirect",N)})).apply(this,arguments)}function de(y,p){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,l.Z)(function*(y,p){return yield Re(y)._initializationPromise,je(y,p,!1)})).apply(this,arguments)}function je(y,p){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(y,p,g=!1){const C=Re(y),S=Ui(C,p),te=yield new ei(C,S,g).execute();return te&&!g&&(delete te.user._redirectEventId,yield C._persistUserIfCurrent(te.user),yield C._setRedirectUser(null,p)),te})).apply(this,arguments)}function ct(y){return yt.apply(this,arguments)}function yt(){return(yt=(0,l.Z)(function*(y){const p=bt(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class er{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(g=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function kn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Us(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var C;if(p.error&&!Us(p)){const S=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(Ae(this.auth,S))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const C=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fr(p))}saveEventToCache(p){this.cachedEventUids.add(fr(p)),this.lastProcessedEventTime=Date.now()}}function fr(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Us({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===(null==p?void 0:p.code)}function ji(y){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(y,p={}){return Gt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Eo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^https?/;function ls(){return(ls=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield ji(y);for(const g of p)try{if(ef(g))return}catch(C){}Ve(y,"unauthorized-domain")})).apply(this,arguments)}function ef(y){const p=se(),{protocol:g,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const te=new URL(y);return""===te.hostname&&""===C?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&te.hostname===C}if(!vi.test(g))return!1;if(Eo.test(y))return C===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(C)}const Dg=new st(3e4,6e4);function Nl(){const y=mn().___jsl;if(null==y?void 0:y.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let oc=null;function Ig(y){return oc=oc||function Yy(y){return new Promise((p,g)=>{var C,S,N;function te(){Nl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Nl(),g(Ae(y,"network-request-failed"))},timeout:Dg.get()})}if(null===(S=null===(C=mn().gapi)||void 0===C?void 0:C.iframes)||void 0===S?void 0:S.Iframe)p(gapi.iframes.getContext());else{if(!(null===(N=mn().gapi)||void 0===N?void 0:N.load)){const be=mi("iframefcb");return mn()[be]=()=>{gapi.load?te():g(Ae(y,"network-request-failed"))},na(`https://apis.google.com/js/api.js?onload=${be}`).catch(ze=>g(ze))}te()}}).catch(p=>{throw oc=null,p})}(y),oc}const ac=new st(5e3,15e3),la={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yd(y){const p=y.config;ne(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?Dn(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:x.SDK_VERSION},S=Sg.get(y.config.apiHost);S&&(C.eid=S);const N=y._getFrameworks();return N.length&&(C.fw=N.join(",")),`${g}?${(0,V.xO)(C).slice(1)}`}function Wa(){return Wa=(0,l.Z)(function*(y){const p=yield Ig(y),g=mn().gapi;return ne(g,y,"internal-error"),p.open({where:document.body,url:yd(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:la,dontclear:!0},C=>new Promise(function(){var S=(0,l.Z)(function*(N,te){yield C.restyle({setHideOnLeave:!1});const be=Ae(y,"network-request-failed"),ze=mn().setTimeout(()=>{te(be)},ac.get());function at(){mn().clearTimeout(ze),N(C)}C.ping(at).then(at,()=>{te(be)})});return function(N,te){return S.apply(this,arguments)}}()))}),Wa.apply(this,arguments)}const vd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sf{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function us(y,p,g,C,S,N){ne(y.config.authDomain,y,"auth-domain-config-required"),ne(y.config.apiKey,y,"invalid-api-key");const te={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:C,v:x.SDK_VERSION,eventId:S};if(p instanceof Ji){p.setDefaultLanguage(y.languageCode),te.providerId=p.providerId||"",(0,V.xb)(p.getCustomParameters())||(te.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ze,at]of Object.entries(N||{}))te[ze]=at}if(p instanceof Br){const ze=p.getScopes().filter(at=>""!==at);ze.length>0&&(te.scopes=ze.join(","))}y.tenantId&&(te.tid=y.tenantId);const be=te;for(const ze of Object.keys(be))void 0===be[ze]&&delete be[ze];return`${function Fl({config:y}){return y.emulator?Dn(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,V.xO)(be).slice(1)}`}const wd="webStorageSupport",Mg=class Ky{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=en,this._completeRedirectFn=je,this._overrideRedirectResult=Er}_openPopup(p,g,C,S){var N=this;return(0,l.Z)(function*(){var te;U(null===(te=N.eventManagers[p._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const be=us(p,g,C,se(),S);return function ua(y,p,g,C=500,S=600){const N=Math.max((window.screen.availHeight-S)/2,0).toString(),te=Math.max((window.screen.availWidth-C)/2,0).toString();let be="";const ze=Object.assign(Object.assign({},vd),{width:C.toString(),height:S.toString(),top:N,left:te}),at=(0,V.z$)().toLowerCase();g&&(be=we(at)?"_blank":g),K(at)&&(p=p||"http://localhost",ze.scrollbars="yes");const Ot=Object.entries(ze).reduce((Ei,[$i,Td])=>`${Ei}${$i}=${Td},`,"");if(function wr(y=(0,V.z$)()){var p;return St(y)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(at)&&"_self"!==be)return function Ed(y,p){const g=document.createElement("a");g.href=y,g.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(p||"",be),new sf(null);const pn=window.open(p||"",be,Ot);ne(pn,y,"popup-blocked");try{pn.focus()}catch(Ei){}return new sf(pn)}(p,be,bt())})()}_openRedirect(p,g,C,S){var N=this;return(0,l.Z)(function*(){return yield N._originValidation(p),function Gn(y){mn().location.href=y}(us(p,g,C,se(),S)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:S,promise:N}=this.eventManagers[g];return S?Promise.resolve(S):(U(N,"If manager is not set, promise should be"),N)}const C=this.initAndGetManager(p);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const C=yield function Ag(y){return Wa.apply(this,arguments)}(p),S=new er(p);return C.register("authEvent",N=>(ne(null==N?void 0:N.authEvent,p,"invalid-auth-event"),{status:S.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:S},g.iframes[p._key()]=C,S})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(wd,{type:wd},S=>{var N;const te=null===(N=null==S?void 0:S[0])||void 0===N?void 0:N[wd];void 0!==te&&g(!!te),Ve(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ti(y){return ls.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return dr()||q()||St()}};class lf extends class af{constructor(p){this.factorId=p}_process(p,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,C);case"signin":return this._finalizeSignIn(p,g.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new lf(p)}_finalizeEnroll(p,g,C){return function hd(y,p){return Gt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Rt(y,p))}(p,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function ka(y,p){return Gt(y,"POST","/v2/accounts/mfaSignIn:finalize",Rt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bd=(()=>{class y{constructor(){}static assertion(g){return lf._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Ll="@firebase/auth";class xg{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(C=>{var S;p((null===(S=C)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Pg(y){(0,x._registerComponent)(new ge.wA("auth",(p,{options:g})=>{const C=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:N,authDomain:te}=C.options;return((be,ze)=>{ne(N&&!N.includes(":"),"invalid-api-key",{appName:be.name}),ne(!(null==te?void 0:te.includes(":")),"argument-error",{appName:be.name});const at={apiKey:N,authDomain:te,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Zn(y)},Ot=new br(be,ze,at);return function xe(y,p){const g=(null==p?void 0:p.persistence)||[],C=(Array.isArray(g)?g:[g]).map(ae);(null==p?void 0:p.errorMap)&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,null==p?void 0:p.popupRedirectResolver)}(Ot,g),Ot})(C,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,C)=>{p.getProvider("auth-internal").initialize()})),(0,x._registerComponent)(new ge.wA("auth-internal",p=>{const g=Re(p.getProvider("auth").getImmediate());return new xg(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,x.registerVersion)(Ll,"0.20.5",function uf(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,x.registerVersion)(Ll,"0.20.5","esm2017")}("Browser")},2090:(Ge,ye,P)=>{P.d(ye,{$s:()=>Sn,BH:()=>Be,DV:()=>Gt,Dv:()=>cr,GJ:()=>qt,L:()=>ue,LL:()=>se,Pz:()=>Ze,Sg:()=>Se,UG:()=>pe,UI:()=>qr,US:()=>ge,Wj:()=>jn,Yr:()=>He,ZB:()=>$,ZR:()=>xe,b$:()=>Ve,cI:()=>Tn,dS:()=>Mt,eu:()=>U,g5:()=>x,gK:()=>Hn,gQ:()=>di,h$:()=>fe,hl:()=>he,hu:()=>V,jU:()=>Ce,lb:()=>Di,m9:()=>_r,ne:()=>it,p$:()=>z,pd:()=>In,r3:()=>Rt,ru:()=>Ue,tV:()=>me,uI:()=>Ne,ug:()=>Xe,vZ:()=>lr,w1:()=>Me,w9:()=>Bn,xO:()=>Nr,xb:()=>dn,z$:()=>Oe,zI:()=>X,zd:()=>Yr});const V=function(W,H){if(!W)throw x(H)},x=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},oe=function(W){const H=[];let B=0;for(let j=0;j<W.length;j++){let G=W.charCodeAt(j);G<128?H[B++]=G:G<2048?(H[B++]=G>>6|192,H[B++]=63&G|128):55296==(64512&G)&&j+1<W.length&&56320==(64512&W.charCodeAt(j+1))?(G=65536+((1023&G)<<10)+(1023&W.charCodeAt(++j)),H[B++]=G>>18|240,H[B++]=G>>12&63|128,H[B++]=G>>6&63|128,H[B++]=63&G|128):(H[B++]=G>>12|224,H[B++]=G>>6&63|128,H[B++]=63&G|128)}return H},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,H){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const B=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let G=0;G<W.length;G+=3){const De=W[G],Le=G+1<W.length,ut=Le?W[G+1]:0,jt=G+2<W.length,Ut=jt?W[G+2]:0;let K=(15&ut)<<2|Ut>>6,q=63&Ut;jt||(q=64,Le||(K=64)),j.push(B[De>>2],B[(3&De)<<4|ut>>4],B[K],B[q])}return j.join("")},encodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(W):this.encodeByteArray(oe(W),H)},decodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(W):function(W){const H=[];let B=0,j=0;for(;B<W.length;){const G=W[B++];if(G<128)H[j++]=String.fromCharCode(G);else if(G>191&&G<224){const De=W[B++];H[j++]=String.fromCharCode((31&G)<<6|63&De)}else if(G>239&&G<365){const jt=((7&G)<<18|(63&W[B++])<<12|(63&W[B++])<<6|63&W[B++])-65536;H[j++]=String.fromCharCode(55296+(jt>>10)),H[j++]=String.fromCharCode(56320+(1023&jt))}else{const De=W[B++],Le=W[B++];H[j++]=String.fromCharCode((15&G)<<12|(63&De)<<6|63&Le)}}return H.join("")}(this.decodeStringToByteArray(W,H))},decodeStringToByteArray(W,H){this.init_();const B=H?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let G=0;G<W.length;){const De=B[W.charAt(G++)],ut=G<W.length?B[W.charAt(G)]:0;++G;const Ut=G<W.length?B[W.charAt(G)]:64;++G;const J=G<W.length?B[W.charAt(G)]:64;if(++G,null==De||null==ut||null==Ut||null==J)throw Error();j.push(De<<2|ut>>4),64!==Ut&&(j.push(ut<<4&240|Ut>>2),64!==J&&j.push(Ut<<6&192|J))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},fe=function(W){const H=oe(W);return ge.encodeByteArray(H,!0)},ue=function(W){return fe(W).replace(/\./g,"")},me=function(W){try{return ge.decodeString(W,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function z(W){return $(void 0,W)}function $(W,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return H}for(const B in H)!H.hasOwnProperty(B)||!ie(B)||(W[B]=$(W[B],H[B]));return W}function ie(W){return"__proto__"!==W}class Be{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,B)=>{this.resolve=H,this.reject=B})}wrapCallback(H){return(B,j)=>{B?this.reject(B):this.resolve(j),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(B):H(B,j))}}}function Se(W,H){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=H||"demo-project",G=W.iat||0,De=W.sub||W.user_id;if(!De)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Le=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:G,exp:G+3600,auth_time:G,sub:De,user_id:De,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Le)),""].join(".")}function Oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ne(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Ue(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ve(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Me(){const W=Oe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function He(){return!1}function he(){return"object"==typeof indexedDB}function U(){return new Promise((W,H)=>{try{let B=!0;const j="validate-browser-context-for-indexeddb-analytics-module",G=self.indexedDB.open(j);G.onsuccess=()=>{G.result.close(),B||self.indexedDB.deleteDatabase(j),W(!0)},G.onupgradeneeded=()=>{B=!1},G.onerror=()=>{var De;H((null===(De=G.error)||void 0===De?void 0:De.message)||"")}}catch(B){H(B)}})}function X(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class xe extends Error{constructor(H,B,j){super(B),this.code=H,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,xe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}}class se{constructor(H,B,j){this.service=H,this.serviceName=B,this.errors=j}create(H,...B){const j=B[0]||{},G=`${this.service}/${H}`,De=this.errors[H],Le=De?function rt(W,H){return W.replace(Ct,(B,j)=>{const G=H[j];return null!=G?String(G):`<${j}?>`})}(De,j):"Error";return new xe(G,`${this.serviceName}: ${Le} (${G}).`,j)}}const Ct=/\{\$([^}]+)}/g;function Tn(W){return JSON.parse(W)}function Ze(W){return JSON.stringify(W)}const st=function(W){let H={},B={},j={},G="";try{const De=W.split(".");H=Tn(me(De[0])||""),B=Tn(me(De[1])||""),G=De[2],j=B.d||{},delete B.d}catch(De){}return{header:H,claims:B,data:j,signature:G}},Bn=function(W){const B=st(W).claims;return!!B&&"object"==typeof B&&B.hasOwnProperty("iat")},qt=function(W){const H=st(W).claims;return"object"==typeof H&&!0===H.admin};function Rt(W,H){return Object.prototype.hasOwnProperty.call(W,H)}function Gt(W,H){if(Object.prototype.hasOwnProperty.call(W,H))return W[H]}function dn(W){for(const H in W)if(Object.prototype.hasOwnProperty.call(W,H))return!1;return!0}function qr(W,H,B){const j={};for(const G in W)Object.prototype.hasOwnProperty.call(W,G)&&(j[G]=H.call(B,W[G],G,W));return j}function lr(W,H){if(W===H)return!0;const B=Object.keys(W),j=Object.keys(H);for(const G of B){if(!j.includes(G))return!1;const De=W[G],Le=H[G];if(gn(De)&&gn(Le)){if(!lr(De,Le))return!1}else if(De!==Le)return!1}for(const G of j)if(!B.includes(G))return!1;return!0}function gn(W){return null!==W&&"object"==typeof W}function Nr(W){const H=[];for(const[B,j]of Object.entries(W))Array.isArray(j)?j.forEach(G=>{H.push(encodeURIComponent(B)+"="+encodeURIComponent(G))}):H.push(encodeURIComponent(B)+"="+encodeURIComponent(j));return H.length?"&"+H.join("&"):""}function Yr(W){const H={};return W.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[G,De]=j.split("=");H[decodeURIComponent(G)]=decodeURIComponent(De)}}),H}function In(W){const H=W.indexOf("?");if(!H)return"";const B=W.indexOf("#",H);return W.substring(H,B>0?B:void 0)}class di{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,B){B||(B=0);const j=this.W_;if("string"==typeof H)for(let J=0;J<16;J++)j[J]=H.charCodeAt(B)<<24|H.charCodeAt(B+1)<<16|H.charCodeAt(B+2)<<8|H.charCodeAt(B+3),B+=4;else for(let J=0;J<16;J++)j[J]=H[B]<<24|H[B+1]<<16|H[B+2]<<8|H[B+3],B+=4;for(let J=16;J<80;J++){const K=j[J-3]^j[J-8]^j[J-14]^j[J-16];j[J]=4294967295&(K<<1|K>>>31)}let Ut,$n,G=this.chain_[0],De=this.chain_[1],Le=this.chain_[2],ut=this.chain_[3],jt=this.chain_[4];for(let J=0;J<80;J++){J<40?J<20?(Ut=ut^De&(Le^ut),$n=1518500249):(Ut=De^Le^ut,$n=1859775393):J<60?(Ut=De&Le|ut&(De|Le),$n=2400959708):(Ut=De^Le^ut,$n=3395469782);const K=(G<<5|G>>>27)+Ut+jt+$n+j[J]&4294967295;jt=ut,ut=Le,Le=4294967295&(De<<30|De>>>2),De=G,G=K}this.chain_[0]=this.chain_[0]+G&4294967295,this.chain_[1]=this.chain_[1]+De&4294967295,this.chain_[2]=this.chain_[2]+Le&4294967295,this.chain_[3]=this.chain_[3]+ut&4294967295,this.chain_[4]=this.chain_[4]+jt&4294967295}update(H,B){if(null==H)return;void 0===B&&(B=H.length);const j=B-this.blockSize;let G=0;const De=this.buf_;let Le=this.inbuf_;for(;G<B;){if(0===Le)for(;G<=j;)this.compress_(H,G),G+=this.blockSize;if("string"==typeof H){for(;G<B;)if(De[Le]=H.charCodeAt(G),++Le,++G,Le===this.blockSize){this.compress_(De),Le=0;break}}else for(;G<B;)if(De[Le]=H[G],++Le,++G,Le===this.blockSize){this.compress_(De),Le=0;break}}this.inbuf_=Le,this.total_+=B}digest(){const H=[];let B=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let G=this.blockSize-1;G>=56;G--)this.buf_[G]=255&B,B/=256;this.compress_(this.buf_);let j=0;for(let G=0;G<5;G++)for(let De=24;De>=0;De-=8)H[j]=this.chain_[G]>>De&255,++j;return H}}function it(W,H){const B=new ur(W,H);return B.subscribe.bind(B)}class ur{constructor(H,B){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=B,this.task.then(()=>{H(this)}).catch(j=>{this.error(j)})}next(H){this.forEachObserver(B=>{B.next(H)})}error(H){this.forEachObserver(B=>{B.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,B,j){let G;if(void 0===H&&void 0===B&&void 0===j)throw new Error("Missing Observer.");G=function zt(W,H){if("object"!=typeof W||null===W)return!1;for(const B of H)if(B in W&&"function"==typeof W[B])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:B,complete:j},void 0===G.next&&(G.next=Un),void 0===G.error&&(G.error=Un),void 0===G.complete&&(G.complete=Un);const De=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?G.error(this.finalError):G.complete()}catch(Le){}}),this.observers.push(G),De}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let B=0;B<this.observers.length;B++)this.sendOne(B,H)}sendOne(H,B){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{B(this.observers[H])}catch(j){"undefined"!=typeof console&&console.error&&console.error(j)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Un(){}const cr=function(W,H,B,j){let G;if(j<H?G="at least "+H:j>B&&(G=0===B?"none":"no more than "+B),G)throw new Error(W+" failed: Was called with "+j+(1===j?" argument.":" arguments.")+" Expects "+G+".")};function Hn(W,H){return`${W} failed: ${H} argument `}function jn(W,H,B,j){if((!j||B)&&"function"!=typeof B)throw new Error(Hn(W,H)+"must be a valid function.")}function Di(W,H,B,j){if((!j||B)&&("object"!=typeof B||null===B))throw new Error(Hn(W,H)+"must be a valid context object.")}const Mt=function(W){const H=[];let B=0;for(let j=0;j<W.length;j++){let G=W.charCodeAt(j);if(G>=55296&&G<=56319){const De=G-55296;j++,V(j<W.length,"Surrogate pair missing trail surrogate."),G=65536+(De<<10)+(W.charCodeAt(j)-56320)}G<128?H[B++]=G:G<2048?(H[B++]=G>>6|192,H[B++]=63&G|128):G<65536?(H[B++]=G>>12|224,H[B++]=G>>6&63|128,H[B++]=63&G|128):(H[B++]=G>>18|240,H[B++]=G>>12&63|128,H[B++]=G>>6&63|128,H[B++]=63&G|128)}return H},Xe=function(W){let H=0;for(let B=0;B<W.length;B++){const j=W.charCodeAt(B);j<128?H++:j<2048?H+=2:j>=55296&&j<=56319?(H+=4,B++):H+=3}return H};function Sn(W,H=1e3,B=2){const j=H*Math.pow(B,W),G=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+G)}function _r(W){return W&&W._delegate?W._delegate:W}},3141:(Ge,ye,P)=>{var l=P(5e3);let V=null;function x(){return V}const fe=new l.OlP("DocumentToken");let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function me(){return(0,l.LFG)($)}()},providedIn:"platform"}),n})();const z=new l.OlP("Location Initialized");let $=(()=>{class n extends ue{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,o){ie()?this._history.pushState(e,r,o):this.location.hash=o}replaceState(e,r,o){ie()?this._history.replaceState(e,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Be(){return new $((0,l.LFG)(fe))}()},providedIn:"platform"}),n})();function ie(){return!!window.history.pushState}function Se(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Oe(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ne(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ce(n){const t=(0,l.LFG)(fe).location;return new Ve((0,l.LFG)(ue),t&&t.origin||"")}()},providedIn:"root"}),n})();const Ue=new l.OlP("appBaseHref");let Ve=(()=>{class n extends pe{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Se(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ne(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,c){const h=this.prepareExternalUrl(o+Ne(c));this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,c){const h=this.prepareExternalUrl(o+Ne(c));this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ue),l.LFG(Ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ae=(()=>{class n extends pe{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Se(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,c){let h=this.prepareExternalUrl(o+Ne(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(e,r,h)}replaceState(e,r,o,c){let h=this.prepareExternalUrl(o+Ne(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformLocation).historyGo)||void 0===o||o.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ue),l.LFG(Ue,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(e,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Oe(ne(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ne(r))}normalize(e){return n.stripTrailingSlash(function He(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ne(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._platformStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ne(r)),o)}replaceState(e,r="",o=null){this._platformStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ne(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,o;null===(o=(r=this._platformStrategy).historyGo)||void 0===o||o.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}}return n.normalizeQueryParams=Ne,n.joinWithSlash=Se,n.stripTrailingSlash=Oe,n.\u0275fac=function(e){return new(e||n)(l.LFG(pe),l.LFG(ue))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return new Me((0,l.LFG)(pe),(0,l.LFG)(ue))}()},providedIn:"root"}),n})();function ne(n){return n.replace(/\/index.html$/,"")}let Ai=(()=>{class n{constructor(e,r,o,c){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=o,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ro{constructor(t,e,r,o){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Rn=(()=>{class n{constructor(e,r,o){this._viewContainer=e,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=this._viewContainer;e.forEachOperation((o,c,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new ro(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===c?void 0:c);else if(null!==c){const m=r.get(c);r.move(m,h),Ki(m,o)}});for(let o=0,c=r.length;o<c;o++){const m=r.get(o).context;m.index=o,m.count=c,m.ngForOf=this._ngForOf}e.forEachIdentityChange(o=>{Ki(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Ki(n,t){n.context.$implicit=t.item}let ln=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ou("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ou("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Qt{constructor(){this.$implicit=null,this.ngIf=null}}function Ou(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}let ml=(()=>{class n{constructor(e,r,o){this._ngEl=e,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,r){const[o,c]=e.split(".");null!=(r=null!=r&&c?`${r}${c}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,o,r):this._renderer.removeStyle(this._ngEl.nativeElement,o)}_applyChanges(e){e.forEachRemovedItem(r=>this._setStyle(r.key,null)),e.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),e.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();class ku{createSubscription(t,e){return t.subscribe({next:e,error:r=>{throw r}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Uh{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}onDestroy(t){}}const Mi=new Uh,Hh=new ku;let wa=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,l.QGY)(e))return Mi;if((0,l.F4k)(e))return Hh;throw function Vn(n,t){return new l.vHH(2100,"")}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),Xi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Vu="browser";function qn(n){return n===Vu}function Yn(n){return"server"===n}let ao=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Ta((0,l.LFG)(fe),window)}),n})();class Ta{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Oi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const h=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=_l(this.window.history)||_l(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function _l(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class es extends class Fo extends class ge{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){V||(V=n)}(new es)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Da(){return Jt=Jt||document.querySelector("base"),Jt?Jt.getAttribute("href"):null}();return null==e?null:function Ds(n){Lo=Lo||document.createElement("a"),Lo.setAttribute("href",n);const t=Lo.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Jt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function to(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Lo,Jt=null;const Kn=new l.OlP("TRANSITION_ID"),Mn=[{provide:l.ip1,useFactory:function Ia(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const r=x(),o=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[Kn,fe,l.zs3],multi:!0}];class Ri{static init(){(0,l.VLi)(new Ri)}addToWindow(t){l.dqk.getAngularTestability=(r,o=!0)=>{const c=t.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const o=l.dqk.getAllAngularTestabilities();let c=o.length,h=!1;const m=function(E){h=h||E,c--,0==c&&r(h)};o.forEach(function(E){E.whenStable(m)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const o=t.getTestability(e);return null!=o?o:r?x().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Qn=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const lo=new l.OlP("EventManagerPlugins");let fi=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>o.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}addGlobalEventListener(e,r,o){return this._findPluginFor(r).addGlobalEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const h=o[c];if(h.supports(e))return this._eventNameToPlugin.set(e,h),h}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(lo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class vl{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const o=x().getGlobalEventTarget(this._doc,t);if(!o)throw new Error(`Unsupported event target ${o} for event ${e}`);return this.addEventListener(o,e,r)}}let Tr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ts=(()=>{class n extends Tr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,o){e.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,o.push(r.appendChild(h))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(ns),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(e,o,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(ns))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ns(n){x().remove(n)}const ot={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Vo=/%COMP%/g;function Te(n,t,e){for(let r=0;r<t.length;r++){let o=t[r];Array.isArray(o)?Te(n,o,e):(o=o.replace(Vo,n),e.push(o))}return e}function Pt(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let En=(()=>{class n{constructor(e,r,o){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new rs(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Cl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(e),o}case 1:case l.ifc.ShadowDom:return new wl(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const o=Te(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fi),l.LFG(ts),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class rs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ot[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const c=ot[o];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=ot[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,r,o&l.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Pt(r)):this.eventManager.addEventListener(t,e,Pt(r))}}class Cl extends rs{constructor(t,e,r,o){super(t),this.component=r;const c=Te(o+"-"+r.id,r.styles,[]);e.addStyles(c),this.contentAttr=function Ho(n){return"_ngcontent-%COMP%".replace(Vo,n)}(o+"-"+r.id),this.hostAttr=function ld(n){return"_nghost-%COMP%".replace(Vo,n)}(o+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class wl extends rs{constructor(t,e,r,o){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Te(o.id,o.styles,[]);for(let h=0;h<c.length;h++){const m=document.createElement("style");m.textContent=c[h],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let $u=(()=>{class n extends vl{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Wu=["alt","control","meta","shift"],uo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bl=(()=>{class n extends vl{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(e,c.domEventName,h))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let h="";if(Wu.forEach(E=>{const D=r.indexOf(E);D>-1&&(r.splice(D,1),h+=E+".")}),h+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=o,m.fullKey=h,m}static getEventFullKey(e){let r="",o=function pi(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Wn.hasOwnProperty(t)&&(t=Wn[t]))}return uo[t]||t}(e);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Wu.forEach(c=>{c!=o&&Xr[c](e)&&(r+=c+".")}),r+=o,r}static eventCallback(e,r,o){return c=>{n.getEventFullKey(c)===e&&o.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const zu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:Vu},{provide:l.g9A,useValue:function Ni(){es.makeCurrent(),Ri.init()},multi:!0},{provide:fe,useFactory:function Gu(){return(0,l.RDi)(document),document},deps:[]}]),Is=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Go(){return new l.qLn},deps:[]},{provide:lo,useClass:$u,multi:!0,deps:[fe,l.R0b,l.Lbi]},{provide:lo,useClass:bl,multi:!0,deps:[fe]},{provide:En,useClass:En,deps:[fi,ts,l.AFp]},{provide:l.FYo,useExisting:En},{provide:Tr,useExisting:ts},{provide:ts,useClass:ts,deps:[fe]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:fi,useClass:fi,deps:[lo,l.R0b]},{provide:class sn{},useClass:Qn,deps:[]}];let Sa=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Kn,useExisting:l.AFp},Mn]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Is,imports:[Xi,l.hGG]}),n})();"undefined"!=typeof window&&window;class Il{}const un="*";function Li(n,t){return{type:7,name:n,definitions:t,options:{}}}function en(n,t=null){return{type:4,styles:t,timings:n}}function Qo(n,t=null){return{type:3,steps:n,options:t}}function xa(n,t=null){return{type:2,steps:n,options:t}}function bt(n){return{type:6,styles:n,offset:null}}function mn(n){return{type:5,steps:n}}function Gn(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Os(n=null){return{type:9,options:n}}function Pa(n,t=null){return{type:10,animation:n,options:t}}function fo(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Sl(n){Promise.resolve(null).then(n)}class Rs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Sl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Vi{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,o=0;const c=this.players.length;0==c?Sl(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++e==c&&this._onFinish()}),h.onDestroy(()=>{++r==c&&this._onDestroy()}),h.onStart(()=>{++o==c&&this._onStart()})}),this.totalTime=this.players.reduce((h,m)=>Math.max(h,m.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(o)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}const _t=!1;function Xo(n){return new l.vHH(3e3,_t)}function _o(){return"undefined"!=typeof window&&void 0!==window.document}function ss(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Bi(n){switch(n.length){case 0:return new Rs;case 1:return n[0];default:return new Vi(n)}}function tc(n,t,e,r,o={},c={}){const h=[],m=[];let E=-1,D=null;if(r.forEach(O=>{const R=O.offset,Y=R==E,re=Y&&D||{};Object.keys(O).forEach(_e=>{let Fe=_e,Je=O[_e];if("offset"!==_e)switch(Fe=t.normalizePropertyName(Fe,h),Je){case"!":Je=o[_e];break;case un:Je=c[_e];break;default:Je=t.normalizeStyleValue(_e,Fe,Je,h)}re[Fe]=Je}),Y||m.push(re),D=re,E=R}),h.length)throw function Ml(n){return new l.vHH(3502,_t)}();return m}function ir(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&hr(e,"start",n)));break;case"done":n.onDone(()=>r(e&&hr(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&hr(e,"destroy",n)))}}function hr(n,t,e){const r=e.totalTime,c=yo(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),h=n._data;return null!=h&&(c._data=h),c}function yo(n,t,e,r,o="",c=0,h){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:o,totalTime:c,disabled:!!h}}function sr(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function Fs(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let Va=(n,t)=>!1,Ui=(n,t,e)=>[],Ba=null;function xl(n){const t=n.parentNode||n.host;return t===Ba?null:t}(ss()||"undefined"!=typeof Element)&&(_o()?(Ba=(()=>document.documentElement)(),Va=(n,t)=>{for(;t;){if(t===n)return!0;t=xl(t)}return!1}):Va=(n,t)=>n.contains(t),Ui=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const r=n.querySelector(t);return r?[r]:[]});let _n=null,Ls=!1;function Hi(n){_n||(_n=function rc(){return"undefined"!=typeof document?document.body:null}()||{},Ls=!!_n.style&&"WebkitAppearance"in _n.style);let t=!0;return _n.style&&!function nc(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in _n.style,!t&&Ls&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in _n.style)),t}const Vs=Va,Ua=Ui;let _d=(()=>{class n{validateStyleProperty(e){return Hi(e)}matchesElement(e,r){return!1}containsElement(e,r){return Vs(e,r)}getParentElement(e){return xl(e)}query(e,r,o){return Ua(e,r,o)}computeStyle(e,r,o){return o||""}animate(e,r,o,c,h,m=[],E){return new Rs(o,c)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ja=(()=>{class n{}return n.NOOP=new _d,n})();const ei="ng-enter",$a="ng-leave",_i="ng-trigger",os=".ng-trigger",Ir="ng-animating",Ol=".ng-animating";function Er(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Rl(parseFloat(t[1]),t[2])}function Rl(n,t){return"s"===t?1e3*n:n}function sa(n,t,e){return n.hasOwnProperty("duration")?n:function sc(n,t,e){let o,c=0,h="";if("string"==typeof n){const m=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===m)return t.push(Xo()),{duration:0,delay:0,easing:""};o=Rl(parseFloat(m[1]),m[2]);const E=m[3];null!=E&&(c=Rl(parseFloat(E),m[4]));const D=m[5];D&&(h=D)}else o=n;if(!e){let m=!1,E=t.length;o<0&&(t.push(function ea(){return new l.vHH(3100,_t)}()),m=!0),c<0&&(t.push(function Al(){return new l.vHH(3101,_t)}()),m=!0),m&&t.splice(E,0,Xo())}return{duration:o,delay:c,easing:h}}(n,t,e)}function yi(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function as(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else yi(n,e);return e}function w(n,t,e){return e?t+":"+e+";":""}function T(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=w(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=w(0,er(e),n.style[e]));n.setAttribute("style",t)}function M(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const o=et(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[o]),n.style[o]=t[r]}),ss()&&T(n))}function L(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=et(e);n.style[r]=""}),ss()&&T(n))}function Q(n){return Array.isArray(n)?1==n.length?n[0]:xa(n):n}const Ie=new RegExp("{{\\s*(.+?)\\s*}}","g");function je(n){let t=[];if("string"==typeof n){let e;for(;e=Ie.exec(n);)t.push(e[1]);Ie.lastIndex=0}return t}function Qe(n,t,e){const r=n.toString(),o=r.replace(Ie,(c,h)=>{let m=t[h];return t.hasOwnProperty(h)||(e.push(function Ju(n){return new l.vHH(3003,_t)}()),m=""),m.toString()});return o==r?n:o}function ct(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const yt=/-+([a-z0-9])/g;function et(n){return n.replace(yt,(...t)=>t[1].toUpperCase())}function er(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function kn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function go(n){return new l.vHH(3004,_t)}()}}function ji(n,t){return window.getComputedStyle(n)[t]}function Yy(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function oc(n,t,e){if(":"==n[0]){const E=function Ig(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(function Dr(n){return new l.vHH(3016,_t)}()),"* => *"}}(n,e);if("function"==typeof E)return void t.push(E);n=E}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(function ks(n){return new l.vHH(3015,_t)}()),t;const o=r[1],c=r[2],h=r[3];t.push(lc(o,h));"<"==c[0]&&!("*"==o&&"*"==h)&&t.push(lc(h,o))}(r,e,t)):e.push(n),e}const ac=new Set(["true","1"]),aa=new Set(["false","0"]);function lc(n,t){const e=ac.has(n)||aa.has(n),r=ac.has(t)||aa.has(t);return(o,c)=>{let h="*"==n||n==o,m="*"==t||t==c;return!h&&e&&"boolean"==typeof o&&(h=o?ac.has(n):aa.has(n)),!m&&r&&"boolean"==typeof c&&(m=c?ac.has(t):aa.has(t)),h&&m}}const Sg=new RegExp("s*:selfs*,?","g");function yd(n,t,e,r){return new Wa(n).build(t,e,r)}class Wa{constructor(t){this._driver=t}build(t,e,r){const o=new nf(e);this._resetContextStyleTimingState(o);const c=kn(this,Q(t),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),c}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,o=e.depCount=0;const c=[],h=[];return"@"==t.name.charAt(0)&&e.errors.push(function Xu(){return new l.vHH(3006,_t)}()),t.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),0==m.type){const E=m,D=E.name;D.toString().split(/\s*,\s*/).forEach(O=>{E.name=O,c.push(this.visitState(E,e))}),E.name=D}else if(1==m.type){const E=this.visitTransition(m,e);r+=E.queryCount,o+=E.depCount,h.push(E)}else e.errors.push(function ta(){return new l.vHH(3007,_t)}())}),{type:7,name:t.name,states:c,transitions:h,queryCount:r,depCount:o,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),o=t.options&&t.options.params||null;if(r.containsDynamicStyles){const c=new Set,h=o||{};r.styles.forEach(m=>{if(kl(m)){const E=m;Object.keys(E).forEach(D=>{je(E[D]).forEach(O=>{h.hasOwnProperty(O)||c.add(O)})})}}),c.size&&(ct(c.values()),e.errors.push(function Ra(n,t){return new l.vHH(3008,_t)}()))}return{type:0,name:t.name,style:r,options:o?{params:o}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=kn(this,Q(t.animation),e);return{type:1,matchers:Yy(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:ua(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>kn(this,r,e)),options:ua(t.options)}}visitGroup(t,e){const r=e.currentTime;let o=0;const c=t.steps.map(h=>{e.currentTime=r;const m=kn(this,h,e);return o=Math.max(o,e.currentTime),m});return e.currentTime=o,{type:3,steps:c,options:ua(t.options)}}visitAnimate(t,e){const r=function sf(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Ed(sa(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(c=>"{"==c.charAt(0)&&"{"==c.charAt(1))){const c=Ed(0,0,"");return c.dynamic=!0,c.strValue=e,c}const o=sa(e,t);return Ed(o.duration,o.delay,o.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let o,c=t.styles?t.styles:bt({});if(5==c.type)o=this.visitKeyframes(c,e);else{let h=t.styles,m=!1;if(!h){m=!0;const D={};r.easing&&(D.easing=r.easing),h=bt(D)}e.currentTime+=r.duration+r.delay;const E=this.visitStyle(h,e);E.isEmptyStep=m,o=E}return e.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(h=>{"string"==typeof h?h==un?r.push(h):e.errors.push(function Na(n){return new l.vHH(3002,_t)}()):r.push(h)}):r.push(t.styles);let o=!1,c=null;return r.forEach(h=>{if(kl(h)){const m=h,E=m.easing;if(E&&(c=E,delete m.easing),!o)for(let D in m)if(m[D].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let o=e.currentTime,c=e.currentTime;r&&c>0&&(c-=r.duration+r.delay),t.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(m=>{if(!this._driver.validateStyleProperty(m))return delete h[m],void e.unsupportedCSSPropertiesFound.add(m);const E=e.collectedStyles[e.currentQuerySelector],D=E[m];let O=!0;D&&(c!=o&&c>=D.startTime&&o<=D.endTime&&(e.errors.push(function ka(n,t,e,r,o){return new l.vHH(3010,_t)}()),O=!1),c=D.startTime),O&&(E[m]={startTime:c,endTime:o}),e.options&&function de(n,t,e){const r=t.params||{},o=je(n);o.length&&o.forEach(c=>{r.hasOwnProperty(c)||e.push(function po(n){return new l.vHH(3001,_t)}())})}(h[m],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function mo(){return new l.vHH(3011,_t)}()),r;let c=0;const h=[];let m=!1,E=!1,D=0;const O=t.steps.map(Bt=>{const It=this._makeStyleAst(Bt,e);let cn=null!=It.offset?It.offset:function rf(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(kl(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(kl(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(It.styles),Ft=0;return null!=cn&&(c++,Ft=It.offset=cn),E=E||Ft<0||Ft>1,m=m||Ft<D,D=Ft,h.push(Ft),It});E&&e.errors.push(function Hr(){return new l.vHH(3012,_t)}()),m&&e.errors.push(function Fa(){return new l.vHH(3200,_t)}());const R=t.steps.length;let Y=0;c>0&&c<R?e.errors.push(function na(){return new l.vHH(3202,_t)}()):0==c&&(Y=1/(R-1));const re=R-1,_e=e.currentTime,Fe=e.currentAnimateTimings,Je=Fe.duration;return O.forEach((Bt,It)=>{const cn=Y>0?It==re?1:Y*It:h[It],Ft=cn*Je;e.currentTime=_e+Fe.delay+Ft,Fe.duration=Ft,this._validateStyleAst(Bt,e),Bt.offset=cn,r.styles.push(Bt)}),r}visitReference(t,e){return{type:8,animation:kn(this,Q(t.animation),e),options:ua(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ua(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ua(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,o=t.options||{};e.queryCount++,e.currentQuery=t;const[c,h]=function vd(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Sg,"")),n=n.replace(/@\*/g,os).replace(/@\w+/g,e=>os+"-"+e.substr(1)).replace(/:animating/g,Ol),[n,t]}(t.selector);e.currentQuerySelector=r.length?r+" "+c:c,sr(e.collectedStyles,e.currentQuerySelector,{});const m=kn(this,Q(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:c,limit:o.limit||0,optional:!!o.optional,includeSelf:h,animation:m,originalSelector:t.selector,options:ua(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function mi(){return new l.vHH(3013,_t)}());const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:sa(t.timings,e.errors,!0);return{type:12,animation:kn(this,Q(t.animation),e),timings:r,options:null}}}class nf{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kl(n){return!Array.isArray(n)&&"object"==typeof n}function ua(n){return n?(n=yi(n)).params&&(n.params=function tf(n){return n?yi(n):null}(n.params)):n={},n}function Ed(n,t,e){return{duration:n,delay:t,easing:e}}function Cd(n,t,e,r,o,c,h=null,m=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:o,delay:c,totalTime:o+c,easing:h,subTimeline:m}}class uc{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const wd=new RegExp(":enter","g"),Mg=new RegExp(":leave","g");function af(n,t,e,r,o,c={},h={},m,E,D=[]){return(new lf).buildKeyframes(n,t,e,r,o,c,h,m,E,D)}class lf{buildKeyframes(t,e,r,o,c,h,m,E,D,O=[]){D=D||new uc;const R=new Ll(t,e,D,o,c,O,[]);R.options=E,R.currentTimeline.setStyles([h],null,R.errors,E),kn(this,r,R);const Y=R.timelines.filter(re=>re.containsAnimation());if(Object.keys(m).length){let re;for(let _e=Y.length-1;_e>=0;_e--){const Fe=Y[_e];if(Fe.element===e){re=Fe;break}}re&&!re.allowOnlyTimelineStyles()&&re.setStyles([m],null,R.errors,E)}return Y.length?Y.map(re=>re.buildKeyframes()):[Cd(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.get(e.element);if(r){const o=e.createSubContext(t.options),c=e.currentTimeline.currentTime,h=this._visitSubInstructions(r,o,o.options);c!=h&&e.transformIntoNewTimeline(h)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let c=e.currentTimeline.currentTime;const h=null!=r.duration?Er(r.duration):null,m=null!=r.delay?Er(r.delay):null;return 0!==h&&t.forEach(E=>{const D=e.appendInstructionToTimeline(E,h,m);c=Math.max(c,D.duration+D.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),kn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let o=e;const c=t.options;if(c&&(c.params||c.delay)&&(o=e.createSubContext(c),o.transformIntoNewTimeline(),null!=c.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=bd);const h=Er(c.delay);o.delayNextStep(h)}t.steps.length&&(t.steps.forEach(h=>kn(this,h,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let o=e.currentTimeline.currentTime;const c=t.options&&t.options.delay?Er(t.options.delay):0;t.steps.forEach(h=>{const m=e.createSubContext(t.options);c&&m.delayNextStep(c),kn(this,h,m),o=Math.max(o,m.currentTimeline.currentTime),r.push(m.currentTimeline)}),r.forEach(h=>e.currentTimeline.mergeTimelineCollectedStyles(h)),e.transformIntoNewTimeline(o),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return sa(e.params?Qe(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),o=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),o.snapshotCurrentStyles());const c=t.style;5==c.type?this.visitKeyframes(c,e):(e.incrementTime(r.duration),this.visitStyle(c,e),o.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,o=e.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const c=o&&o.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(c):r.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,o=e.currentTimeline.duration,c=r.duration,m=e.createSubContext().currentTimeline;m.easing=r.easing,t.styles.forEach(E=>{m.forwardTime((E.offset||0)*c),m.setStyles(E.styles,E.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(o+c),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,o=t.options||{},c=o.delay?Er(o.delay):0;c&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=bd);let h=r;const m=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!o.optional,e.errors);e.currentQueryTotal=m.length;let E=null;m.forEach((D,O)=>{e.currentQueryIndex=O;const R=e.createSubContext(t.options,D);c&&R.delayNextStep(c),D===e.element&&(E=R.currentTimeline),kn(this,t.animation,R),R.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,R.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(h),E&&(e.currentTimeline.mergeTimelineCollectedStyles(E),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,o=e.currentTimeline,c=t.timings,h=Math.abs(c.duration),m=h*(e.currentQueryTotal-1);let E=h*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":E=m-E;break;case"full":E=r.currentStaggerTime}const O=e.currentTimeline;E&&O.delayNextStep(E);const R=O.currentTime;kn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=o.currentTime-R+(o.startTime-r.currentTimeline.startTime)}}const bd={};class Ll{constructor(t,e,r,o,c,h,m,E){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=c,this.errors=h,this.timelines=m,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=E||new Vl(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let o=this.options;null!=r.duration&&(o.duration=Er(r.duration)),null!=r.delay&&(o.delay=Er(r.delay));const c=r.params;if(c){let h=o.params;h||(h=this.options.params={}),Object.keys(c).forEach(m=>{(!e||!h.hasOwnProperty(m))&&(h[m]=Qe(c[m],h,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(o=>{r[o]=e[o]})}}return t}createSubContext(t=null,e,r){const o=e||this.element,c=new Ll(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=bd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const o={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},c=new xg(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,o,t.stretchStartingKeyframe);return this.timelines.push(c),o}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,o,c,h){let m=[];if(o&&m.push(this.element),t.length>0){t=(t=t.replace(wd,"."+this._enterClassName)).replace(Mg,"."+this._leaveClassName);let D=this._driver.query(this.element,t,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),m.push(...D)}return!c&&0==m.length&&h.push(function Ns(n){return new l.vHH(3014,_t)}()),m}}class Vl{constructor(t,e,r,o){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Vl(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||un,this._currentKeyframe[e]=un}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,o){e&&(this._previousKeyframe.easing=e);const c=o&&o.params||{},h=function Pg(n,t){const e={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(t),r.forEach(c=>{e[c]=un})):as(o,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(h).forEach(m=>{const E=Qe(h[m],c,r);this._pendingStyles[m]=E,this._localTimelineStyles.hasOwnProperty(m)||(this._backFill[m]=this._globalTimelineStyles.hasOwnProperty(m)?this._globalTimelineStyles[m]:un),this._updateStyle(m,E)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],o=t._styleSummary[e];(!r||o.time>r.time)&&this._updateStyle(e,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((m,E)=>{const D=as(m,!0);Object.keys(D).forEach(O=>{const R=D[O];"!"==R?t.add(O):R==un&&e.add(O)}),r||(D.offset=E/this.duration),o.push(D)});const c=t.size?ct(t.values()):[],h=e.size?ct(e.values()):[];if(r){const m=o[0],E=yi(m);m.offset=0,E.offset=1,o=[m,E]}return Cd(this.element,o,c,h,this.duration,this.startTime,this.easing,!1)}}class xg extends Vl{constructor(t,e,r,o,c,h,m=!1){super(t,e,h.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=c,this._stretchStartingKeyframe=m,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&e){const c=[],h=r+e,m=e/h,E=as(t[0],!1);E.offset=0,c.push(E);const D=as(t[0],!1);D.offset=uf(m),c.push(D);const O=t.length-1;for(let R=1;R<=O;R++){let Y=as(t[R],!1);Y.offset=uf((e+Y.offset*r)/h),c.push(Y)}r=h,e=0,o="",t=c}return Cd(this.element,t,this.preStyleProps,this.postStyleProps,r,e,o,!0)}}function uf(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class y{}class g extends y{normalizePropertyName(t,e){return et(t)}normalizeStyleValue(t,e,r,o){let c="";const h=r.toString().trim();if(C[e]&&0!==r&&"0"!==r)if("number"==typeof r)c="px";else{const m=r.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&0==m[1].length&&o.push(function Oa(n,t){return new l.vHH(3005,_t)}())}return h+c}}const C=(()=>function S(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function N(n,t,e,r,o,c,h,m,E,D,O,R,Y){return{type:0,element:n,triggerName:t,isRemovalTransition:o,fromState:e,fromStyles:c,toState:r,toStyles:h,timelines:m,queriedElements:E,preStyleProps:D,postStyleProps:O,totalTime:R,errors:Y}}const te={};class be{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,o){return function ze(n,t,e,r,o){return n.some(c=>c(t,e,r,o))}(this.ast.matchers,t,e,r,o)}buildStyles(t,e,r){const o=this._stateStyles["*"],c=this._stateStyles[t],h=o?o.buildStyles(e,r):{};return c?c.buildStyles(e,r):h}build(t,e,r,o,c,h,m,E,D,O){const R=[],Y=this.ast.options&&this.ast.options.params||te,_e=this.buildStyles(r,m&&m.params||te,R),Fe=E&&E.params||te,Je=this.buildStyles(o,Fe,R),Bt=new Set,It=new Map,cn=new Map,Ft="void"===o,Rr={params:Object.assign(Object.assign({},Y),Fe)},zr=O?[]:af(t,e,this.ast.animation,c,h,_e,Je,Rr,D,R);let qi=0;if(zr.forEach(xu=>{qi=Math.max(xu.duration+xu.delay,qi)}),R.length)return N(e,this._triggerName,r,o,Ft,_e,Je,[],[],It,cn,qi,R);zr.forEach(xu=>{const Pu=xu.element,aM=sr(It,Pu,{});xu.preStyleProps.forEach(Lh=>aM[Lh]=!0);const zy=sr(cn,Pu,{});xu.postStyleProps.forEach(Lh=>zy[Lh]=!0),Pu!==e&&Bt.add(Pu)});const Mu=ct(Bt.values());return N(e,this._triggerName,r,o,Ft,_e,Je,zr,Mu,It,cn,qi)}}class at{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},o=yi(this.defaultParams);return Object.keys(t).forEach(c=>{const h=t[c];null!=h&&(o[c]=h)}),this.styles.styles.forEach(c=>{if("string"!=typeof c){const h=c;Object.keys(h).forEach(m=>{let E=h[m];E.length>1&&(E=Qe(E,o,e));const D=this.normalizer.normalizePropertyName(m,e);E=this.normalizer.normalizeStyleValue(m,D,E,e),r[D]=E})}}),r}}class pn{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(o=>{this.states[o.name]=new at(o.style,o.options&&o.options.params||{},r)}),$i(this.states,"true","1"),$i(this.states,"false","0"),e.transitions.forEach(o=>{this.transitionFactories.push(new be(t,o,this.states))}),this.fallbackTransition=function Ei(n,t,e){return new be(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,m)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,o){return this.transitionFactories.find(h=>h.match(t,e,r,o))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function $i(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Td=new uc;class Og{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],c=yd(this._driver,e,r,[]);if(r.length)throw function Nn(n){return new l.vHH(3503,_t)}();this._animations[t]=c}_buildPlayer(t,e,r){const o=t.element,c=tc(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(o,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const o=[],c=this._animations[t];let h;const m=new Map;if(c?(h=af(this._driver,e,c,ei,$a,{},{},r,Td,o),h.forEach(O=>{const R=sr(m,O.element,{});O.postStyleProps.forEach(Y=>R[Y]=null)})):(o.push(function gd(){return new l.vHH(3300,_t)}()),h=[]),o.length)throw function Qh(n){return new l.vHH(3504,_t)}();m.forEach((O,R)=>{Object.keys(O).forEach(Y=>{O[Y]=this._driver.computeStyle(R,Y,un)})});const D=Bi(h.map(O=>{const R=m.get(O.element);return this._buildPlayer(O,{},R)}));return this._playersById[t]=D,D.onDestroy(()=>this.destroy(t)),this.players.push(D),D}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function ec(n){return new l.vHH(3301,_t)}();return e}listen(t,e,r,o){const c=yo(e,"","","");return ir(this._getPlayer(t),r,c,o),()=>{}}command(t,e,r,o){if("register"==r)return void this.register(t,o[0]);if("create"==r)return void this.create(t,e,o[0]||{});const c=this._getPlayer(t);switch(r){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(t)}}}const Bl="ng-animate-queued",cc="ng-animate-disabled",Ga=[],Sd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ad={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},jr="__ng_removed";class Fn{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=function ew(n){return null!=n?n:null}(r?t.value:t),r){const c=yi(t);delete c.value,this.options=c}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(o=>{null==r[o]&&(r[o]=e[o])})}}}const Md="void",Rg=new Fn(Md);class Ng{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Cn(e,this._hostClassName)}listen(t,e,r,o){if(!this._triggers.hasOwnProperty(e))throw function wg(n,t){return new l.vHH(3302,_t)}();if(null==r||0==r.length)throw function Jh(n){return new l.vHH(3303,_t)}();if(!function tw(n){return"start"==n||"done"==n}(r))throw function bg(n,t){return new l.vHH(3400,_t)}();const c=sr(this._elementListeners,t,[]),h={name:e,phase:r,callback:o};c.push(h);const m=sr(this._engine.statesByElement,t,{});return m.hasOwnProperty(e)||(Cn(t,_i),Cn(t,_i+"-"+e),m[e]=Rg),()=>{this._engine.afterFlush(()=>{const E=c.indexOf(h);E>=0&&c.splice(E,1),this._triggers[e]||delete m[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function Tg(n){return new l.vHH(3401,_t)}();return e}trigger(t,e,r,o=!0){const c=this._getTrigger(e),h=new kg(this.id,e,t);let m=this._engine.statesByElement.get(t);m||(Cn(t,_i),Cn(t,_i+"-"+e),this._engine.statesByElement.set(t,m={}));let E=m[e];const D=new Fn(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&E&&D.absorbOptions(E.options),m[e]=D,E||(E=Rg),D.value!==Md&&E.value===D.value){if(!function xd(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let o=0;o<e.length;o++){const c=e[o];if(!t.hasOwnProperty(c)||n[c]!==t[c])return!1}return!0}(E.params,D.params)){const Fe=[],Je=c.matchStyles(E.value,E.params,Fe),Bt=c.matchStyles(D.value,D.params,Fe);Fe.length?this._engine.reportError(Fe):this._engine.afterFlush(()=>{L(t,Je),M(t,Bt)})}return}const Y=sr(this._engine.playersByElement,t,[]);Y.forEach(Fe=>{Fe.namespaceId==this.id&&Fe.triggerName==e&&Fe.queued&&Fe.destroy()});let re=c.matchTransition(E.value,D.value,t,D.params),_e=!1;if(!re){if(!o)return;re=c.fallbackTransition,_e=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:re,fromState:E,toState:D,player:h,isFallbackTransition:_e}),_e||(Cn(t,Bl),h.onStart(()=>{za(t,Bl)})),h.onDone(()=>{let Fe=this.players.indexOf(h);Fe>=0&&this.players.splice(Fe,1);const Je=this._engine.playersByElement.get(t);if(Je){let Bt=Je.indexOf(h);Bt>=0&&Je.splice(Bt,1)}}),this.players.push(h),Y.push(h),h}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(o=>o.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,os,!0);r.forEach(o=>{if(o[jr])return;const c=this._engine.fetchNamespacesByElement(o);c.size?c.forEach(h=>h.triggerLeaveAnimation(o,e,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(t,e,r,o){const c=this._engine.statesByElement.get(t),h=new Map;if(c){const m=[];if(Object.keys(c).forEach(E=>{if(h.set(E,c[E].value),this._triggers[E]){const D=this.trigger(t,E,Md,o);D&&m.push(D)}}),m.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,h),r&&Bi(m).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const o=new Set;e.forEach(c=>{const h=c.name;if(o.has(h))return;o.add(h);const E=this._triggers[h].fallbackTransition,D=r[h]||Rg,O=new Fn(Md),R=new kg(this.id,h,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:h,transition:E,fromState:D,toState:O,player:R,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let o=!1;if(r.totalAnimations){const c=r.players.length?r.playersByQueriedElement.get(t):[];if(c&&c.length)o=!0;else{let h=t;for(;h=h.parentNode;)if(r.statesByElement.get(h)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(t),o)r.markElementAsRemoved(this.id,t,!1,e);else{const c=t[jr];(!c||c===Sd)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){Cn(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const c=r.element,h=this._elementListeners.get(c);h&&h.forEach(m=>{if(m.name==r.triggerName){const E=yo(c,r.triggerName,r.fromState.value,r.toState.value);E._data=t,ir(r.player,m.phase,E,m.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):e.push(r)}),this._queue=[],e.sort((r,o)=>{const c=r.transition.ast.depCount,h=o.transition.ast.depCount;return 0==c||0==h?c-h:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class Qy{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,c)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new Ng(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList,o=this.namespacesByHostElement,c=r.length-1;if(c>=0){let h=!1;if(void 0!==this.driver.getParentElement){let m=this.driver.getParentElement(e);for(;m;){const E=o.get(m);if(E){const D=r.indexOf(E);r.splice(D+1,0,t),h=!0;break}m=this.driver.getParentElement(m)}}else for(let m=c;m>=0;m--)if(this.driver.containsElement(r[m].hostElement,e)){r.splice(m+1,0,t),h=!0;break}h||r.unshift(t)}else r.push(t);return o.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let o=this._namespaceLookup[t];o&&o.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const o=Object.keys(r);for(let c=0;c<o.length;c++){const h=r[o[c]].namespaceId;if(h){const m=this._fetchNamespace(h);m&&e.add(m)}}}return e}trigger(t,e,r,o){if(hf(e)){const c=this._fetchNamespace(t);if(c)return c.trigger(e,r,o),!0}return!1}insertNode(t,e,r,o){if(!hf(e))return;const c=e[jr];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;const h=this.collectedLeaveElements.indexOf(e);h>=0&&this.collectedLeaveElements.splice(h,1)}if(t){const h=this._fetchNamespace(t);h&&h.insertNode(e,r)}o&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Cn(t,cc)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),za(t,cc))}removeNode(t,e,r,o){if(hf(e)){const c=t?this._fetchNamespace(t):null;if(c?c.removeNode(e,o):this.markElementAsRemoved(t,e,!1,o),r){const h=this.namespacesByHostElement.get(e);h&&h.id!==t&&h.removeNode(e,o)}}else this._onRemovalComplete(e,o)}markElementAsRemoved(t,e,r,o,c){this.collectedLeaveElements.push(e),e[jr]={namespaceId:t,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,r,o,c){return hf(e)?this._fetchNamespace(t).listen(e,r,o,c):()=>{}}_buildInstruction(t,e,r,o,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,o,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,os,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Ol,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Bi(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const r=t[jr];if(r&&r.setForRemoval){if(t[jr]=Sd,r.namespaceId){this.destroyInnerAnimations(t);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(t)}this._onRemovalComplete(t,r.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(cc))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Cn(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Bi(e).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(t){throw function La(n){return new l.vHH(3402,_t)}()}_flushAnimations(t,e){const r=new uc,o=[],c=new Map,h=[],m=new Map,E=new Map,D=new Map,O=new Set;this.disabledNodes.forEach(nt=>{O.add(nt);const pt=this.driver.query(nt,".ng-animate-queued",!0);for(let Et=0;Et<pt.length;Et++)O.add(pt[Et])});const R=this.bodyNode,Y=Array.from(this.statesByElement.keys()),re=dc(Y,this.collectedEnterElements),_e=new Map;let Fe=0;re.forEach((nt,pt)=>{const Et=ei+Fe++;_e.set(pt,Et),nt.forEach(nn=>Cn(nn,Et))});const Je=[],Bt=new Set,It=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const pt=this.collectedLeaveElements[nt],Et=pt[jr];Et&&Et.setForRemoval&&(Je.push(pt),Bt.add(pt),Et.hasAnimation?this.driver.query(pt,".ng-star-inserted",!0).forEach(nn=>Bt.add(nn)):It.add(pt))}const cn=new Map,Ft=dc(Y,Array.from(Bt));Ft.forEach((nt,pt)=>{const Et=$a+Fe++;cn.set(pt,Et),nt.forEach(nn=>Cn(nn,Et))}),t.push(()=>{re.forEach((nt,pt)=>{const Et=_e.get(pt);nt.forEach(nn=>za(nn,Et))}),Ft.forEach((nt,pt)=>{const Et=cn.get(pt);nt.forEach(nn=>za(nn,Et))}),Je.forEach(nt=>{this.processLeaveNode(nt)})});const Rr=[],zr=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(e).forEach(Et=>{const nn=Et.player,Zr=Et.element;if(Rr.push(nn),this.collectedEnterElements.length){const Yi=Zr[jr];if(Yi&&Yi.setForMove){if(Yi.previousTriggersValues&&Yi.previousTriggersValues.has(Et.triggerName)){const Vh=Yi.previousTriggersValues.get(Et.triggerName),sd=this.statesByElement.get(Et.element);sd&&sd[Et.triggerName]&&(sd[Et.triggerName].value=Vh)}return void nn.destroy()}}const gl=!R||!this.driver.containsElement(R,Zr),eo=cn.get(Zr),id=_e.get(Zr),rr=this._buildInstruction(Et,r,id,eo,gl);if(rr.errors&&rr.errors.length)return void zr.push(rr);if(gl)return nn.onStart(()=>L(Zr,rr.fromStyles)),nn.onDestroy(()=>M(Zr,rr.toStyles)),void o.push(nn);if(Et.isFallbackTransition)return nn.onStart(()=>L(Zr,rr.fromStyles)),nn.onDestroy(()=>M(Zr,rr.toStyles)),void o.push(nn);const cM=[];rr.timelines.forEach(Yi=>{Yi.stretchStartingKeyframe=!0,this.disabledNodes.has(Yi.element)||cM.push(Yi)}),rr.timelines=cM,r.append(Zr,rr.timelines),h.push({instruction:rr,player:nn,element:Zr}),rr.queriedElements.forEach(Yi=>sr(m,Yi,[]).push(nn)),rr.preStyleProps.forEach((Yi,Vh)=>{const sd=Object.keys(Yi);if(sd.length){let Bh=E.get(Vh);Bh||E.set(Vh,Bh=new Set),sd.forEach(UD=>Bh.add(UD))}}),rr.postStyleProps.forEach((Yi,Vh)=>{const sd=Object.keys(Yi);let Bh=D.get(Vh);Bh||D.set(Vh,Bh=new Set),sd.forEach(UD=>Bh.add(UD))})});if(zr.length){const nt=[];zr.forEach(pt=>{nt.push(function zn(n,t){return new l.vHH(3505,_t)}())}),Rr.forEach(pt=>pt.destroy()),this.reportError(nt)}const qi=new Map,Mu=new Map;h.forEach(nt=>{const pt=nt.element;r.has(pt)&&(Mu.set(pt,pt),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,qi))}),o.forEach(nt=>{const pt=nt.element;this._getPreviousPlayers(pt,!1,nt.namespaceId,nt.triggerName,null).forEach(nn=>{sr(qi,pt,[]).push(nn),nn.destroy()})});const xu=Je.filter(nt=>ff(nt,E,D)),Pu=new Map;rw(Pu,this.driver,It,D,un).forEach(nt=>{ff(nt,E,D)&&xu.push(nt)});const zy=new Map;re.forEach((nt,pt)=>{rw(zy,this.driver,new Set(nt),E,"!")}),xu.forEach(nt=>{const pt=Pu.get(nt),Et=zy.get(nt);Pu.set(nt,Object.assign(Object.assign({},pt),Et))});const Lh=[],lM=[],uM={};h.forEach(nt=>{const{element:pt,player:Et,instruction:nn}=nt;if(r.has(pt)){if(O.has(pt))return Et.onDestroy(()=>M(pt,nn.toStyles)),Et.disabled=!0,Et.overrideTotalTime(nn.totalTime),void o.push(Et);let Zr=uM;if(Mu.size>1){let eo=pt;const id=[];for(;eo=eo.parentNode;){const rr=Mu.get(eo);if(rr){Zr=rr;break}id.push(eo)}id.forEach(rr=>Mu.set(rr,Zr))}const gl=this._buildAnimation(Et.namespaceId,nn,qi,c,zy,Pu);if(Et.setRealPlayer(gl),Zr===uM)Lh.push(Et);else{const eo=this.playersByElement.get(Zr);eo&&eo.length&&(Et.parentPlayer=Bi(eo)),o.push(Et)}}else L(pt,nn.fromStyles),Et.onDestroy(()=>M(pt,nn.toStyles)),lM.push(Et),O.has(pt)&&o.push(Et)}),lM.forEach(nt=>{const pt=c.get(nt.element);if(pt&&pt.length){const Et=Bi(pt);nt.setRealPlayer(Et)}}),o.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<Je.length;nt++){const pt=Je[nt],Et=pt[jr];if(za(pt,$a),Et&&Et.hasAnimation)continue;let nn=[];if(m.size){let gl=m.get(pt);gl&&gl.length&&nn.push(...gl);let eo=this.driver.query(pt,Ol,!0);for(let id=0;id<eo.length;id++){let rr=m.get(eo[id]);rr&&rr.length&&nn.push(...rr)}}const Zr=nn.filter(gl=>!gl.destroyed);Zr.length?Jy(this,pt,Zr):this.processLeaveNode(pt)}return Je.length=0,Lh.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const pt=this.players.indexOf(nt);this.players.splice(pt,1)}),nt.play()}),Lh}elementContainsData(t,e){let r=!1;const o=e[jr];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,o,c){let h=[];if(e){const m=this.playersByQueriedElement.get(t);m&&(h=m)}else{const m=this.playersByElement.get(t);if(m){const E=!c||c==Md;m.forEach(D=>{D.queued||!E&&D.triggerName!=o||h.push(D)})}}return(r||o)&&(h=h.filter(m=>!(r&&r!=m.namespaceId||o&&o!=m.triggerName))),h}_beforeAnimationBuild(t,e,r){const c=e.element,h=e.isRemovalTransition?void 0:t,m=e.isRemovalTransition?void 0:e.triggerName;for(const E of e.timelines){const D=E.element,O=D!==c,R=sr(r,D,[]);this._getPreviousPlayers(D,O,h,m,e.toState).forEach(re=>{const _e=re.getRealPlayer();_e.beforeDestroy&&_e.beforeDestroy(),re.destroy(),R.push(re)})}L(c,e.fromStyles)}_buildAnimation(t,e,r,o,c,h){const m=e.triggerName,E=e.element,D=[],O=new Set,R=new Set,Y=e.timelines.map(_e=>{const Fe=_e.element;O.add(Fe);const Je=Fe[jr];if(Je&&Je.removedBeforeQueried)return new Rs(_e.duration,_e.delay);const Bt=Fe!==E,It=function Xy(n){const t=[];return Sr(n,t),t}((r.get(Fe)||Ga).map(qi=>qi.getRealPlayer())).filter(qi=>!!qi.element&&qi.element===Fe),cn=c.get(Fe),Ft=h.get(Fe),Rr=tc(0,this._normalizer,0,_e.keyframes,cn,Ft),zr=this._buildPlayer(_e,Rr,It);if(_e.subTimeline&&o&&R.add(Fe),Bt){const qi=new kg(t,m,Fe);qi.setRealPlayer(zr),D.push(qi)}return zr});D.forEach(_e=>{sr(this.playersByQueriedElement,_e.element,[]).push(_e),_e.onDone(()=>function XC(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const o=r.indexOf(e);r.splice(o,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,_e.element,_e))}),O.forEach(_e=>Cn(_e,Ir));const re=Bi(Y);return re.onDestroy(()=>{O.forEach(_e=>za(_e,Ir)),M(E,e.toStyles)}),R.forEach(_e=>{sr(o,_e,[]).push(re)}),re}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Rs(t.duration,t.delay)}}class kg{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Rs,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>ir(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){sr(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function hf(n){return n&&1===n.nodeType}function nw(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function rw(n,t,e,r,o){const c=[];e.forEach(E=>c.push(nw(E)));const h=[];r.forEach((E,D)=>{const O={};E.forEach(R=>{const Y=O[R]=t.computeStyle(D,R,o);(!Y||0==Y.length)&&(D[jr]=Ad,h.push(D))}),n.set(D,O)});let m=0;return e.forEach(E=>nw(E,c[m++])),h}function dc(n,t){const e=new Map;if(n.forEach(m=>e.set(m,[])),0==t.length)return e;const o=new Set(t),c=new Map;function h(m){if(!m)return 1;let E=c.get(m);if(E)return E;const D=m.parentNode;return E=e.has(D)?D:o.has(D)?1:h(D),c.set(m,E),E}return t.forEach(m=>{const E=h(m);1!==E&&e.get(E).push(m)}),e}function Cn(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function za(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function Jy(n,t,e){Bi(e).onDone(()=>n.processLeaveNode(t))}function Sr(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof Vi?Sr(r.players,t):t.push(r)}}function ff(n,t,e){const r=e.get(n);if(!r)return!1;let o=t.get(n);return o?r.forEach(c=>o.add(c)):t.set(n,r),e.delete(n),!0}class pf{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,c)=>{},this._transitionEngine=new Qy(t,e,r),this._timelineEngine=new Og(t,e,r),this._transitionEngine.onRemovalComplete=(o,c)=>this.onRemovalComplete(o,c)}registerTrigger(t,e,r,o,c){const h=t+"-"+o;let m=this._triggerCache[h];if(!m){const E=[],O=yd(this._driver,c,E,[]);if(E.length)throw function Kh(n,t){return new l.vHH(3404,_t)}();m=function Ot(n,t,e){return new pn(n,t,e)}(o,O,this._normalizer),this._triggerCache[h]=m}this._transitionEngine.registerTrigger(e,o,m)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,o){this._transitionEngine.insertNode(t,e,r,o)}onRemove(t,e,r,o){this._transitionEngine.removeNode(t,e,o||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,o){if("@"==r.charAt(0)){const[c,h]=Fs(r);this._timelineEngine.command(c,e,h,o)}else this._transitionEngine.trigger(t,e,r,o)}listen(t,e,r,o,c){if("@"==r.charAt(0)){const[h,m]=Fs(r);return this._timelineEngine.listen(h,e,m,c)}return this._transitionEngine.listen(t,e,r,o,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let ev=(()=>{class n{constructor(e,r,o){this._element=e,this._startStyles=r,this._endStyles=o,this._state=0;let c=n.initialStylesByElement.get(e);c||n.initialStylesByElement.set(e,c={}),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&M(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(M(this._element,this._initialStyles),this._endStyles&&(M(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(L(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(L(this._element,this._endStyles),this._endStyles=null),M(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Fg(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const o=e[r];tv(o)&&(t=t||{},t[o]=n[o])}return t}function tv(n){return"display"===n||"position"===n}class nv{constructor(t,e,r,o){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(r=>{"offset"!=r&&(t[r]=this._finished?e[r]:ji(this.element,r))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class rv{validateStyleProperty(t){return Hi(t)}matchesElement(t,e){return!1}containsElement(t,e){return Vs(t,e)}getParentElement(t){return xl(t)}query(t,e,r){return Ua(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}animate(t,e,r,o,c,h=[]){const E={duration:r,delay:o,fill:0==o?"both":"forwards"};c&&(E.easing=c);const D={},O=h.filter(Y=>Y instanceof nv);(function fr(n,t){return 0===n||0===t})(r,o)&&O.forEach(Y=>{let re=Y.currentSnapshot;Object.keys(re).forEach(_e=>D[_e]=re[_e])}),e=function Us(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let c=t[0],h=[];if(r.forEach(m=>{c.hasOwnProperty(m)||h.push(m),c[m]=e[m]}),h.length)for(var o=1;o<t.length;o++){let m=t[o];h.forEach(function(E){m[E]=ji(n,E)})}}return t}(t,e=e.map(Y=>as(Y,!1)),D);const R=function iw(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=Fg(t[0]),t.length>1&&(r=Fg(t[t.length-1]))):t&&(e=Fg(t)),e||r?new ev(n,e,r):null}(t,e);return new nv(t,e,E,R)}}let sw=(()=>{class n extends Il{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(e)?xa(e):e;return iv(this._renderer,null,r,"register",[o]),new ow(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(fe))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ow extends class Cg{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Lg(this._id,t,e||{},this._renderer)}}class Lg{constructor(t,e,r,o){this.id=t,this.element=e,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return iv(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function iv(n,t,e,r,o){return n.setProperty(t,`@@${e}:${r}`,o)}const mf="@.disabled";let aw=(()=>{class n{constructor(e,r,o){this.delegate=e,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(c,h)=>{const m=null==h?void 0:h.parentNode(c);m&&h.removeChild(m,c)}}createRenderer(e,r){const c=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let O=this._rendererCache.get(c);return O||(O=new sv("",c,this.engine),this._rendererCache.set(c,O)),O}const h=r.id,m=r.id+"-"+this._currentId;this._currentId++,this.engine.register(m,e);const E=O=>{Array.isArray(O)?O.forEach(E):this.engine.registerTrigger(h,m,e,O.name,O)};return r.data.animation.forEach(E),new _f(this,m,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,o){e>=0&&e<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[h,m]=c;h(m)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(pf),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class sv{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,o=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,o)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==mf?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class _f extends sv{constructor(t,e,r,o){super(e,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==mf?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const o=function lw(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let c=e.substr(1),h="";return"@"!=c.charAt(0)&&([c,h]=function uw(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(c)),this.engine.listen(this.namespaceId,o,c,h,m=>{this.factory.scheduleListenerCallback(m._data||-1,r,m)})}return this.delegate.listen(t,e,r)}}let cw=(()=>{class n extends pf{constructor(e,r,o){super(e.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fe),l.LFG(ja),l.LFG(y))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Vg=new l.OlP("AnimationModuleType"),ov=[{provide:Il,useClass:sw},{provide:y,useFactory:function dw(){return new g}},{provide:pf,useClass:cw},{provide:l.FYo,useFactory:function hw(n,t,e){return new aw(n,t,e)},deps:[En,pf,l.R0b]}],av=[{provide:ja,useFactory:()=>new rv},{provide:Vg,useValue:"BrowserAnimations"},...ov],fw=[{provide:ja,useClass:_d},{provide:Vg,useValue:"NoopAnimations"},...ov];let pw=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?fw:av}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:av,imports:[Sa]}),n})();var tr=P(8996),Ul=P(3269);function gt(...n){const t=(0,Ul.yG)(n);return(0,tr.D)(n,t)}var Ar=P(7579),ht=P(4004),$D=P(6063);class gw extends Ar.x{constructor(t=1/0,e=1/0,r=$D.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:c,_windowTime:h}=this;e||(r.push(t),!o&&r.push(c.now()+h)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:o}=this,c=o.slice();for(let h=0;h<c.length&&!t.closed;h+=r?1:2)t.next(c[h]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:o}=this,c=(o?1:2)*t;if(t<1/0&&c<r.length&&r.splice(0,r.length-c),!o){const h=e.now();let m=0;for(let E=1;E<r.length&&r[E]<=h;E+=2)m=E;m&&r.splice(0,m+1)}}}var Ci=P(8306),mw=P(727),wn=P(4482),or=P(5403);function Pd(){return(0,wn.e)((n,t)=>{let e=null;n._refCount++;const r=(0,or.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,c=e;e=null,o&&(!c||o===c)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class lv extends Ci.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,wn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new mw.w0;const e=this.getSubject();t.add(this.source.subscribe((0,or.x)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=mw.w0.EMPTY)}return t}refCount(){return Pd()(this)}}var ni=P(576);const uv={connector:()=>new Ar.x};function Bg(n,t=uv){const{connector:e}=t;return(0,wn.e)((r,o)=>{const c=e();(0,tr.D)(n(function Od(n){return new Ci.y(t=>n.subscribe(t))}(c))).subscribe(o),o.add(r.subscribe(c))})}function yf(n,t){const e=(0,ni.m)(n)?n:()=>n;return(0,ni.m)(t)?Bg(t,{connector:e}):r=>new lv(r,e)}var Za=P(8421),Hg=P(5032);const jg=["container"],$g=new l.OlP("LottieOptions"),Wg=new l.OlP("AnimationCache");let vf=(()=>{class n{constructor(e,r,o,c){this.ngZone=e,this.platformId=r,this.options=o,this.animationCache=c,this.player$=function yw(n){const t=n();return t instanceof Promise?(0,tr.D)(t).pipe((0,ht.U)(e=>e.default||e),function Ug(n,t,e,r){e&&!(0,ni.m)(e)&&(r=e);const o=(0,ni.m)(e)?e:void 0;return c=>yf(new gw(n,t,r),o)(c)}(1),Pd()):gt(t)}(this.options.player)}resolveLoaderAndLoadAnimation(e,r,o,c,h,m){Yn(this.platformId)||this.player$.pipe(function Hl(n){return(0,wn.e)((t,e)=>{(0,Za.Xf)(n).subscribe((0,or.x)(e,()=>e.complete(),Hg.Z)),!e.closed&&t.subscribe(e)})}(m)).subscribe(E=>{const D=function hv(n,t,e){const r=Object.assign({container:t,renderer:"svg",loop:!0,autoplay:!0},n);return null!==e?e.transformOptions(r):r}(e,r,this.animationCache);this.loadAnimation(E,D,o,c,h)})}loadAnimation(e,r,o,c,h){const m=this.ngZone.runOutsideAngular(()=>e.loadAnimation(r));(function Gg(n,t,e){null!==n&&e.addEventListener("config_ready",()=>{n.set(t,e)})})(this.animationCache,r,m),c.emit(m),o.addEventListeners(h,m)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(l.Lbi),l.LFG($g),l.LFG(Wg))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),zg=(()=>{class n{constructor(e,r){this.platformId=e,this.animationLoader=r,this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=new l.vpe,this.complete=new l.vpe,this.loopComplete=new l.vpe,this.enterFrame=new l.vpe,this.segmentStart=new l.vpe,this.configReady=new l.vpe,this.dataReady=new l.vpe,this.domLoaded=new l.vpe,this.destroy=new l.vpe,this.error=new l.vpe,this.destroy$=new Ar.x}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadAnimation(e,r,o,c){Yn(this.platformId)||!e.options||(o.destroyAnimation(),this.animationLoader.resolveLoaderAndLoadAnimation(e.options.currentValue,r,o,this.animationCreated,c,this.destroy$))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Lbi),l.Y36(vf))},n.\u0275dir=l.lG2({type:n,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}}),n})();class Ef{constructor(){this.cache=new Map}static create(t){return t.useCache?new Ef:null}transformOptions(t){const e=t.path;return e&&this.cache.has(e)&&(delete t.path,t.animationData=this.cache.get(e)),t}set(t,e){t.animationData||this.cache.set(t.path,e.animationData)}}let Rd=(()=>{class n{constructor(e,r){this.ngZone=e,this.platformId=r,this.eventsMap={complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"config_ready",dataReady:"data_ready",domLoaded:"DOMLoaded",destroy:"destroy",error:"error"},this.animationItem=null}ngOnDestroy(){this.destroyAnimation()}addEventListeners(e,r){this.animationItem=r,this.ngZone.runOutsideAngular(()=>this.addEventListenersToObservedEventEmitters(e))}destroyAnimation(){Yn(this.platformId)||null===this.animationItem||(this.animationItem.destroy(),this.animationItem=null)}addEventListenersToObservedEventEmitters(e){const r=function jl(n,t){return Object.keys(n).map(e=>[e,n[e]]).filter(([e,r])=>r instanceof l.vpe&&r.observers.length>0&&t.hasOwnProperty(e)).map(([e,r])=>({eventEmitter:r,name:t[e]}))}(e,this.eventsMap);for(const{name:o,eventEmitter:c}of r)this.animationItem.addEventListener(o,h=>{c.emit(h)})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),qa=(()=>{class n extends zg{constructor(e,r,o){super(e,o),this.eventsFacade=r,this.width=null,this.height=null,this.container=null}ngOnChanges(e){super.loadAnimation(e,this.container.nativeElement,this.eventsFacade,this)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Lbi),l.Y36(Rd,2),l.Y36(vf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-lottie"]],viewQuery:function(e,r){if(1&e&&l.Gf(jg,7),2&e){let o;l.iGM(o=l.CRH())&&(r.container=o.first)}},inputs:{width:"width",height:"height"},features:[l._Bn([Rd]),l.qOj,l.TTD],decls:2,vars:6,consts:[[3,"ngStyle","ngClass"],["container",""]],template:function(e,r){1&e&&l._UZ(0,"div",0,1),2&e&&(l.Udp("width",r.width||"100%")("height",r.height||"100%"),l.Q6J("ngStyle",r.styles)("ngClass",r.containerClass))},directives:[ml,Ai],encapsulation:2,changeDetection:0}),n})(),Cf=(()=>{class n{static forRoot(e){return{ngModule:n,providers:[vf,{provide:$g,useValue:e},{provide:Wg,useFactory:Ef.create,deps:[$g]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Xi]]}),n})();class ri extends Ar.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:r}=this;if(t)throw e;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}let cs=(()=>{class n{constructor(){this._scrollRouterEnabled=new ri(!1),this.scrolledOrigin=!1,this.urlsList=""}enable(){this._scrollRouterEnabled.next(!0)}disable(){this._scrollRouterEnabled.next(!1)}enabled(){return this._scrollRouterEnabled.getValue()}active(e){let r=!1;const o=location.hash.replace("#/","");return r=this.urlsList.includes(e),o==e&&(r||(this.urlsList+=`${e},`)),r}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wf=(()=>{class n{constructor(e,r,o){this.componentFactoryResolver=e,this.appRef=r,this.injector=o,this.scrolledTimes=0}appendComponentToBody(e){var r;this.scrolledTimes+=1;const o=this.componentFactoryResolver.resolveComponentFactory(e).create(this.injector);o.instance.scroll=this.scrolledTimes,this.appRef.attachView(o.hostView);const c=o.hostView.rootNodes[0];this.scrolledTimes>1&&(null===(r=document.body.querySelector("section-host"))||void 0===r||r.remove()),document.body.getElementsByClassName("container-sections")[0].appendChild(c)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),bf=(()=>{class n{constructor(e){this.el=e}ngAfterViewInit(){setTimeout(()=>{this.el.nativeElement.style.display="none"},this.timeouthide)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","timeouthide",""]],inputs:{timeouthide:"timeouthide"}}),n})(),Tf=(()=>{class n{constructor(e){this.el=e}ngAfterViewInit(){setTimeout(()=>{this.el.nativeElement.style.display="block"},this.timeoutshow)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","timeoutshow",""]],inputs:{timeoutshow:"timeoutshow"}}),n})();function Df(n,t){if(1&n&&l._UZ(0,"ng-lottie",4),2&n){const e=l.oxw(2);l.Q6J("options",e.optionsAnimacaoRodape)}}function If(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",1)(1,"ng-lottie",2),l.NdJ("animationCreated",function(){return l.CHM(e),l.oxw().animacaoLoaderCriada()}),l.qZA(),l.YNc(2,Df,1,1,"ng-lottie",3),l.qZA()}if(2&n){const e=l.oxw();l.xp6(1),l.Q6J("timeouthide",1800)("options",e.optionsAnimacaoLoader),l.xp6(1),l.Q6J("ngIf",e.loaderAnimationCriado)}}let Sf=(()=>{class n{constructor(){this.loaderAnimationCriado=!1,this.optionsAnimacaoLoader={path:"./assets/lootie-animations/loading/loading_01.json",loop:!0},this.optionsAnimacaoRodape={path:"./assets/lootie-animations/loading/loading_02.json",loop:!1},this.show=!0}animacaoLoaderCriada(){setTimeout(()=>{this.loaderAnimationCriado=!0},1700)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-loader"]],inputs:{show:"show"},decls:1,vars:1,consts:[["class","loader",4,"ngIf"],[1,"loader"],[1,"load",3,"timeouthide","options","animationCreated"],["id","footer","class","why__we-do-it",3,"options",4,"ngIf"],["id","footer",1,"why__we-do-it",3,"options"]],template:function(e,r){1&e&&l.YNc(0,If,3,3,"div",0),2&e&&l.Q6J("ngIf",r.show)},directives:[ln,qa,bf],styles:[".load[_ngcontent-%COMP%]{width:17%;top:40%;position:absolute;left:50%;transform:translate(-50%,-50%)}.why__we-do-it[_ngcontent-%COMP%]{position:fixed;top:55%;left:50%;transform:translate(-50%,-50%);width:42%}"]}),n})();const Zg=Li("fade",[Gn("void => *",[bt({transform:"translateX(-100%)"}),en(300)]),Gn("* => void",[en(300,bt({transform:"translateX(100%)"}))])]),qg=Li("fade",[Gn("void => *",[bt({transform:"translateX(-100%)"}),en(500)]),Gn("* => void",[en(500,bt({transform:"translateX(100%)"}))])]),Af=Li("fadeLeft",[Gn("void => *",[bt({transform:"translateX(100%)"}),en(500)]),Gn("* => void",[en(500,bt({transform:"translateX(-100%)"}))])]),fv=(Li("fadeLeft",[Gn("void => *",[bt({transform:"translateX(100%)"}),en(300)]),Gn("* => void",[en(300,bt({transform:"translateX(-100%)"}))])]),Li("fadeCascade",[Gn("void => *",[fo(":enter",[bt({opacity:0}),bt({transform:"translateX(-50%)"}),function Qu(n,t){return{type:12,timings:n,animation:t}}("60ms",en("600ms ease-out",bt({opacity:1,transform:"translateX(0)"})))],{optional:!0})])])),Yg=Li("rightToLeft",[Gn("void => *",[en("3s",mn([bt({transform:"{{direction0}}",offset:0}),bt({transform:"{{direction1}})",offset:.5}),bt({transform:"{{direction2}}",offset:1})]))],{params:{directionSize0:"-300px",directionSize1:"20px",directionSize2:"500px"}})]),Ew=Li("circularMenu",[Gn("* => *",[fo("a",[en("0.2s",bt({transform:"translateY(-50%)"})),en("0.2s",bt({transform:"translateY(50%)"})),en("0.2s",bt({transform:"translateY(-20%)"})),en("0.2s",bt({transform:"translateY(20%)"})),en("0.2s",bt({transform:"translateY(-10%)"})),en("0.2s",bt({transform:"translateY(10%)"})),en("0.2s",bt({transform:"translateY(5%)"})),en("0.2s",bt({transform:"translateY(0%)"}))])])]);let xf=[{direction0:"translatex(500px) translatey(-500px) rotate(-6deg)",direction1:"translatex(0px) translatey(0px) rotate(-6deg)",direction2:"translatex(-300px) translatey(300px) rotate(-6deg)",isLastDirection:!1},{direction0:"translatex(-300px) translatey(-300px) rotate(6deg)",direction1:"translatex(0px) translatey(0px) rotate(6deg)",direction2:"translatex(500px) translatey(500px) rotate(6deg)",isLastDirection:!1},{direction0:"translatex(-500px) translatey(500px) rotate(-6deg)",direction1:"translatex(0px) translatey(0px) rotate(-6deg)",direction2:"translatex(300px) translatey(-300px) rotate(-6deg)",isLastDirection:!1},{direction0:"translatex(300px) translatey(300px) rotate(6deg)",direction1:"translatex(0px) translatey(0px) rotate(6deg)",direction2:"translatex(-500px) translatey(-500px) rotate(6deg)",isLastDirection:!1}],Nd=[{color:"#2212F0",fontColor:"white",text:"Just pretty is not enough."},{color:"#F00045",fontColor:"white",text:"We believe in tasteful brands."},{color:"#8112F0",fontColor:"white",text:"Don\u2019t say you do it differently. Do it differently."},{color:"#C816F8",fontColor:"white",text:"The devil is in the details."},{color:"#FFFF55",fontColor:"black",text:"A brand is an essence."},{color:"#2212F0",fontColor:"white",text:"Question Everything."},{color:"#F00045",fontColor:"white",text:"Quality instead of quantity."},{color:"#8112F0",fontColor:"white",text:"Grow Slow. Grow Real."},{color:"#C816F8",fontColor:"white",text:"Experience Matters."},{color:"#FFFF55",fontColor:"black",text:"Imagination rules the world."}],kd=(()=>{class n{constructor(){this._showLettering=new ri(!1),this.showLettering$=this._showLettering.asObservable()}show(e=3e3){this.props=this.randomLettering(),this._showLettering.next(!0),this.timeout=setTimeout(()=>{this.hide()},e)}hide(){clearTimeout(this.timeout),this._showLettering.next(!1)}randomLettering(){const e=Nd.filter(h=>!h.triggered);if(0===e.length)return Nd.forEach(h=>h.triggered=!1),this.randomLettering();let o=e[Math.floor(Math.random()*e.length)];const c=Nd.findIndex(h=>h.text===o.text);return Nd[c].triggered=!0,o.animationConfig={value:!0,params:this.getRandomDirection()},o}getRandomDirection(){let e=xf.filter(h=>!h.isLastDirection);const r=Math.floor(Math.random()*e.length),o=e[r],c=xf.findIndex(h=>h.direction0===o.direction0);return xf.forEach(h=>h.isLastDirection=!1),xf[c].isLastDirection=!0,e[r]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pv(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",1),l.NdJ("click",function(){return l.CHM(e),l.oxw().lettering.hide()}),l._UZ(1,"div",2),l.TgZ(2,"div",3)(3,"p",4),l._uU(4),l.qZA()()()}if(2&n){const e=l.oxw();l.xp6(2),l.Udp("background-color",e.lettering.props.color),l.Q6J("@rightToLeft",e.lettering.props.animationConfig),l.xp6(1),l.Udp("color",e.lettering.props.fontColor),l.xp6(1),l.Oqu(e.lettering.props.text)}}let Cw=(()=>{class n{constructor(e){this.lettering=e,this.exibirLetreiro$=this.lettering.showLettering$}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(kd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["lettering-color"]],decls:2,vars:3,consts:[[3,"click",4,"ngIf"],[3,"click"],[1,"cover-black"],[1,"lettering"],[1,"text-lettering"]],template:function(e,r){1&e&&(l.YNc(0,pv,5,6,"div",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,r.exibirLetreiro$))},directives:[ln],pipes:[wa],styles:[".text-lettering[_ngcontent-%COMP%]{font-size:3vw;padding-left:10px;padding-top:10px;font-family:Montserrat,sans-serif;font-weight:800;text-transform:uppercase;white-space:nowrap}.lettering[_ngcontent-%COMP%]{display:block;height:90px;position:fixed;padding:5px 15vw;top:50%;border:1px solid #ffffff;box-shadow:10px 10px 5px #0009;z-index:99999999999}.cover-black[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:#0009;z-index:99999999998}"],data:{animation:[Yg]}}),n})();const gv={breakSomeEggs:{color:"#2212F0",text:"DON'T BE AFRAID OF NOT BEING\nACCEPTED BY EVERYONE.\nBRANDS SHOULD HAVE\nOPINIONS AND PERSONALITY.\nTHIS CREATES A STRONG\nCOMMUNITY OF PEOPLE,\nCLIENTS, AND SPONTANEOUS\nBRAND AMBASSADORS."},youAreWhatYouEat:{color:"#F00045",text:"INSPIRATION COMES FROM\nDIFFERENT AREAS AND\nMOMENTS, AND IT'S NOT\nALWAYS FROM WHERE\nYOU'D EXPECT. \nYOU MUST COMMIT\nTO INSPIRING OTHERS \nAND BEING INSPIRED."},spiceThingsUp:{color:"#8112F0",text:"DETAILS ARE EVERYTHING.\nWHETHER IN DESIGN OR\nDEALING WITH A TOUGH\nCUSTOMER, MINOR DETAILS\nCAN BE THE DIFFERENCE\nBETWEEN GOING VIRAL OR \nBEING KNOWN AS A\nCOUCH POTATO."},theProofIsInThePudding:{color:"#C816F8",text:"IT'S ALL ABOUT EXECUTION.\nWHAT YOU DO IS MORE\nIMPORTANT THAN WHAT\nYOU SAY, BE NUTS ABOUT\nDOING GREAT THINGS."}};let Kg=(()=>{class n{constructor(){this._showPopup=new ri(!1),this.showPopup$=this._showPopup.asObservable()}show(e){this.props=gv[e],this._showPopup.next(!0)}hide(){this._showPopup.getValue()&&this._showPopup.next(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function mv(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",1)(1,"div",2),l._UZ(2,"span",3),l.qZA(),l.TgZ(3,"button",4),l.NdJ("click",function(){return l.CHM(e),l.oxw().closePopup()}),l._uU(4,"X"),l.qZA()()}if(2&n){const e=l.oxw();l.Udp("background-color",e.popup.props.color),l.xp6(2),l.Q6J("innerText",e.popup.props.text)}}let _v=(()=>{class n{constructor(e){this.popup=e,this.exibirPopup$=this.popup.showPopup$,this.closePopup=()=>this.popup.hide()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Kg))},n.\u0275cmp=l.Xpm({type:n,selectors:[["popup-values"]],decls:2,vars:3,consts:[["class","popup",3,"background-color",4,"ngIf"],[1,"popup"],[1,"popup__content"],[1,"popup__item",3,"innerText"],[1,"popup__close",3,"click"]],template:function(e,r){1&e&&(l.YNc(0,mv,5,3,"div",0),l.ALo(1,"async")),2&e&&l.Q6J("ngIf",l.lcZ(1,1,r.exibirPopup$))},directives:[ln],pipes:[wa],styles:[".popup[_ngcontent-%COMP%]{overflow-y:hidden;position:fixed;overflow:hidden;right:0;top:0;width:100vw;height:100vh;z-index:999999999;background-color:#1c1c1c;background-image:url(background.fc45dbbbf885d2f9.png)}.popup__content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:100%}.popup__close[_ngcontent-%COMP%]{position:absolute;top:10%;right:10%;font-family:Montserrat,sans-serif;font-weight:600;font-size:72px;color:#fff;text-decoration:none;background-color:transparent;cursor:pointer;border:0;cursor:var(--hashiOpenSVG) 0 46,pointer}.popup__close[_ngcontent-%COMP%]:hover{color:#ff75ff;font-weight:700}.popup__close[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}.popup__item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:900;font-size:3vw;text-transform:uppercase;text-decoration:none;text-align:center;color:#fff;display:block;border:1px solid transparent;border-radius:6px;letter-spacing:4px}"]}),n})(),Pf=(()=>{class n{constructor(e,r){this.el=e,this.builder=r;var o=this.el.nativeElement;o&&this.builder.build(this.opacity("0.2","5s")).create(o).play()}opacity(e,r){return[en(r),en(r,bt({opacity:e}))]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Il))},n.\u0275dir=l.lG2({type:n,selectors:[["","opacity",""]]}),n})(),ii=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["video","autoplay",""]],hostAttrs:["autoplay","","oncanplay","this.play()","onloadedmetadata","this.muted = true"]}),n})(),yv=(()=>{class n{constructor(e){this.el=e}onMouseEnter(){let e=this.el.nativeElement;e&&(e.style.transform="translate(-50%, -50%) scale(1.3)",e.style.transition="1s")}onMouseLeave(){let e=this.el.nativeElement;e&&(e.style.transform="translate(-50%, -50%) scale(1)",e.style.transition="1s")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","mouseoverzoom",""]],hostBindings:function(e,r){1&e&&l.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})}}),n})();function vv(n,t){if(1&n&&l._UZ(0,"ng-lottie",2),2&n){const e=l.oxw();l.Q6J("ngStyle",e.stylePosition)("options",e.optionsAnimation)}}function ww(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"video",3),l.NdJ("click",function(){return l.CHM(e),l.oxw().explodir()}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("ngStyle",e.stylePosition)("src",e.videoSrc,l.LSH)}}let Fd=(()=>{class n{constructor(e){this.lettering=e,this.optionsAnimation={path:"../../../assets/lootie-animations/section_why/explode_donut.json",loop:!1},this.exibirAnimationExplosao=!1,this.hidden=!1}explodir(){this.exibirAnimationExplosao=!0,this.hidden=!0,setTimeout(()=>{this.exibirAnimationExplosao=!1,this.lettering.show()},700)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(kd))},n.\u0275cmp=l.Xpm({type:n,selectors:[["explosion-webm"]],inputs:{stylePosition:"stylePosition",videoSrc:"videoSrc",optionsAnimation:"optionsAnimation"},decls:2,vars:2,consts:[["class","explode",3,"ngStyle","options",4,"ngIf"],["class","webm","mouseoverzoom","","loop","","autoplay","","muted","","playsinline","",3,"ngStyle","src","click",4,"ngIf"],[1,"explode",3,"ngStyle","options"],["mouseoverzoom","","loop","","autoplay","","muted","","playsinline","",1,"webm",3,"ngStyle","src","click"]],template:function(e,r){1&e&&(l.YNc(0,vv,1,2,"ng-lottie",0),l.YNc(1,ww,1,2,"video",1)),2&e&&(l.Q6J("ngIf",r.exibirAnimationExplosao),l.xp6(1),l.Q6J("ngIf",!r.exibirAnimationExplosao&&!r.hidden))},directives:[ln,qa,ml,ii,yv],styles:[".explode[_ngcontent-%COMP%]{position:absolute;width:70%!important;transform:translate(-50%,-50%);z-index:99999999}.webm[_ngcontent-%COMP%]{position:absolute;width:calc(45% - 15rem);transform:translate(-50%,-50%);z-index:99999999}"]}),n})(),Qg=(()=>{class n{constructor(e){this.ref=e,this.stylePositionDonut={top:"calc(50% - 130px)",left:"calc(50% + 300px)"},this.stylePositionPlaquinha={top:"calc(50% + 107px)",left:"calc(50% - 151px)",width:"13%","z-index":"9999999"},this.primeiraAnimationCarregada=!1,this.animationCarregada=!1,this.optionsAnimationWhy={path:"./assets/lootie-animations/section_why/why_we_do_it_01.json",loop:!1}}animacaoWhyCarregada(){this.optionsAnimationFrasePeopleAre={path:"./assets/lootie-animations/section_why/frase_people_in.json",loop:!1},this.optionsAnimationPlaquinha=Object.assign(Object.assign({},this.optionsAnimationPlaquinha),{path:"./assets/lootie-animations/section_why/great_brands_01.json",loop:!1}),this.ref.detectChanges()}completeAnimationPeopleAreIn(){this.optionsAnimationFrasePeopleAre=Object.assign(Object.assign({},this.optionsAnimationFrasePeopleAre),{path:"./assets/lootie-animations/section_why/people_are_loop.json",loop:!0}),this.animationCarregada=!0,this.ref.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["section-why"]],decls:7,vars:5,consts:[["fragment","why",1,"section"],[1,"section__holder"],["opacity","",1,"why__we-do-it",3,"options","complete"],[1,"why__people-for-brands","people-for-brands",3,"options","complete"],["videoSrc","./assets/webm-animations/donut_250_v02.webm",3,"stylePosition"],["videoSrc","./assets/webm-animations/plaquinha_500_v02.webm",3,"stylePosition"],[1,"why__great-brands",3,"options"]],template:function(e,r){1&e&&(l.TgZ(0,"section",0)(1,"div",1)(2,"ng-lottie",2),l.NdJ("complete",function(){return r.animacaoWhyCarregada()}),l.qZA(),l.TgZ(3,"ng-lottie",3),l.NdJ("complete",function(){return r.completeAnimationPeopleAreIn()}),l.qZA(),l._UZ(4,"explosion-webm",4)(5,"explosion-webm",5)(6,"ng-lottie",6),l.qZA()()),2&e&&(l.xp6(2),l.Q6J("options",r.optionsAnimationWhy),l.xp6(1),l.Q6J("options",r.optionsAnimationFrasePeopleAre),l.xp6(1),l.Q6J("stylePosition",r.stylePositionDonut),l.xp6(1),l.Q6J("stylePosition",r.stylePositionPlaquinha),l.xp6(1),l.Q6J("options",r.optionsAnimationPlaquinha))},directives:[qa,Pf,Fd],styles:[".people-for-brands[_ngcontent-%COMP%]{transition:2s}.why__people-for-brands[_ngcontent-%COMP%]{width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.why__people-for-brands-2[_ngcontent-%COMP%]{width:94%;position:absolute;top:44%;left:50%;transform:translate(-50%,-50%)}.why__we-do-it[_ngcontent-%COMP%]{width:100%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.why__we-do-it[_ngcontent-%COMP%]{transition:1s}.why__great-brands[_ngcontent-%COMP%]{cursor:var(--hashiCloseSVG) 0 46,pointer;width:100%;position:absolute;top:calc(50% + 198px);left:calc(50% + 103px);transform:translate(-50%,-50%)}.why__great-brands[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}"]}),n})(),Ev=(()=>{class n{constructor(e,r){this.el=e,this.scrollRouter=r}onScroll(){var e;if(this.scrollRouter.enabled()){const r=location.hash.replace("#/",""),o=this.el.nativeElement.id.slice(0,-2);r!==o&&(this.el.nativeElement.focus(),this.scrollRouter.scrolledOrigin=!0,null===(e=document.getElementById(`menu_link_${o}`))||void 0===e||e.click())}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(cs))},n.\u0275dir=l.lG2({type:n,selectors:[["","menu-scroll-link",""]],hostBindings:function(e,r){1&e&&l.NdJ("mouseenter",function(){return r.onScroll()})}}),n})();const Cv=["videoKanji"];let wv=(()=>{class n{constructor(e){this.ref=e,this.complete=new l.vpe,this.optionsAreYouHungry={path:"./assets/lootie-animations/section-values/AreYouHungry_in.json",loop:!1},this.stylePositionEnguia={top:"calc(45% - 65vh)",left:"calc(35% - 25vh)"}}animacaoInicialCarregada(){this.videoKanji.nativeElement.play(),this.ref.detectChanges(),this.complete.emit()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["are-you-hungry"]],viewQuery:function(e,r){if(1&e&&l.Gf(Cv,5),2&e){let o;l.iGM(o=l.CRH())&&(r.videoKanji=o.first)}},outputs:{complete:"complete"},decls:4,vars:2,consts:[[1,"center-animation",3,"options","complete"],["videoSrc","./assets/webm-animations/enguia_500_v02.webm",3,"stylePosition"],["src","./assets/webm-animations/kanjiAreYouHungry_01_25porcento.webm","loop","","muted","","playsinline","",1,"values__3d-kanji"],["videoKanji",""]],template:function(e,r){1&e&&(l.TgZ(0,"ng-lottie",0),l.NdJ("complete",function(){return r.animacaoInicialCarregada()}),l.qZA(),l._UZ(1,"explosion-webm",1)(2,"video",2,3)),2&e&&(l.Q6J("options",r.optionsAreYouHungry),l.xp6(1),l.Q6J("stylePosition",r.stylePositionEnguia))},directives:[qa,Fd],styles:[".section[_ngcontent-%COMP%]{height:35vh}.section__holder[_ngcontent-%COMP%]{top:75%}.center-animation[_ngcontent-%COMP%]{width:100%;left:calc(45% - 43vh);top:calc(45% - 75vh);position:absolute}.values__3d-kanji[_ngcontent-%COMP%]{position:absolute;width:100%;left:calc(45% - 60vh);top:calc(45% - 72vh)}"]}),n})();var hc=(()=>{return(n=hc||(hc={})).Lettering="lettering",n.Values="values",hc;var n})();let bv=(()=>{class n{constructor(e,r,o){this.popupValues=e,this.el=r,this.letteringService=o,this.popupType=hc.Values}onMouseClick(){switch(this.popupType){case hc.Values:this.popupValues.show(this.el.nativeElement.id);break;case hc.Lettering:this.letteringService.show()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Kg),l.Y36(l.SBq),l.Y36(kd))},n.\u0275dir=l.lG2({type:n,selectors:[["","clickopenpanel",""]],hostBindings:function(e,r){1&e&&l.NdJ("mousedown",function(){return r.onMouseClick()})},inputs:{popupType:"popupType"}}),n})(),vt=(()=>{class n{constructor(e){this.el=e}onMouseEnter(){let e=this.el.nativeElement;e&&(e.pause(),e.muted=!0,e.style.transform="scale(1.1)",e.style.transition="0.5s",e.play()),e.hasChildNodes()&&Array.from(e.querySelectorAll("video")).forEach(r=>{r.pause(),r.muted=!0,e.style.transform="scale(1.1)",e.style.transition="0.5s",r.play()})}onMouseLeave(){let e=this.el.nativeElement;e&&(e.pause(),e.currentTime=0,e.style.transform="scale(1)",e.style.transition="0.5s"),e.hasChildNodes()&&Array.from(e.querySelectorAll("video")).forEach(r=>{r.pause()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","mouseoverplay",""]],hostBindings:function(e,r){1&e&&l.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()})}}),n})();function Tv(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"are-you-hungry",3),l.NdJ("complete",function(){return l.CHM(e),l.oxw().onLoadAreYouHungry()}),l.qZA(),l.TgZ(2,"p",4),l._uU(3,"Here's some food for thought."),l.qZA(),l.TgZ(4,"div",5)(5,"div",6)(6,"div",7),l._UZ(7,"video",8),l.qZA(),l.TgZ(8,"div",9),l._UZ(9,"video",10),l.qZA()(),l.TgZ(10,"div",6)(11,"div",7),l._UZ(12,"video",11),l.qZA(),l.TgZ(13,"div",9),l._UZ(14,"video",12),l.qZA()()()()}2&n&&(l.xp6(5),l.Q6J("@fade",void 0),l.xp6(5),l.Q6J("@fadeLeft",void 0))}let Of=(()=>{class n{constructor(e,r){this.scrollRouter=e,this.ref=r}onLoadAreYouHungry(){this.ref.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(cs),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["section-values"]],decls:2,vars:1,consts:[[1,"section"],["class","section__holder",4,"ngIf"],[1,"section__holder"],[3,"complete"],[1,"here-is"],[1,"container"],[1,"row"],[1,"col","text-end"],["clickopenpanel","","id","breakSomeEggs","autoplay","","src","./assets/webm-animations/02_BREAK_SOME_EGGS_500_ALPHA.webm","mouseoverplay","","muted","","playsinline","",1,"video-over"],[1,"col","text-start"],["clickopenpanel","","id","youAreWhatYouEat","autoplay","","src","./assets/webm-animations/05_YOU_ARE_WHAT_YOU_EAT_500_ALPHA.webm","mouseoverplay","","muted","","playsinline","",1,"video-over"],["clickopenpanel","","id","spiceThingsUp","autoplay","","src","./assets/webm-animations/04_SPICE_THINGS_UP_500_ALPHA.webm","mouseoverplay","","muted","","playsinline","",1,"video-over"],["clickopenpanel","","id","theProofIsInThePudding","autoplay","","src","./assets/webm-animations/03_THE_PROOF_IS_IN_THE_PUDDING_500_ALPHA.webm","mouseoverplay","","muted","","playsinline","",1,"video-over"]],template:function(e,r){1&e&&(l.TgZ(0,"section",0),l.YNc(1,Tv,15,2,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",r.scrollRouter.active("values")))},directives:[ln,wv,ii,bv,vt],styles:[".section__holder[_ngcontent-%COMP%]{top:75%}.here-is[_ngcontent-%COMP%]{width:100%;text-align:center;color:#15f4ee;font-family:Montserrat,sans-serif}.video-over[_ngcontent-%COMP%]{width:30vh}"],data:{animation:[qg,Af]}}),n})(),Jg=(()=>{class n{constructor(e){this.el=e}onMouseEnter(){let r,e=this.el.nativeElement;if(e){switch(this.runonhover){case"left":r="translateX(-25%)";break;case"right":default:r="translateX(25%)";break;case"down":r="translateY(25%)";break;case"up":r="translateY(-50%)"}e.style.transform=`${r} scale(1.5)`,e.style.color="#ff6fff",e.style.transition="1s"}}onMouseOut(){this.el.nativeElement.style.transform="translateX(0%) scale(1)"}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","runonhover",""]],hostBindings:function(e,r){1&e&&l.NdJ("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseOut()})},inputs:{runonhover:"runonhover"}}),n})();function Rf(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"ng-lottie",15),l.NdJ("complete",function(){return l.CHM(e),l.oxw(3).animacaoTextBoxImageryCarregada()}),l.qZA()}if(2&n){const e=l.oxw(3);l.Q6J("options",e.optionsImageryIn)}}function Hs(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",16),l.NdJ("mouseenter",function(){return l.CHM(e),l.oxw(3).showTextBox("imagery")})("mouseleave",function(o){return l.CHM(e),l.oxw(3).hideTextBox(o)}),l.TgZ(1,"a",17),l._uU(2,"IMAGERY"),l.qZA()()}}function Dv(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"ng-lottie",18),l.NdJ("complete",function(){return l.CHM(e),l.oxw(3).animacaoTextBoxMovementCarregada()}),l.qZA()}if(2&n){const e=l.oxw(3);l.Q6J("options",e.optionsMovementIn)}}function bw(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",19),l.NdJ("mouseenter",function(){return l.CHM(e),l.oxw(3).showTextBox("movement")})("mouseleave",function(o){return l.CHM(e),l.oxw(3).hideTextBox(o)}),l.TgZ(1,"a",17),l._uU(2,"MOVEMENT"),l.qZA()()}}function Xg(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"ng-lottie",20),l.NdJ("complete",function(){return l.CHM(e),l.oxw(3).animacaoTextBoxContentCarregada()}),l.qZA()}if(2&n){const e=l.oxw(3);l.Q6J("options",e.optionsContentIn)}}function ca(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",21),l.NdJ("mouseenter",function(o){l.CHM(e);const c=l.oxw(3);return o.preventDefault(),c.showTextBox("content")})("mouseleave",function(o){return l.CHM(e),l.oxw(3).hideTextBox(o)}),l.TgZ(1,"a",17),l._uU(2,"CONTENT"),l.qZA()()}}function em(n,t){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,Rf,1,1,"ng-lottie",9),l.YNc(2,Hs,3,0,"div",10),l.YNc(3,Dv,1,1,"ng-lottie",11),l.YNc(4,bw,3,0,"div",12),l.YNc(5,Xg,1,1,"ng-lottie",13),l.YNc(6,ca,3,0,"div",14),l.qZA()),2&n){const e=l.oxw(2);l.xp6(1),l.Q6J("ngIf",!e.exibirImageryTextBoxFixo),l.xp6(1),l.Q6J("ngIf",e.exibirImageryTextBoxFixo),l.xp6(1),l.Q6J("ngIf",!e.exibirMovementTextBoxFixo),l.xp6(1),l.Q6J("ngIf",e.exibirMovementTextBoxFixo),l.xp6(1),l.Q6J("ngIf",!e.exibirContentTextBoxFixo),l.xp6(1),l.Q6J("ngIf",e.exibirContentTextBoxFixo)}}function Iv(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"ng-lottie",25),l.NdJ("animationCreated",function(o){return l.CHM(e),l.oxw(3).createdBoxTextAnimation(o)})("complete",function(){return l.CHM(e),l.oxw(3).completeBoxTextAnimation()}),l.qZA()}if(2&n){const e=l.oxw(3);l.Q6J("options",e.optionsBoxText)}}function tm(n,t){if(1&n&&(l.TgZ(0,"div")(1,"p",26),l._uU(2),l.qZA(),l._UZ(3,"h3",27),l.qZA()),2&n){const e=l.oxw(3);l.xp6(2),l.Oqu(e.textBox.titleTextBox),l.xp6(1),l.Q6J("innerText",e.textBox.contentTextBox)}}function QD(n,t){if(1&n&&(l.TgZ(0,"div",22),l.YNc(1,Iv,1,1,"ng-lottie",23),l.YNc(2,tm,4,2,"div",24),l.qZA()),2&n){const e=l.oxw(2);l.Udp("top",e.textBox.styleTopTextBox)("left",e.textBox.styleLeftTextBox),l.xp6(1),l.Q6J("ngIf",e.exibirTextBox),l.xp6(1),l.Q6J("ngIf",e.textBox.titleTextBox&&e.textBox.contentTextBox)}}function Sv(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"ng-lottie",3),l.NdJ("complete",function(){return l.CHM(e),l.oxw().animacaoHowWeDoItCarregada()}),l.qZA(),l.YNc(2,em,7,6,"div",4),l.YNc(3,QD,3,6,"div",5),l._UZ(4,"explosion-webm",6)(5,"explosion-webm",7),l.qZA()}if(2&n){const e=l.oxw();l.xp6(1),l.Q6J("options",e.optionsHowWeDoItBG),l.xp6(1),l.Q6J("ngIf",e.carregouAnimacaoHowWeDoIt),l.xp6(1),l.Q6J("ngIf",e.textBox),l.xp6(1),l.Q6J("stylePosition",e.stylePositionLampada),l.xp6(1),l.Q6J("stylePosition",e.stylePositionNotebook)}}let Av=(()=>{class n{constructor(e,r){this.ref=e,this.scrollRouter=r,this.carregouAnimacaoHowWeDoIt=!1,this.exibirImageryTextBoxFixo=!1,this.exibirMovementTextBoxFixo=!1,this.exibirContentTextBoxFixo=!1,this.exibirTextBox=!1,this.stylePositionNotebook={top:"calc(40% - 35vh)",left:"calc(40% + 55vh)"},this.stylePositionLampada={top:"calc(40% + 55vh)",left:"calc(40% - 45vh)"},this.optionsHowWeDoItBG={path:"./assets/lootie-animations/section-how/HowWeDoIt.json",loop:!1},this.optionsBoxTextIn={path:"./assets/lootie-animations/section-how/box_text_in.json",loop:!1,name:"boxTextIn"},this.optionsBoxTextOut={path:"./assets/lootie-animations/section-how/box_text_out.json",loop:!1,name:"boxTextOut"},this.optionsImageryIn={path:"./assets/lootie-animations/section-how/imagery_in.json",loop:!1},this.optionsMovementIn={path:"./assets/lootie-animations/section-how/movement_in.json",loop:!1},this.optionsContentIn={path:"./assets/lootie-animations/section-how/content_in.json",loop:!1}}animacaoHowWeDoItCarregada(){this.carregouAnimacaoHowWeDoIt=!0,this.ref.detectChanges()}animacaoTextBoxMovementCarregada(){this.exibirMovementTextBoxFixo=!0,this.ref.detectChanges()}animacaoTextBoxContentCarregada(){this.exibirContentTextBoxFixo=!0,this.ref.detectChanges()}animacaoTextBoxImageryCarregada(){this.exibirImageryTextBoxFixo=!0,this.ref.detectChanges()}showTextBox(e){switch(e){case"content":this.textBox={styleTopTextBox:"calc(40% - 6vw)",styleLeftTextBox:"calc(40% - 10vw)",show:!0,hide:!1},setTimeout(()=>{this.textBox=Object.assign(Object.assign({},this.textBox),{titleTextBox:"CONTENT",contentTextBox:"We produce meaningful content\nthat connects brands to their people."}),this.ref.detectChanges()},400);break;case"movement":this.textBox={styleTopTextBox:"calc(40% - 3vw)",styleLeftTextBox:"calc(40% - 4vw)",show:!0,hide:!1},setTimeout(()=>{this.textBox=Object.assign(Object.assign({},this.textBox),{titleTextBox:"MOVEMENT",contentTextBox:"We bring brands to life by telling their \nstories through unexpected formats."}),this.ref.detectChanges()},400);break;case"imagery":this.textBox={styleTopTextBox:"calc(40% - 6vw)",styleLeftTextBox:"calc(40% - 10vw)",show:!0,hide:!1},setTimeout(()=>{this.textBox=Object.assign(Object.assign({},this.textBox),{titleTextBox:"IMAGERY",contentTextBox:"We create powerful visuals for brands,\nwith design finesse and eye-catching \nvisuals."}),this.ref.detectChanges()},400)}this.optionsBoxText=this.optionsBoxTextIn,this.exibirTextBox=!0,this.ref.detectChanges()}completeBoxTextAnimation(){"boxTextOut"===this.refTextBox.name&&(this.exibirTextBox=!1,this.textBox=Object.assign(Object.assign({},this.textBox),{titleTextBox:"",contentTextBox:""})),this.ref.detectChanges()}createdBoxTextAnimation(e){this.refTextBox=e,this.ref.detectChanges()}hideTextBox(e){null==e||e.preventDefault(),this.textBox=Object.assign(Object.assign({},this.textBox),{titleTextBox:"",contentTextBox:""}),this.optionsBoxText=this.optionsBoxTextOut,this.ref.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(cs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["section-how"]],decls:2,vars:1,consts:[[1,"section"],["class","section__holder",4,"ngIf"],[1,"section__holder"],["opacity","",1,"how__center-how-wedoit",3,"options","complete"],["class","container-text-box",4,"ngIf"],["class","text-box",3,"top","left",4,"ngIf"],["videoSrc","./assets/webm-animations/lampada_500_v02.webm",3,"stylePosition"],["videoSrc","./assets/webm-animations/notebook_500_v02.webm",3,"stylePosition"],[1,"container-text-box"],["class","how__imagery",3,"options","complete",4,"ngIf"],["class","how__imagery","runonhover","right",3,"mouseenter","mouseleave",4,"ngIf"],["class","how__movement",3,"options","complete",4,"ngIf"],["class","how__movement","runonhover","left",3,"mouseenter","mouseleave",4,"ngIf"],["class","how__content",3,"options","complete",4,"ngIf"],["class","how__content-fixed","runonhover","up",3,"mouseenter","mouseleave",4,"ngIf"],[1,"how__imagery",3,"options","complete"],["runonhover","right",1,"how__imagery",3,"mouseenter","mouseleave"],[1,"popup-social__item"],[1,"how__movement",3,"options","complete"],["runonhover","left",1,"how__movement",3,"mouseenter","mouseleave"],[1,"how__content",3,"options","complete"],["runonhover","up",1,"how__content-fixed",3,"mouseenter","mouseleave"],[1,"text-box"],[3,"options","animationCreated","complete",4,"ngIf"],[4,"ngIf"],[3,"options","animationCreated","complete"],[1,"title-text-box"],[1,"how-text-box",3,"innerText"]],template:function(e,r){1&e&&(l.TgZ(0,"section",0),l.YNc(1,Sv,6,5,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",r.scrollRouter.active("how")))},directives:[ln,qa,Pf,Jg,Fd],styles:[".section__holder[_ngcontent-%COMP%]{top:50vh}.how__center-how-wedoit[_ngcontent-%COMP%]{top:calc(40% - 18vw);position:absolute;left:calc(40% - 24vw)}.text-box[_ngcontent-%COMP%]{position:absolute;width:44%;display:block;z-index:99999}.how-text-box[_ngcontent-%COMP%]{position:absolute;color:#ff6fff;font-family:Montserrat,sans-serif;font-weight:400;text-align:left;font-size:15px;letter-spacing:.4;line-height:21px;display:flex;justify-content:center;align-items:center;z-index:999;top:35%;right:18%;margin-top:9px;margin-right:4%}.title-text-box[_ngcontent-%COMP%]{position:absolute;color:#fff;font-family:Montserrat,sans-serif;font-weight:400;font-size:11px;letter-spacing:.3;line-height:25px;display:block;z-index:999;left:13%;top:21%;letter-spacing:3px}.how__imagery[_ngcontent-%COMP%]{width:17vw;top:calc(40% - 8vw);left:calc(40% - 20vw);position:absolute;z-index:999999}.how__movement[_ngcontent-%COMP%]{width:17vw;top:calc(40% - 5vw);left:calc(40% + 14vw);position:absolute;z-index:999999}.how__content[_ngcontent-%COMP%]{width:17vw;top:calc(40% + 7vw);left:calc(40% - 6vw);position:absolute;z-index:999999}.how__content-fixed[_ngcontent-%COMP%]{width:17.5vw;left:calc(32% - 1.5vw);position:absolute;z-index:999999;margin-top:30px;top:calc(40% + 8.8vw)}.text-box-link[_ngcontent-%COMP%]{position:absolute;top:calc(45% - 15rem);left:calc(45% + 10rem);line-height:0px}.popup-social__item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-size:.65vw;text-transform:uppercase;text-decoration:none;text-align:center;color:#fff;display:block;margin:2vh 7.7vh;border-radius:8px;letter-spacing:.15vw;font-weight:700;border:.1px solid #fff;padding:1.8vh;background-color:#1c1c1c;box-shadow:-16px 20px 5px #0003}.popup-social__item[_ngcontent-%COMP%]:hover{color:#ff75ff}.container-text-box[_ngcontent-%COMP%]{width:85%;height:25vw;top:calc(40% - 11vw);left:calc(40% - 20.5vw);position:absolute}"]}),n})();function Nf(n,t){if(1&n&&(l.TgZ(0,"p",14),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e," ")}}function kf(n,t){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,Nf,2,1,"p",13),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("@fadeCascade",e.designServiceList.length),l.xp6(1),l.Q6J("ngForOf",e.designServiceList)}}function nm(n,t){if(1&n&&(l.TgZ(0,"p",14),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e," ")}}function rm(n,t){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,nm,2,1,"p",13),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("@fadeCascade",e.designServiceList.length),l.xp6(1),l.Q6J("ngForOf",e.communicationServiceList)}}function im(n,t){if(1&n&&(l.TgZ(0,"p",14),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.xp6(1),l.hij(" ",e," ")}}function JD(n,t){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,im,2,1,"p",13),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("@fadeCascade",e.brandingServiceList.length),l.xp6(1),l.Q6J("ngForOf",e.brandingServiceList)}}function Tw(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"h3",6),l._uU(5,"A one-stop studio"),l.qZA()()(),l.TgZ(6,"div",7)(7,"div",5)(8,"ng-lottie",8),l.NdJ("complete",function(){return l.CHM(e),l.oxw().complete()}),l.qZA()()(),l._UZ(9,"explosion-webm",9),l.TgZ(10,"div",4)(11,"div",10),l.YNc(12,kf,2,2,"div",11),l.qZA(),l.TgZ(13,"div",10),l.YNc(14,rm,2,2,"div",11),l.qZA(),l.TgZ(15,"div",10),l.YNc(16,JD,2,2,"div",11),l.qZA()()(),l._UZ(17,"ng-lottie",12),l.qZA()}if(2&n){const e=l.oxw();l.xp6(6),l.Udp("height",220,"px"),l.xp6(2),l.Q6J("options",e.optionsAnimationMethodologys),l.xp6(4),l.Q6J("ngIf",e.showDesignServices),l.xp6(2),l.Q6J("ngIf",e.showCommunicationServices),l.xp6(2),l.Q6J("ngIf",e.showBrandingService),l.xp6(1),l.Q6J("options",e.optionsAnimationWeDesignBrands)}}let sm=(()=>{class n{constructor(e,r){this.ref=e,this.scrollRouter=r,this.designServiceList=["Graphic Design","Social Media Posts","Presentation","Animated Videos","Websites"],this.communicationServiceList=["Content Planning","Copywriting","Product Launching","Campaign Management","Branded Content"],this.brandingServiceList=["Brand Strategy","Audio Branding","Animated Branding","Employer Branding","Employee Experience"],this.showDesignServices=!1,this.showCommunicationServices=!1,this.showBrandingService=!1,this.optionsAnimationMethodologys={path:"./assets/lootie-animations/section-methodology/etapas_loop.json",loop:!1},this.optionsAnimationWeDesignBrands={path:"./assets/lootie-animations/section-methodology/we_design_brands.json",loop:!1}}complete(){this.showDesignServices=!0,setTimeout(()=>{this.showCommunicationServices=!0,this.ref.detectChanges(),setTimeout(()=>{this.showBrandingService=!0,this.ref.detectChanges()},500)},500),this.ref.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(cs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["section-what"]],decls:2,vars:1,consts:[[1,"section"],["class","section__holder",4,"ngIf"],[1,"section__holder"],[1,"container"],[1,"row"],[1,"col"],[1,"one-step-title"],[1,"row-animation"],[3,"options","complete"],["videoSrc","./assets/webm-animations/katana_500_v02.webm"],[1,"col","mt-2"],[4,"ngIf"],["opacity","",1,"wedesignbrands",3,"options"],["class","font-label-packages",4,"ngFor","ngForOf"],[1,"font-label-packages"]],template:function(e,r){1&e&&(l.TgZ(0,"section",0),l.YNc(1,Tw,18,7,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",r.scrollRouter.active("what")))},directives:[ln,qa,Fd,Rn,Pf],styles:[".section__holder[_ngcontent-%COMP%]{top:70vh}.one-step-title[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:35px;font-family:Montserrat,sans-serif;font-weight:800;letter-spacing:7px;color:#fff;text-transform:uppercase}.wedesignbrands[_ngcontent-%COMP%]{z-index:-1;opacity:.2;top:-3rem;right:-15rem;left:-5rem;position:absolute}.font-label-packages[_ngcontent-%COMP%]{color:#fff;font-family:Montserrat,sans-serif;font-weight:400;text-align:center;font-size:16px;letter-spacing:.4;line-height:8px}"],data:{animation:[fv]}}),n})();const Dw=["socialIcone"],Iw=["socialAnimate"],Mv=["communicationIcone"],XD=["communicationAnimate"],Sw=["brandIcone"],eI=["brandAnimate"];function xv(n,t){1&n&&(l.TgZ(0,"p",23),l._uU(1," We manage all social media channels, producing text and visual content. We take care of posting and promotion. "),l.qZA()),2&n&&l.Q6J("@fade",void 0)}function Pv(n,t){1&n&&(l.TgZ(0,"p",23),l._uU(1,"We manage all communication channels. We plan campaigns that are strategically connected to your business goals."),l.qZA()),2&n&&l.Q6J("@fade",void 0)}function Aw(n,t){1&n&&(l.TgZ(0,"p",23),l._uU(1,"We manage relationships, experiences, and organizational culture. We take care of everything related to your brand."),l.qZA()),2&n&&l.Q6J("@fade",void 0)}function om(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),l._UZ(4,"div",6),l.TgZ(5,"ng-lottie",7),l.NdJ("click",function(){return l.CHM(e),l.oxw().btnClickPlayIcones()}),l.qZA()()(),l.TgZ(6,"div",4)(7,"div",8),l.NdJ("mouseenter",function(){l.CHM(e);const o=l.oxw();return o.playAnimate("social"),o.showTextSocial=!o.showTextSocial})("mouseleave",function(){l.CHM(e);const o=l.oxw();return o.showTextSocial=!o.showTextSocial}),l._UZ(8,"video",9,10)(10,"video",11,12),l.qZA(),l.TgZ(12,"div",8),l.NdJ("mouseenter",function(){l.CHM(e);const o=l.oxw();return o.playAnimate("communication"),o.showTextComunication=!o.showTextComunication})("mouseleave",function(){l.CHM(e);const o=l.oxw();return o.showTextComunication=!o.showTextComunication}),l._UZ(13,"video",13,14)(15,"video",15,16),l.qZA(),l.TgZ(17,"div",8),l.NdJ("mouseenter",function(){l.CHM(e);const o=l.oxw();return o.playAnimate("brand"),o.showTextBrand=!o.showTextBrand})("mouseleave",function(){l.CHM(e);const o=l.oxw();return o.showTextBrand=!o.showTextBrand}),l._UZ(18,"video",17,18)(20,"video",19,20),l.qZA()(),l.TgZ(22,"div",4)(23,"div",5),l._UZ(24,"ng-lottie",21),l.qZA(),l.TgZ(25,"div",5),l._UZ(26,"ng-lottie",21),l.qZA(),l.TgZ(27,"div",5),l._UZ(28,"ng-lottie",21),l.qZA()(),l.TgZ(29,"div",4)(30,"div",5),l.YNc(31,xv,2,1,"p",22),l.qZA(),l.TgZ(32,"div",5),l.YNc(33,Pv,2,1,"p",22),l.qZA(),l.TgZ(34,"div",5),l.YNc(35,Aw,2,1,"p",22),l.qZA()()()()}if(2&n){const e=l.oxw();l.xp6(1),l.Udp("margin-top",3,"vw"),l.xp6(2),l.Udp("padding-bottom",7,"rem"),l.xp6(2),l.Q6J("options",e.optionsAnimationNoNeedToBreak),l.xp6(1),l.Udp("height",15,"rem"),l.xp6(4),l.Udp("z-index",-1),l.xp6(3),l.Udp("margin-left",-.7,"rem"),l.xp6(2),l.Udp("margin-left",-1,"rem")("z-index",-1),l.xp6(3),l.Udp("margin-left",-1,"rem"),l.xp6(2),l.Udp("z-index",-1)("margin-left",-1,"rem"),l.xp6(2),l.Udp("margin-left",.5,"rem"),l.xp6(1),l.Udp("margin-top",1.25,"rem"),l.xp6(1),l.Q6J("options",e.optionsAnimationSocial),l.xp6(2),l.Q6J("options",e.optionsAnimationComunication),l.xp6(1),l.Udp("margin-top",-1.25,"rem"),l.xp6(1),l.Q6J("options",e.optionsAnimationBrand),l.xp6(1),l.Udp("margin-left",.5,"rem"),l.xp6(2),l.Q6J("ngIf",e.showTextSocial),l.xp6(2),l.Q6J("ngIf",e.showTextComunication),l.xp6(2),l.Q6J("ngIf",e.showTextBrand)}}let Ov=(()=>{class n{constructor(e,r){this.ref=e,this.scrollRouter=r,this.showTextSocial=!1,this.showTextComunication=!1,this.showTextBrand=!1,this.optionsAnimationSocial={path:"./assets/lootie-animations/section-methodology/social.json",loop:!1},this.optionsAnimationComunication={path:"./assets/lootie-animations/section-methodology/communication.json",loop:!1},this.optionsAnimationBrand={path:"./assets/lootie-animations/section-methodology/brand.json",loop:!1},this.optionsAnimationNoNeedToBreak={path:"./assets/lootie-animations/section-methodology/no_need_to_break.json",loop:!1}}btnClickPlayIcones(){this.optionsAnimationNoNeedToBreak=Object.assign(Object.assign({},this.optionsAnimationNoNeedToBreak),{loop:!1}),this.playAnimate("social"),setTimeout(()=>{setTimeout(()=>{this.playAnimate("brand")},500),this.playAnimate("communication")},500)}playAnimate(e){this[`${e}Animate`].nativeElement.play(),this.ref.detectChanges(),setTimeout(()=>{this[`${e}Icone`].nativeElement.play(),this.ref.detectChanges()},500)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO),l.Y36(cs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["section-packages"]],viewQuery:function(e,r){if(1&e&&(l.Gf(Dw,5),l.Gf(Iw,5),l.Gf(Mv,5),l.Gf(XD,5),l.Gf(Sw,5),l.Gf(eI,5)),2&e){let o;l.iGM(o=l.CRH())&&(r.socialIcone=o.first),l.iGM(o=l.CRH())&&(r.socialAnimate=o.first),l.iGM(o=l.CRH())&&(r.communicationIcone=o.first),l.iGM(o=l.CRH())&&(r.communicationAnimate=o.first),l.iGM(o=l.CRH())&&(r.brandIcone=o.first),l.iGM(o=l.CRH())&&(r.brandAnimate=o.first)}},decls:2,vars:1,consts:[["fragment","packages",1,"section","mt-15"],["class","section__holder",4,"ngIf"],[1,"section__holder"],[1,"container","position-absolute"],[1,"row"],[1,"col"],[1,"no_need_click"],[1,"no_need",3,"options","click"],[1,"col",3,"mouseenter","mouseleave"],["autoplay","","width","35%","src","./assets/webm-animations/packages_socialMediaIcone.webm","muted","","playsinline","",1,"position-absolute"],["socialIcone",""],["width","35%","src","./assets/webm-animations/socialMediaElementosBG_01_full.webm","muted","",1,"position-absolute"],["socialAnimate",""],["width","35%","autoplay","","src","./assets/webm-animations/packages_communication_managementIcone.webm","muted","",1,"position-absolute"],["communicationIcone",""],["width","35%","muted","","src","./assets/webm-animations/communication_managementElementosBG_01_full.webm",1,"position-absolute"],["communicationAnimate",""],["width","35%","autoplay","","src","./assets/webm-animations/packages_brandManagementIcone.webm","muted","",1,"position-absolute"],["brandIcone",""],["width","35%","src","./assets/webm-animations/brandManagementIElementosBG_01_full.webm","muted","",1,"position-absolute"],["brandAnimate",""],[3,"options"],["class","font-label-packages",4,"ngIf"],[1,"font-label-packages"]],template:function(e,r){1&e&&(l.TgZ(0,"section",0),l.YNc(1,om,36,35,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",r.scrollRouter.active("packages")))},directives:[ln,qa,ii],styles:[".section[_ngcontent-%COMP%]{height:100vh;position:relative}.section__holder[_ngcontent-%COMP%]{top:50vh}.row-animation[_ngcontent-%COMP%]{height:225px;align-content:flex-start;margin-top:-90px}.no_need[_ngcontent-%COMP%]{position:absolute;width:100%;cursor:var(--hashiOpenSVG) 0 46,pointer}.no_need[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}p[_ngcontent-%COMP%]{margin-top:-3rem}"],data:{animation:[Yg,Zg]}}),n})();const{isArray:tI}=Array,{getPrototypeOf:nI,prototype:rI,keys:iI}=Object;function Mw(n){if(1===n.length){const t=n[0];if(tI(t))return{args:t,keys:null};if(function sI(n){return n&&"object"==typeof n&&nI(n)===rI}(t)){const e=iI(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}const{isArray:oI}=Array;function Rv(n){return(0,ht.U)(t=>function aI(n,t){return oI(t)?n(...t):n(t)}(n,t))}function da(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}let Nv=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Ya=(()=>{class n extends Nv{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const ds=new l.OlP("NgValueAccessor"),xw={provide:ds,useExisting:(0,l.Gpc)(()=>Lf),multi:!0},Fv=new l.OlP("CompositionEventMode");let Lf=(()=>{class n extends Nv{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ka(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Fv,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&l.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[l._Bn([xw]),l.qOj]}),n})();function Co(n){return null==n||0===n.length}function Lv(n){return null!=n&&"number"==typeof n.length}const Mr=new l.OlP("NgValidators"),Qa=new l.OlP("NgAsyncValidators"),Pw=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wo{static min(t){return function $l(n){return t=>{if(Co(t.value)||Co(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function Vf(n){return t=>{if(Co(t.value)||Co(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Wl(t)}static requiredTrue(t){return function fc(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function Gl(n){return Co(n.value)||Pw.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Vv(n){return t=>Co(t.value)||!Lv(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function lm(n){return t=>Lv(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function um(n){if(!n)return pc;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Co(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return dm(t)}static composeAsync(t){return Hv(t)}}function Wl(n){return Co(n.value)?{required:!0}:null}function pc(n){return null}function Bf(n){return null!=n}function cm(n){const t=(0,l.QGY)(n)?(0,tr.D)(n):n;return(0,l.CqO)(t),t}function Ld(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Bv(n,t){return t.map(e=>e(n))}function Ow(n){return n.map(t=>function Uv(n){return!n.validate}(t)?t:e=>t.validate(e))}function dm(n){if(!n)return null;const t=n.filter(Bf);return 0==t.length?null:function(e){return Ld(Bv(e,t))}}function Uf(n){return null!=n?dm(Ow(n)):null}function Hv(n){if(!n)return null;const t=n.filter(Bf);return 0==t.length?null:function(e){return function am(...n){const t=(0,Ul.jO)(n),{args:e,keys:r}=Mw(n),o=new Ci.y(c=>{const{length:h}=e;if(!h)return void c.complete();const m=new Array(h);let E=h,D=h;for(let O=0;O<h;O++){let R=!1;(0,Za.Xf)(e[O]).subscribe((0,or.x)(c,Y=>{R||(R=!0,D--),m[O]=Y},()=>E--,void 0,()=>{(!E||!R)&&(D||c.next(r?da(r,m):m),c.complete())}))}});return t?o.pipe(Rv(t)):o}(Bv(e,t).map(cm)).pipe((0,ht.U)(Ld))}}function Hf(n){return null!=n?Hv(Ow(n)):null}function jv(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function $v(n){return n._rawValidators}function wi(n){return n._rawAsyncValidators}function hm(n){return n?Array.isArray(n)?n:[n]:[]}function jf(n,t){return Array.isArray(n)?n.includes(t):n===t}function Rw(n,t){const e=hm(t);return hm(n).forEach(o=>{jf(e,o)||e.push(o)}),e}function Nw(n,t){return hm(t).filter(e=>!jf(n,e))}class fm{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Uf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Hf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class zl extends fm{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class si extends fm{get formDirective(){return null}get path(){return null}}class $f{constructor(t){this._cd=t}is(t){var e,r,o;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[t])}}let Wv=(()=>{class n extends $f{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(zl,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),Gv=(()=>{class n extends $f{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(si,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function zf(n,t){return[...t.path,n]}function Zl(n,t){Vd(n,t),t.valueAccessor.writeValue(n.value),function gm(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_m(n,t)})}(n,t),function $w(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function mm(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_m(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Yf(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Zf(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Kf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Vd(n,t){const e=$v(n);null!==t.validator?n.setValidators(jv(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=wi(n);null!==t.asyncValidator?n.setAsyncValidators(jv(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();qf(t._rawValidators,o),qf(t._rawAsyncValidators,o)}function Kf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=$v(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==t.validator);c.length!==o.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const o=wi(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(h=>h!==t.asyncValidator);c.length!==o.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return qf(t._rawValidators,r),qf(t._rawAsyncValidators,r),e}function _m(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qf(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function js(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(c=>{c.constructor===Lf?e=c:function Kv(n){return Object.getPrototypeOf(n.constructor)===Ya}(c)?r=c:o=c}),o||r||e||null}function gc(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Jf="VALID",mc="INVALID",ql="PENDING",Yl="DISABLED";function wm(n){return(Ud(n)?n.validators:n)||null}function Xf(n){return Array.isArray(n)?Uf(n):n||null}function ep(n,t){return(Ud(t)?t.asyncValidators:n)||null}function bm(n){return Array.isArray(n)?Hf(n):n||null}function Ud(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Tm=n=>n instanceof yc,_c=n=>n instanceof Hd,Qv=n=>n instanceof Ql;function Jv(n){return Tm(n)?n.value:n.getRawValue()}function Dm(n,t){const e=_c(n),r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function Kl(n,t){_c(n),n._forEachChild((r,o)=>{if(void 0===t[o])throw new l.vHH(1002,"")})}class tp{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Xf(this._rawValidators),this._composedAsyncValidatorFn=bm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Jf}get invalid(){return this.status===mc}get pending(){return this.status==ql}get disabled(){return this.status===Yl}get enabled(){return this.status!==Yl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Xf(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=bm(t)}addValidators(t){this.setValidators(Rw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Rw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Nw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Nw(t,this._rawAsyncValidators))}hasValidator(t){return jf(this._rawValidators,t)}hasAsyncValidator(t){return jf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ql,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Yl,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Jf,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jf||this.status===ql)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Yl:Jf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ql,this._hasOwnPendingAsyncValidator=!0;const e=cm(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Bd(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(o=>{r=_c(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:Qv(r)&&r.at(o)||null}),r}(this,t,".")}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Yl:this.errors?mc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ql)?ql:this._anyControlsHaveStatus(mc)?mc:Jf}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ud(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class yc extends tp{constructor(t=null,e,r){super(wm(e),ep(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ud(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gc(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gc(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Hd extends tp{constructor(t,e,r){super(wm(e),ep(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Kl(this,t),Object.keys(t).forEach(r=>{Dm(this,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=Jv(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,c)=>{r=e(r,o,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ql extends tp{constructor(t,e,r){super(wm(e),ep(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Kl(this,t),t.forEach((r,o)=>{Dm(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Jv(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Yw={provide:zl,useExisting:(0,l.Gpc)(()=>Am)},n0=(()=>Promise.resolve(null))();let Am=(()=>{class n extends zl{constructor(e,r,o,c,h){super(),this._changeDetectorRef=h,this.control=new yc,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=js(0,c)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const r=e.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Qf(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Zl(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){n0.then(()=>{var r;this.control.setValue(e,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(e){const r=e.isDisabled.currentValue,o=""===r||r&&"false"!==r;n0.then(()=>{var c;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(c=this._changeDetectorRef)||void 0===c||c.markForCheck()})}_getPath(e){return this._parent?zf(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(si,9),l.Y36(Mr,10),l.Y36(Qa,10),l.Y36(ds,10),l.Y36(l.sBO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([Yw]),l.qOj,l.TTD]}),n})(),r0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),a0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const np=new l.OlP("NgModelWithFormControlWarning"),$s={provide:si,useExisting:(0,l.Gpc)(()=>xm)};let xm=(()=>{class n extends si{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Kf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return Zl(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Zf(e.control||null,e,!1),gc(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,function Em(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(Zf(r||null,e),Tm(o)&&(Zl(o,e),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);(function Yv(n,t){Vd(n,t)})(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function ym(n,t){return Kf(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vd(this.form,this),this._oldForm&&Kf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Mr,10),l.Y36(Qa,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([$s]),l.qOj,l.TTD]}),n})();const gI={provide:zl,useExisting:(0,l.Gpc)(()=>sp)};let sp=(()=>{class n extends zl{constructor(e,r,o,c,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=js(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Qf(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return zf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(si,13),l.Y36(Mr,10),l.Y36(Qa,10),l.Y36(ds,10),l.Y36(np,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([gI]),l.qOj,l.TTD]}),n})(),Jl=(()=>{class n{constructor(){this._validator=pc}ngOnChanges(e){if(this.inputName in e){const r=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pc,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,features:[l.TTD]}),n})();const Xl={provide:Mr,useExisting:(0,l.Gpc)(()=>oi),multi:!0};let oi=(()=>{class n extends Jl{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function $d(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>Wl}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,r){2&e&&l.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[l._Bn([Xl]),l.qOj]}),n})(),km=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[a0]]}),n})(),m0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[km]}),n})(),Fm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:np,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[km]}),n})(),y0=(()=>{class n{group(e,r=null){const o=this._reduceControls(e);let m,c=null,h=null;return null!=r&&(function _0(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(c=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,m=null!=r.updateOn?r.updateOn:void 0):(c=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new Hd(o,{asyncValidators:h,updateOn:m,validators:c})}control(e,r,o){return new yc(e,r,o)}array(e,r,o){const c=e.map(h=>this._createControl(h));return new Ql(c,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return Tm(e)||_c(e)||Qv(e)?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:Fm}),n})();function Lm(n,t){return[...t&&"before"===t.animateChildren?[fo("@*",Os(),{optional:!0})]:[],Qo([Pa(n),...t&&t.animateChildren&&"together"!==t.animateChildren?[]:[fo("@*",Os(),{optional:!0})]]),...t&&"after"===t.animateChildren?[fo("@*",Os(),{optional:!0})]:[]]}const v0=()=>function Ps(n,t=null){return{type:8,animation:n,options:t}}(Qo([en("{{duration}}ms {{delay}}ms",mn([bt({transform:"translate3d(0, -{{translate}}, 0)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:0}),bt({transform:"translate3d(0, 25px, 0)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.6}),bt({transform:"translate3d(0, -10px, 0)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.75}),bt({transform:"translate3d(0, 5px, 0)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.9}),bt({transform:"translate3d(0, 0, 0)",easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:1})])),en("{{duration}}ms {{delay}}ms",mn([bt({visibility:"visible",opacity:0,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:0}),bt({opacity:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:.6}),bt({opacity:1,easing:"cubic-bezier(0.215, 0.61, 0.355, 1)",offset:1})]))]));function sb(n){return Li(n&&n.anchor||"bounceInDown",[Gn("0 => 1",[bt({visibility:"hidden"}),...Lm(v0(),n)],{params:{delay:n&&n.delay||0,duration:n&&n.duration||1e3,translate:n&&n.translate||"3000px"}})])}function ob(n){return Li(n&&n.anchor||"bounceInDownOnEnter",[Gn(":enter",[bt({visibility:"hidden"}),...Lm(v0(),n)],{params:{delay:n&&n.delay||0,duration:n&&n.duration||1e3,translate:n&&n.translate||"3000px"}})])}var lp=P(4986),zd=P(6451),E0=P(3099);function nr(n,t){return(0,wn.e)((e,r)=>{let o=null,c=0,h=!1;const m=()=>h&&!o&&r.complete();e.subscribe((0,or.x)(r,E=>{null==o||o.unsubscribe();let D=0;const O=c++;(0,Za.Xf)(n(E,O)).subscribe(o=(0,or.x)(r,R=>r.next(t?t(E,R,O,D++):R),()=>{o=null,m()}))},()=>{h=!0,m()}))})}function ab(n,t,e,r,o){return(c,h)=>{let m=e,E=t,D=0;c.subscribe((0,or.x)(h,O=>{const R=D++;E=m?n(E,O,R):(m=!0,O),r&&h.next(E)},o&&(()=>{m&&h.next(E),h.complete()})))}}function Zd(n,t){return(0,wn.e)(ab(n,t,arguments.length>=2,!0))}var Dc=P(4671);function _I(n,t){return n===t}var ar=P(5813),Gs=P(2011),yI=(P(5881),P(3942)),Ic=P(4859),iu=P(5861),To=P(9681),F=P(2090),up=P(1877);const su="@firebase/database";let cp="";function w0(n){cp=n}class b0{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class dp{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const T0=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new b0(t)}}catch(t){}return new dp},Ja=T0("localStorage"),Um=T0("sessionStorage"),Sc=new up.Yd("@firebase/database"),D0=function(){let n=1;return function(){return n++}}(),I0=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const r=e.digest();return F.US.encodeByteArray(r)},qd=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=qd.apply(null,r):t+="object"==typeof r?(0,F.Pz)(r):r,t+=" "}return t};let Xa=null,S0=!0;const Hm=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Sc.logLevel=up.in.VERBOSE,Xa=Sc.log.bind(Sc),t&&Um.set("logging_enabled",!0)):"function"==typeof n?Xa=n:(Xa=null,Um.remove("logging_enabled"))},pr=function(...n){if(!0===S0&&(S0=!1,null===Xa&&!0===Um.get("logging_enabled")&&Hm(!0)),Xa){const t=qd.apply(null,n);Xa(t)}},ou=function(n){return function(...t){pr(n,...t)}},A0=function(...n){const t="FIREBASE INTERNAL ERROR: "+qd(...n);Sc.error(t)},hs=function(...n){const t=`FIREBASE FATAL ERROR: ${qd(...n)}`;throw Sc.error(t),new Error(t)},$r=function(...n){const t="FIREBASE WARNING: "+qd(...n);Sc.warn(t)},el=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},zs="[MIN_NAME]",fs="[MAX_NAME]",au=function(n,t){if(n===t)return 0;if(n===zs||t===fs)return-1;if(t===zs||n===fs)return 1;{const e=Ac(n),r=Ac(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},hp=function(n,t){return n===t?0:n<t?-1:1},tl=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},Yd=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,F.Pz)(t[r]),e+=":",e+=Yd(n[t[r]]);return e+="}",e},cb=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let o=0;o<e;o+=t)r.push(n.substring(o,o+t>e?e:o+t));return r};function Cr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const fp=function(n){(0,F.hu)(!el(n),"Invalid JSON number");const r=1023;let o,c,h,m,E;0===n?(c=0,h=0,o=1/n==-1/0?1:0):(o=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(n)/Math.LN2),r),c=m+r,h=Math.round(n*Math.pow(2,52-m)-Math.pow(2,52))):(c=0,h=Math.round(n/Math.pow(2,-1074))));const D=[];for(E=52;E;E-=1)D.push(h%2?1:0),h=Math.floor(h/2);for(E=11;E;E-=1)D.push(c%2?1:0),c=Math.floor(c/2);D.push(o?1:0),D.reverse();const O=D.join("");let R="";for(E=0;E<64;E+=8){let Y=parseInt(O.substr(E,8),2).toString(16);1===Y.length&&(Y="0"+Y),R+=Y}return R.toLowerCase()},$m=new RegExp("^-?(0*)\\d{1,10}$"),Wm=-2147483648,pp=2147483647,Ac=function(n){if($m.test(n)){const t=Number(n);if(t>=Wm&&t<=pp)return t}return null},lu=function(n){try{n()}catch(t){setTimeout(()=>{throw $r("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Mc=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class O0{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){$r(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Gm{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$r(t)}}let xc=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const zm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Ym="websocket",Km="long_polling";class vp{constructor(t,e,r,o,c=!1,h="",m=!1){this.secure=e,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ja.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Ja.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function hb(n,t,e){let r;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===Ym)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Km)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function k0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const o=[];return Cr(e,(c,h)=>{o.push(c+"="+h)}),r+o.join("&")}class fb{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const Qm={},Ep={};function Jm(n){const t=n.toString();return Qm[t]||(Qm[t]=new fb),Qm[t]}class F0{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&lu(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class nl{constructor(t,e,r,o,c,h,m){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ou(t),this.stats_=Jm(e),this.urlFn=E=>(this.appCheckToken&&(E.ac=this.appCheckToken),hb(e,Km,E))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new F0(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ps((...c)=>{const[h,m,E,D,O]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===h)this.id=m,this.password=E;else{if("close"!==h)throw new Error("Unrecognized command received: "+h);m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[h,m]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&zm.test(location.hostname)&&(r.r="f");const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){nl.forceAllow_=!0}static forceDisallow(){nl.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!nl.forceAllow_&&(nl.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,F.h$)(e),o=cb(r,1840);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class ps{constructor(t,e,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=D0(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=ps.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){pr("frame writing exception"),m.stack&&pr(m.stack),pr(m)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||pr("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const h=this.pendingSegs.shift();r=r+"&seg"+o+"="+h.seg+"&ts"+o+"="+h.ts+"&d"+o+"="+h.d,o++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},o=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(o),r()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||"loaded"===o||"complete"===o)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{pr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let Kd=null;"undefined"!=typeof MozWebSocket?Kd=MozWebSocket:"undefined"!=typeof WebSocket&&(Kd=WebSocket);let cu=(()=>{class n{constructor(e,r,o,c,h,m,E){this.connId=e,this.applicationId=o,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ou(this.connId),this.stats_=Jm(r),this.connURL=n.connectionURL_(r,m,E,c,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,o,c,h){const m={v:"5"};return!(0,F.Yr)()&&"undefined"!=typeof location&&location.hostname&&zm.test(location.hostname)&&(m.r="f"),r&&(m.s=r),o&&(m.ls=o),c&&(m.ac=c),h&&(m.p=h),hb(e,Ym,m)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ja.set("previous_websocket_failure",!0);try{let o;if((0,F.Yr)()){o={headers:{"User-Agent":`Firebase/5/${cp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(o.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(o.headers["X-Firebase-AppCheck"]=this.appCheckToken);const h=process.env,m=0===this.connURL.indexOf("wss://")?h.HTTPS_PROXY||h.https_proxy:h.HTTP_PROXY||h.http_proxy;m&&(o.proxy={origin:m})}this.mySock=new Kd(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const c=o.message||o.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const c=o.message||o.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const o=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);o&&o.length>1&&parseFloat(o[1])<4.4&&(e=!0)}return!e&&null!==Kd&&!n.forceDisallow_}static previouslyFailed(){return Ja.isInMemoryStorage||!0===Ja.get("previous_websocket_failure")}markConnectionHealthy(){Ja.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=(0,F.cI)(r);this.onMessage(o)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);null!==o&&this.appendFrame_(o)}}send(e){this.resetKeepAlive();const r=(0,F.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=cb(r,16384);o.length>1&&this.sendString_(String(o.length));for(let c=0;c<o.length;c++)this.sendString_(o[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),H0=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[nl,cu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const r=cu&&cu.isAvailable();let o=r&&!cu.previouslyFailed();if(e.webSocketOnly&&(r||$r("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[cu];else{const c=this.transports_=[];for(const h of n.ALL_TRANSPORTS)h&&h.isAvailable()&&c.push(h);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class wp{constructor(t,e,r,o,c,h,m,E,D,O){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=E,this.onKill_=D,this.lastSessionId=O,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ou("c:"+this.id+":"),this.transportManager_=new H0(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=Mc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=tl("t",t),r=tl("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=tl("t",t),r=tl("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=tl("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?A0("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):A0("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&$r("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),Mc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Mc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ja.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Jd{put(t,e,r,o){}merge(t,e,r,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class s_{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const o=this.getInitialEvent(t);o&&e.apply(r,o)}off(t,e,r){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===e&&(!r||r===o[c].context))return void o.splice(c,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Xd extends s_{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Xd}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class tn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Kt(){return new tn("")}function kt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function fa(n){return n.pieces_.length-n.pieceNum_}function yn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new tn(n.pieces_,t)}function l_(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function eh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function q0(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new tn(t,0)}function Ln(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof tn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&e.push(r[o])}return new tn(e,0)}function Lt(n){return n.pieceNum_>=n.pieces_.length}function ai(n,t){const e=kt(n),r=kt(t);if(null===e)return t;if(e===r)return ai(yn(n),yn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Db(n,t){const e=eh(n,0),r=eh(t,0);for(let o=0;o<e.length&&o<r.length;o++){const c=au(e[o],r[o]);if(0!==c)return c}return e.length===r.length?0:e.length<r.length?-1:1}function u_(n,t){if(fa(n)!==fa(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function gs(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(fa(n)>fa(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class Ib{constructor(t,e){this.errorPrefix_=e,this.parts_=eh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,F.ug)(this.parts_[r]);Y0(this)}}function Y0(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+hu(n))}function hu(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class c_ extends s_{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new c_}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const th=1e3;let rh,rl=(()=>{class n extends Jd{constructor(e,r,o,c,h,m,E,D){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=E,this.authOverride_=D,this.id=n.nextPersistentConnectionId_++,this.log_=ou("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=th,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,D&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");c_.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Xd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,o){const c=++this.requestNumber_,h={r:c,a:e,b:r};this.log_((0,F.Pz)(h)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),o&&(this.requestCBHash_[c]=o)}get(e){this.initConnection_();const r=new F.BH,o={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:o,onComplete:m=>{const E=m.d;"ok"===m.s?r.resolve(E):r.reject(E)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(e,r,o,c){this.initConnection_();const h=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const E={onComplete:c,hashFn:r,query:e,tag:o};this.listens.get(m).set(h,E),this.connected_&&this.sendListen_(E)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(e){const r=e.query,o=r._path.toString(),c=r._queryIdentifier;this.log_("Listen on "+o+" for "+c);const h={p:o};e.tag&&(h.q=r._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest("q",h,E=>{const D=E.d,O=E.s;n.warnOnListenWarnings_(D,r),(this.listens.get(o)&&this.listens.get(o).get(c))===e&&(this.log_("listen response",E),"ok"!==O&&this.removeListen_(o,c),e.onComplete&&e.onComplete(O,D))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const o=(0,F.DV)(e,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const c='".indexOn": "'+r._queryParams.getIndex().toString()+'"',h=r._path.toString();$r(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,F.w9)(e)?"auth":"gauth",o={cred:e};null===this.authOverride_?o.noauth=!0:"object"==typeof this.authOverride_&&(o.authvar=this.authOverride_),this.sendRequest(r,o,c=>{const h=c.s,m=c.d||"error";this.authToken_===e&&("ok"===h?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,o=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(e,r){const o=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+o+" "+c),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,c)&&this.connected_&&this.sendUnlisten_(o,c,e._queryObject,r)}sendUnlisten_(e,r,o,c){this.log_("Unlisten on "+e+" for "+r);const h={p:e};c&&(h.q=o,h.t=c),this.sendRequest("n",h)}onDisconnectPut(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:o})}onDisconnectMerge(e,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,o):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:o})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,o,c){const h={p:r,d:o};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(e,r,o,c){this.putInternal("p",e,r,o,c)}merge(e,r,o,c){this.putInternal("m",e,r,o,c)}putInternal(e,r,o,c,h){this.initConnection_();const m={p:r,d:o};void 0!==h&&(m.h=h),this.outstandingPuts_.push({action:e,request:m,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,o=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,o,h=>{this.log_(r+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,o=>{"ok"!==o.s&&this.log_("reportStats","Error sending stats: "+o.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const r=e.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):A0("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=th,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=th,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=th),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,iu.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),o=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),h=e.id+":"+n.nextConnectionId_++,m=e.lastSessionId;let E=!1,D=null;const O=function(){D?D.close():(E=!0,c())};e.realtime_={close:O,sendRequest:function(re){(0,F.hu)(D,"sendRequest call when we're not connected not allowed."),D.sendRequest(re)}};const Y=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[re,_e]=yield Promise.all([e.authTokenProvider_.getToken(Y),e.appCheckTokenProvider_.getToken(Y)]);E?pr("getToken() completed but was canceled"):(pr("getToken() completed. Creating connection."),e.authToken_=re&&re.accessToken,e.appCheckToken_=_e&&_e.token,D=new wp(h,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,o,c,Fe=>{$r(Fe+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},m))}catch(re){e.log_("Failed to get token: "+re),E||(e.repoInfo_.nodeAdmin&&$r(re),O())}}})()}interrupt(e){pr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){pr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=th,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let o;o=r?r.map(h=>Yd(h)).join("$"):"default";const c=this.removeListen_(e,o);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,r){const o=new tn(e).toString();let c;if(this.listens.has(o)){const h=this.listens.get(o);c=h.get(r),h.delete(r),0===h.size&&this.listens.delete(o)}else c=void 0;return c}onAuthRevoked_(e,r){pr("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){pr("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,F.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+cp.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Xd.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Vt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Vt(t,e)}}class nh{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new Vt(zs,t),o=new Vt(zs,e);return 0!==this.compare(r,o)}minPost(){return Vt.MIN}}class f_ extends nh{static get __EMPTY_NODE(){return rh}static set __EMPTY_NODE(t){rh=t}compare(t,e){return au(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Vt.MIN}maxPost(){return new Vt(fs,rh)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Vt(t,rh)}toString(){return".key"}}const Wr=new f_;class bp{constructor(t,e,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=e?r(t.key,e):1,o&&(h*=-1),h<0)t=this.isReverse_?t.left:t.right;else{if(0===h){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Tp,Ys=(()=>{class n{constructor(e,r,o,c,h){this.key=e,this.value=r,this.color=null!=o?o:n.RED,this.left=null!=c?c:Wi.EMPTY_NODE,this.right=null!=h?h:Wi.EMPTY_NODE}copy(e,r,o,c,h){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=o?o:this.color,null!=c?c:this.left,null!=h?h:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,o){let c=this;const h=o(e,c.key);return c=h<0?c.copy(null,null,null,c.left.insert(e,r,o),null):0===h?c.copy(null,r,null,null,null):c.copy(null,null,null,null,c.right.insert(e,r,o)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Wi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let o,c;if(o=this,r(e,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),0===r(e,o.key)){if(o.right.isEmpty())return Wi.EMPTY_NODE;c=o.right.min_(),o=o.copy(c.key,c.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Wi{constructor(t,e=Wi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Wi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ys.BLACK,null,null))}remove(t){return new Wi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ys.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,o=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(o=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new bp(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new bp(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new bp(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new bp(this.root_,null,this.comparator_,!0,t)}}function p_(n,t){return au(n.name,t.name)}function eE(n,t){return au(n,t)}Wi.EMPTY_NODE=new class Pc{copy(t,e,r,o,c){return this}insert(t,e,r){return new Ys(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Mb=function(n){return"number"==typeof n?"number:"+fp(n):"string:"+n},dt=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===Tp||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===Tp||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let nE,rE,ih,Oc=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),dt(this.priorityNode_)}static set __childrenNodeConstructor(e){nE=e}static get __childrenNodeConstructor(){return nE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Lt(e)?this:".priority"===kt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const o=kt(e);return null===o?r:r.isEmpty()&&".priority"!==o?this:((0,F.hu)(".priority"!==o||1===fa(e),".priority must be the last token in a path"),this.updateImmediateChild(o,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(yn(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Mb(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?fp(this.value_):this.value_,this.lazyHash_=I0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,o=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(r),h=n.VALUE_TYPE_ORDER.indexOf(o);return(0,F.hu)(c>=0,"Unknown leaf type: "+r),(0,F.hu)(h>=0,"Unknown leaf type: "+o),c===h?"object"===o?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const mt=new class Ip extends nh{compare(t,e){const r=t.node.getPriority(),o=e.node.getPriority(),c=r.compareTo(o);return 0===c?au(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Vt.MIN}maxPost(){return new Vt(fs,new Oc("[PRIORITY-POST]",ih))}makePost(t,e){const r=rE(t);return new Vt(e,new Oc("[PRIORITY-POST]",r))}toString(){return".priority"}},EI=Math.log(2);class iE{constructor(t){this.count=parseInt(Math.log(t+1)/EI,10),this.current_=this.count-1;const o=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Sp=function(n,t,e,r){n.sort(t);const o=function(E,D){const O=D-E;let R,Y;if(0===O)return null;if(1===O)return R=n[E],Y=e?e(R):R,new Ys(Y,R.node,Ys.BLACK,null,null);{const re=parseInt(O/2,10)+E,_e=o(E,re),Fe=o(re+1,D);return R=n[re],Y=e?e(R):R,new Ys(Y,R.node,Ys.BLACK,_e,Fe)}},m=function(E){let D=null,O=null,R=n.length;const Y=function(_e,Fe){const Je=R-_e,Bt=R;R-=_e;const It=o(Je+1,Bt),cn=n[Je],Ft=e?e(cn):cn;re(new Ys(Ft,cn.node,Fe,null,It))},re=function(_e){D?(D.left=_e,D=_e):(O=_e,D=_e)};for(let _e=0;_e<E.count;++_e){const Fe=E.nextBitIsOne(),Je=Math.pow(2,E.count-(_e+1));Fe?Y(Je,Ys.BLACK):(Y(Je,Ys.BLACK),Y(Je,Ys.RED))}return O}(new iE(n.length));return new Wi(r||t,m)};let g_;const fu={};class Io{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(fu&&mt,"ChildrenNode.ts has not been loaded"),g_=g_||new Io({".priority":fu},{".priority":mt}),g_}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Wi?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Wr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=e.getIterator(Vt.Wrap);let m,h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),r.push(h),h=c.getNext();m=o?Sp(r,t.getCompare()):fu;const E=t.toString(),D=Object.assign({},this.indexSet_);D[E]=t;const O=Object.assign({},this.indexes_);return O[E]=m,new Io(O,D)}addToIndexes(t,e){const r=(0,F.UI)(this.indexes_,(o,c)=>{const h=(0,F.DV)(this.indexSet_,c);if((0,F.hu)(h,"Missing index implementation for "+c),o===fu){if(h.isDefinedOn(t.node)){const m=[],E=e.getIterator(Vt.Wrap);let D=E.getNext();for(;D;)D.name!==t.name&&m.push(D),D=E.getNext();return m.push(t),Sp(m,h.getCompare())}return fu}{const m=e.get(t.name);let E=o;return m&&(E=E.remove(new Vt(t.name,m))),E.insert(t,t.node)}});return new Io(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,F.UI)(this.indexes_,o=>{if(o===fu)return o;{const c=e.get(t.name);return c?o.remove(new Vt(t.name,c)):o}});return new Io(r,this.indexSet_)}}let Rc,Tt=(()=>{class n{constructor(e,r,o){this.children_=e,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&dt(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Rc||(Rc=new n(new Wi(eE),null,Io.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Rc}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?Rc:r}}getChild(e){const r=kt(e);return null===r?this:this.getImmediateChild(r).getChild(yn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,F.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const o=new Vt(e,r);let c,h;r.isEmpty()?(c=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(o,this.children_)):(c=this.children_.insert(e,r),h=this.indexMap_.addToIndexes(o,this.children_));const m=c.isEmpty()?Rc:this.priorityNode_;return new n(c,m,h)}}updateChild(e,r){const o=kt(e);if(null===o)return r;{(0,F.hu)(".priority"!==kt(e)||1===fa(e),".priority must be the last token in a path");const c=this.getImmediateChild(o).updateChild(yn(e),r);return this.updateImmediateChild(o,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let o=0,c=0,h=!0;if(this.forEachChild(mt,(m,E)=>{r[m]=E.val(e),o++,h&&n.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):h=!1}),!e&&h&&c<2*o){const m=[];for(const E in r)m[E]=r[E];return m}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Mb(this.getPriority().val())+":"),this.forEachChild(mt,(r,o)=>{const c=o.hash();""!==c&&(e+=":"+r+":"+c)}),this.lazyHash_=""===e?"":I0(e)}return this.lazyHash_}getPredecessorChildName(e,r,o){const c=this.resolveIndex_(o);if(c){const h=c.getPredecessorKey(new Vt(e,r));return h?h.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.minKey();return o&&o.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new Vt(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const o=r.maxKey();return o&&o.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new Vt(r,this.children_.get(r)):null}forEachChild(e,r){const o=this.resolveIndex_(e);return o?o.inorderTraversal(c=>r(c.name,c.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Vt.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,e)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Vt.Wrap);let h=c.peek();for(;null!=h&&r.compare(h,e)>0;)c.getNext(),h=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===sh?-1:0}withIndex(e){if(e===Wr||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Wr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const o=this.getIterator(mt),c=r.getIterator(mt);let h=o.getNext(),m=c.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=o.getNext(),m=c.getNext()}return null===h&&null===m}return!1}return!1}}resolveIndex_(e){return e===Wr?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const sh=new class Pb extends Tt{constructor(){super(new Wi(eE),Tt.EMPTY_NODE,Io.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Tt.EMPTY_NODE}isEmpty(){return!1}};function vn(n,t=null){if(null===n)return Tt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Oc(n,vn(t));if(n instanceof Array){let e=Tt.EMPTY_NODE;return Cr(n,(r,o)=>{if((0,F.r3)(n,r)&&"."!==r.substring(0,1)){const c=vn(o);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(r,c))}}),e.updatePriority(vn(t))}{const e=[];let r=!1;if(Cr(n,(h,m)=>{if("."!==h.substring(0,1)){const E=vn(m);E.isEmpty()||(r=r||!E.getPriority().isEmpty(),e.push(new Vt(h,E)))}}),0===e.length)return Tt.EMPTY_NODE;const c=Sp(e,p_,h=>h.name,eE);if(r){const h=Sp(e,mt.getCompare());return new Tt(c,vn(t),new Io({".priority":h},{".priority":mt}))}return new Tt(c,vn(t),Io.Default)}}Object.defineProperties(Vt,{MIN:{value:new Vt(zs,Tt.EMPTY_NODE)},MAX:{value:new Vt(fs,sh)}}),f_.__EMPTY_NODE=Tt.EMPTY_NODE,Oc.__childrenNodeConstructor=Tt,function tE(n){Tp=n}(sh),function Dp(n){ih=n}(sh),function xb(n){rE=n}(vn);class m_ extends nh{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!Lt(t)&&".priority"!==kt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),o=this.extractChild(e.node),c=r.compareTo(o);return 0===c?au(t.name,e.name):c}makePost(t,e){const r=vn(t),o=Tt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Vt(e,o)}maxPost(){const t=Tt.EMPTY_NODE.updateChild(this.indexPath_,sh);return new Vt(fs,t)}toString(){return eh(this.indexPath_,0).join("/")}}const __=new class Rb extends nh{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?au(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Vt.MIN}maxPost(){return Vt.MAX}makePost(t,e){const r=vn(t);return new Vt(e,r)}toString(){return".value"}},pa="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Nb=function(){let n=0;const t=[];return function(e){const r=e===n;let o;n=e;const c=new Array(8);for(o=7;o>=0;o--)c[o]=pa.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let h=c.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)h+=pa.charAt(t[o]);return(0,F.hu)(20===h.length,"nextPushId: Length should be 20."),h}}(),Nc=function(n){if(n===""+pp)return"-";const t=Ac(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let h=0;h<e.length;h++)e[h]=n.charAt(h);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return fs;const c=pa.charAt(pa.indexOf(e[r])+1);return e[r]=c,e.slice(0,r+1).join("")},kc=function(n){if(n===""+Wm)return zs;const t=Ac(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+pp:(delete e[e.length-1],e.join("")):(e[e.length-1]=pa.charAt(pa.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function sE(n){return{type:"value",snapshotNode:n}}function Fc(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function oh(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Lc(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Mp{constructor(t){this.index_=t}updateChild(t,e,r,o,c,h){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=t.getImmediateChild(e);return m.getChild(o).equals(r.getChild(o))&&m.isEmpty()===r.isEmpty()||(null!=h&&(r.isEmpty()?t.hasChild(e)?h.trackChildChange(oh(e,m)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Fc(e,r)):h.trackChildChange(Lc(e,r,m))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(mt,(o,c)=>{e.hasChild(o)||r.trackChildChange(oh(o,c))}),e.isLeafNode()||e.forEachChild(mt,(o,c)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(c)||r.trackChildChange(Lc(o,c,h))}else r.trackChildChange(Fc(o,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Tt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ah{constructor(t){this.indexedFilter_=new Mp(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ah.getStartPost_(t),this.endPost_=ah.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,o,c,h){return this.matches(new Vt(e,r))||(r=Tt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,o,c,h)}updateFullNode(t,e,r){e.isLeafNode()&&(e=Tt.EMPTY_NODE);let o=e.withIndex(this.index_);o=o.updatePriority(Tt.EMPTY_NODE);const c=this;return e.forEachChild(mt,(h,m)=>{c.matches(new Vt(h,m))||(o=o.updateImmediateChild(h,Tt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class aE{constructor(t){this.rangedFilter_=new ah(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,o,c,h){return this.rangedFilter_.matches(new Vt(e,r))||(r=Tt.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,o,c,h):this.fullLimitUpdateChild_(t,e,r,c,h)}updateFullNode(t,e,r){let o;if(e.isLeafNode()||e.isEmpty())o=Tt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;o=Tt.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const m=c.getNext();let E;if(E=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),m)<=0:this.index_.compare(m,this.rangedFilter_.getEndPost())<=0,!E)break;o=o.updateImmediateChild(m.name,m.node),h++}}else{let c,h,m,E;if(o=e.withIndex(this.index_),o=o.updatePriority(Tt.EMPTY_NODE),this.reverse_){E=o.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),h=this.rangedFilter_.getStartPost();const R=this.index_.getCompare();m=(Y,re)=>R(re,Y)}else E=o.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),h=this.rangedFilter_.getEndPost(),m=this.index_.getCompare();let D=0,O=!1;for(;E.hasNext();){const R=E.getNext();!O&&m(c,R)<=0&&(O=!0),O&&D<this.limit_&&m(R,h)<=0?D++:o=o.updateImmediateChild(R.name,Tt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,o,c){let h;if(this.reverse_){const R=this.index_.getCompare();h=(Y,re)=>R(re,Y)}else h=this.index_.getCompare();const m=t;(0,F.hu)(m.numChildren()===this.limit_,"");const E=new Vt(e,r),D=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),O=this.rangedFilter_.matches(E);if(m.hasChild(e)){const R=m.getImmediateChild(e);let Y=o.getChildAfterChild(this.index_,D,this.reverse_);for(;null!=Y&&(Y.name===e||m.hasChild(Y.name));)Y=o.getChildAfterChild(this.index_,Y,this.reverse_);const re=null==Y?1:h(Y,E);if(O&&!r.isEmpty()&&re>=0)return null!=c&&c.trackChildChange(Lc(e,r,R)),m.updateImmediateChild(e,r);{null!=c&&c.trackChildChange(oh(e,R));const Fe=m.updateImmediateChild(e,Tt.EMPTY_NODE);return null!=Y&&this.rangedFilter_.matches(Y)?(null!=c&&c.trackChildChange(Fc(Y.name,Y.node)),Fe.updateImmediateChild(Y.name,Y.node)):Fe}}return r.isEmpty()?t:O&&h(D,E)>=0?(null!=c&&(c.trackChildChange(oh(D.name,D.node)),c.trackChildChange(Fc(e,r))),m.updateImmediateChild(e,r).updateImmediateChild(D.name,Tt.EMPTY_NODE)):t}}class xp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=mt}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zs}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===mt}copy(){const t=new xp;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function lE(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function Pp(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function Rp(n,t){const e=n.copy();return e.index_=t,e}function uE(n){const t={};if(n.isDefault())return t;let e;return n.index_===mt?e="$priority":n.index_===__?e="$value":n.index_===Wr?e="$key":((0,F.hu)(n.index_ instanceof m_,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function E_(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==mt&&(t.i=n.index_.toString()),t}class il extends Jd{constructor(t,e,r,o){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=ou("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=il.getListenId_(t,r),m={};this.listens_[h]=m;const E=uE(t._queryParams);this.restRequest_(c+".json",E,(D,O)=>{let R=O;if(404===D&&(R=null,D=null),null===D&&this.onDataUpdate_(c,R,!1,r),(0,F.DV)(this.listens_,h)===m){let Y;Y=D?401===D?"permission_denied":"rest_error:"+D:"ok",o(Y,null)}})}unlisten(t,e){const r=il.getListenId_(t,e);delete this.listens_[r]}get(t){const e=uE(t._queryParams),r=t._path.toString(),o=new F.BH;return this.restRequest_(r+".json",e,(c,h)=>{let m=h;404===c&&(m=null,c=null),null===c?(this.onDataUpdate_(r,m,!1,null),o.resolve(m)):o.reject(new Error(m))}),o.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(e.auth=o.accessToken),c&&c.token&&(e.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&4===m.readyState){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let E=null;if(m.status>=200&&m.status<300){try{E=(0,F.cI)(m.responseText)}catch(D){$r("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,E)}else 401!==m.status&&404!==m.status&&$r("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}class Fb{constructor(){this.rootNode_=Tt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Np(){return{value:null,children:new Map}}function Vc(n,t,e){if(Lt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=kt(t);n.children.has(r)||n.children.set(r,Np()),Vc(n.children.get(r),t=yn(t),e)}}function C_(n,t){if(Lt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(mt,(r,o)=>{Vc(n,new tn(r),o)}),C_(n,t)}}if(n.children.size>0){const e=kt(t);return t=yn(t),n.children.has(e)&&C_(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function w_(n,t,e){null!==n.value?e(t,n.value):function cE(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,o)=>{w_(o,new tn(t.toString()+"/"+r),e)})}class Lb{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Cr(this.last_,(r,o)=>{e[r]=e[r]-o}),this.last_=t,e}}class hE{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Lb(t);const r=1e4+2e4*Math.random();Mc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;Cr(t,(o,c)=>{c>0&&(0,F.r3)(this.statsToReport_,o)&&(e[o]=c,r=!0)}),r&&this.server_.reportStats(e),Mc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ms=(()=>{return(n=ms||(ms={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",ms;var n})();function Fp(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Lp{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=ms.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Lt(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new tn(t));return new Lp(Kt(),e,this.revert)}}return(0,F.hu)(kt(this.path)===t,"operationForChild called for unrelated child."),new Lp(yn(this.path),this.affectedTree,this.revert)}}class pu{constructor(t,e){this.source=t,this.path=e,this.type=ms.LISTEN_COMPLETE}operationForChild(t){return Lt(this.path)?new pu(this.source,Kt()):new pu(this.source,yn(this.path))}}class gu{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=ms.OVERWRITE}operationForChild(t){return Lt(this.path)?new gu(this.source,Kt(),this.snap.getImmediateChild(t)):new gu(this.source,yn(this.path),this.snap)}}class mu{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=ms.MERGE}operationForChild(t){if(Lt(this.path)){const e=this.children.subtree(new tn(t));return e.isEmpty()?null:e.value?new gu(this.source,Kt(),e.value):new mu(this.source,Kt(),e)}return(0,F.hu)(kt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new mu(this.source,yn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ga{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Lt(t))return this.isFullyInitialized()&&!this.filtered_;const e=kt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Bb{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function lh(n,t,e,r,o,c){const h=r.filter(m=>m.type===e);h.sort((m,E)=>function Hb(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const r=new Vt(t.childName,t.snapshotNode),o=new Vt(e.childName,e.snapshotNode);return n.index_.compare(r,o)}(n,m,E)),h.forEach(m=>{const E=function T_(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,m,c);o.forEach(D=>{D.respondsTo(m.type)&&t.push(D.createEvent(E,n.query_))})})}function uh(n,t){return{eventCache:n,serverCache:t}}function ch(n,t,e,r){return uh(new ga(t,e,r),n.serverCache)}function fE(n,t,e,r){return uh(n.eventCache,new ga(t,e,r))}function Vp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function _u(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let D_;class bn{constructor(t,e=(()=>(D_||(D_=new Wi(hp)),D_))()){this.value=t,this.children=e}static fromObject(t){let e=new bn(null);return Cr(t,(r,o)=>{e=e.set(new tn(r),o)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Kt(),value:this.value};if(Lt(t))return null;{const r=kt(t),o=this.children.get(r);if(null!==o){const c=o.findRootMostMatchingPathAndValue(yn(t),e);return null!=c?{path:Ln(new tn(r),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Lt(t))return this;{const e=kt(t),r=this.children.get(e);return null!==r?r.subtree(yn(t)):new bn(null)}}set(t,e){if(Lt(t))return new bn(e,this.children);{const r=kt(t),c=(this.children.get(r)||new bn(null)).set(yn(t),e),h=this.children.insert(r,c);return new bn(this.value,h)}}remove(t){if(Lt(t))return this.children.isEmpty()?new bn(null):new bn(null,this.children);{const e=kt(t),r=this.children.get(e);if(r){const o=r.remove(yn(t));let c;return c=o.isEmpty()?this.children.remove(e):this.children.insert(e,o),null===this.value&&c.isEmpty()?new bn(null):new bn(this.value,c)}return this}}get(t){if(Lt(t))return this.value;{const e=kt(t),r=this.children.get(e);return r?r.get(yn(t)):null}}setTree(t,e){if(Lt(t))return e;{const r=kt(t),c=(this.children.get(r)||new bn(null)).setTree(yn(t),e);let h;return h=c.isEmpty()?this.children.remove(r):this.children.insert(r,c),new bn(this.value,h)}}fold(t){return this.fold_(Kt(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(Ln(t,o),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,Kt(),e)}findOnPath_(t,e,r){const o=!!this.value&&r(e,this.value);if(o)return o;if(Lt(t))return null;{const c=kt(t),h=this.children.get(c);return h?h.findOnPath_(yn(t),Ln(e,c),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Kt(),e)}foreachOnPath_(t,e,r){if(Lt(t))return this;{this.value&&r(e,this.value);const o=kt(t),c=this.children.get(o);return c?c.foreachOnPath_(yn(t),Ln(e,o),r):new bn(null)}}foreach(t){this.foreach_(Kt(),t)}foreach_(t,e){this.children.inorderTraversal((r,o)=>{o.foreach_(Ln(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class Ks{constructor(t){this.writeTree_=t}static empty(){return new Ks(new bn(null))}}function Uc(n,t,e){if(Lt(t))return new Ks(new bn(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let c=r.value;const h=ai(o,t);return c=c.updateChild(h,e),new Ks(n.writeTree_.set(o,c))}{const o=new bn(e),c=n.writeTree_.setTree(t,o);return new Ks(c)}}}function Bp(n,t,e){let r=n;return Cr(e,(o,c)=>{r=Uc(r,Ln(t,o),c)}),r}function pE(n,t){if(Lt(t))return Ks.empty();{const e=n.writeTree_.setTree(t,new bn(null));return new Ks(e)}}function I_(n,t){return null!=sl(n,t)}function sl(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(ai(e.path,t)):null}function gE(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(mt,(r,o)=>{t.push(new Vt(r,o))}):n.writeTree_.children.inorderTraversal((r,o)=>{null!=o.value&&t.push(new Vt(r,o.value))}),t}function ol(n,t){if(Lt(t))return n;{const e=sl(n,t);return new Ks(null!=e?new bn(e):n.writeTree_.subtree(t))}}function S_(n){return n.writeTree_.isEmpty()}function al(n,t){return Up(Kt(),n.writeTree_,t)}function Up(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((o,c)=>{".priority"===o?((0,F.hu)(null!==c.value,"Priority writes must always be leaf nodes"),r=c.value):e=Up(Ln(n,o),c,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Ln(n,".priority"),r)),e}}function dh(n,t){return EE(t,n)}function Gb(n,t){if(n.snap)return gs(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&gs(Ln(n.path,e),t))return!0;return!1}function zb(n){return n.visible}function x_(n,t,e){let r=Ks.empty();for(let o=0;o<n.length;++o){const c=n[o];if(t(c)){const h=c.path;let m;if(c.snap)gs(e,h)?(m=ai(e,h),r=Uc(r,m,c.snap)):gs(h,e)&&(m=ai(h,e),r=Uc(r,Kt(),c.snap.getChild(m)));else{if(!c.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(gs(e,h))m=ai(e,h),r=Bp(r,m,c.children);else if(gs(h,e))if(m=ai(h,e),Lt(m))r=Bp(r,Kt(),c.children);else{const E=(0,F.DV)(c.children,kt(m));if(E){const D=E.getChild(yn(m));r=Uc(r,Kt(),D)}}}}}return r}function _E(n,t,e,r,o){if(r||o){const c=ol(n.visibleWrites,t);return!o&&S_(c)?e:o||null!=e||I_(c,Kt())?al(x_(n.allWrites,function(D){return(D.visible||o)&&(!r||!~r.indexOf(D.writeId))&&(gs(D.path,t)||gs(t,D.path))},t),e||Tt.EMPTY_NODE):null}{const c=sl(n.visibleWrites,t);if(null!=c)return c;{const h=ol(n.visibleWrites,t);return S_(h)?e:null!=e||I_(h,Kt())?al(h,e||Tt.EMPTY_NODE):null}}}function ll(n,t,e,r){return _E(n.writeTree,n.treePath,t,e,r)}function P_(n,t){return function yE(n,t,e){let r=Tt.EMPTY_NODE;const o=sl(n.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(mt,(c,h)=>{r=r.updateImmediateChild(c,h)}),r;if(e){const c=ol(n.visibleWrites,t);return e.forEachChild(mt,(h,m)=>{const E=al(ol(c,new tn(h)),m);r=r.updateImmediateChild(h,E)}),gE(c).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}return gE(ol(n.visibleWrites,t)).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}(n.writeTree,n.treePath,t)}function Yb(n,t,e,r){return function TI(n,t,e,r,o){(0,F.hu)(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=Ln(t,e);if(I_(n.visibleWrites,c))return null;{const h=ol(n.visibleWrites,c);return S_(h)?o.getChild(e):al(h,o.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function hh(n,t){return function Hp(n,t){return sl(n.visibleWrites,t)}(n.writeTree,Ln(n.treePath,t))}function O_(n,t,e){return function Zb(n,t,e,r){const o=Ln(t,e),c=sl(n.visibleWrites,o);return null!=c?c:r.isCompleteForChild(e)?al(ol(n.visibleWrites,o),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function vE(n,t){return EE(Ln(n.treePath,t),n.writeTree)}function EE(n,t){return{treePath:n,writeTree:t}}class CE{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(r,Lc(r,t.snapshotNode,o.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(r,oh(r,o.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(r,Fc(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+o);this.changeMap.set(r,Lc(r,t.snapshotNode,o.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const jp=new class wE{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class jc{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new ga(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return O_(this.writes_,t,r)}}getChildAfterChild(t,e,r){const o=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:_u(this.viewCache_),c=function Kb(n,t,e,r,o,c){return function qb(n,t,e,r,o,c,h){let m;const E=ol(n.visibleWrites,t),D=sl(E,Kt());if(null!=D)m=D;else{if(null==e)return[];m=al(E,e)}if(m=m.withIndex(h),m.isEmpty()||m.isLeafNode())return[];{const O=[],R=h.getCompare(),Y=c?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let re=Y.getNext();for(;re&&O.length<o;)0!==R(re,r)&&O.push(re),re=Y.getNext();return O}}(n.writeTree,n.treePath,t,e,r,o,c)}(this.writes_,o,e,1,r,t);return 0===c.length?null:c[0]}}function DE(n,t,e,r,o,c){const h=t.eventCache;if(null!=hh(r,e))return t;{let m,E;if(Lt(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const D=_u(t),R=P_(r,D instanceof Tt?D:Tt.EMPTY_NODE);m=n.filter.updateFullNode(t.eventCache.getNode(),R,c)}else{const D=ll(r,_u(t));m=n.filter.updateFullNode(t.eventCache.getNode(),D,c)}else{const D=kt(e);if(".priority"===D){(0,F.hu)(1===fa(e),"Can't have a priority with additional path components");const O=h.getNode();E=t.serverCache.getNode();const R=Yb(r,e,O,E);m=null!=R?n.filter.updatePriority(O,R):h.getNode()}else{const O=yn(e);let R;if(h.isCompleteForChild(D)){E=t.serverCache.getNode();const Y=Yb(r,e,h.getNode(),E);R=null!=Y?h.getNode().getImmediateChild(D).updateChild(O,Y):h.getNode().getImmediateChild(D)}else R=O_(r,D,t.serverCache);m=null!=R?n.filter.updateChild(h.getNode(),D,R,O,o,c):h.getNode()}}return ch(t,m,h.isFullyInitialized()||Lt(e),n.filter.filtersNodes())}}function $p(n,t,e,r,o,c,h,m){const E=t.serverCache;let D;const O=h?n.filter:n.filter.getIndexedFilter();if(Lt(e))D=O.updateFullNode(E.getNode(),r,null);else if(O.filtersNodes()&&!E.isFiltered()){const re=E.getNode().updateChild(e,r);D=O.updateFullNode(E.getNode(),re,null)}else{const re=kt(e);if(!E.isCompleteForPath(e)&&fa(e)>1)return t;const _e=yn(e),Je=E.getNode().getImmediateChild(re).updateChild(_e,r);D=".priority"===re?O.updatePriority(E.getNode(),Je):O.updateChild(E.getNode(),re,Je,_e,jp,null)}const R=fE(t,D,E.isFullyInitialized()||Lt(e),O.filtersNodes());return DE(n,R,e,o,new jc(o,R,c),m)}function ph(n,t,e,r,o,c,h){const m=t.eventCache;let E,D;const O=new jc(o,t,c);if(Lt(e))D=n.filter.updateFullNode(t.eventCache.getNode(),r,h),E=ch(t,D,!0,n.filter.filtersNodes());else{const R=kt(e);if(".priority"===R)D=n.filter.updatePriority(t.eventCache.getNode(),r),E=ch(t,D,m.isFullyInitialized(),m.isFiltered());else{const Y=yn(e),re=m.getNode().getImmediateChild(R);let _e;if(Lt(Y))_e=r;else{const Fe=O.getCompleteChild(R);_e=null!=Fe?".priority"===l_(Y)&&Fe.getChild(q0(Y)).isEmpty()?Fe:Fe.updateChild(Y,r):Tt.EMPTY_NODE}E=re.equals(_e)?t:ch(t,n.filter.updateChild(m.getNode(),R,_e,Y,O,h),m.isFullyInitialized(),n.filter.filtersNodes())}}return E}function IE(n,t){return n.eventCache.isCompleteForChild(t)}function SE(n,t,e){return e.foreach((r,o)=>{t=t.updateChild(r,o)}),t}function R_(n,t,e,r,o,c,h,m){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let D,E=t;D=Lt(e)?r:new bn(null).setTree(e,r);const O=t.serverCache.getNode();return D.children.inorderTraversal((R,Y)=>{if(O.hasChild(R)){const _e=SE(0,t.serverCache.getNode().getImmediateChild(R),Y);E=$p(n,E,new tn(R),_e,o,c,h,m)}}),D.children.inorderTraversal((R,Y)=>{const re=!t.serverCache.isCompleteForChild(R)&&void 0===Y.value;if(!O.hasChild(R)&&!re){const Fe=SE(0,t.serverCache.getNode().getImmediateChild(R),Y);E=$p(n,E,new tn(R),Fe,o,c,h,m)}}),E}class II{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Mp(r.getIndex()),c=function kb(n){return n.loadsAllData()?new Mp(n.getIndex()):n.hasLimit()?new aE(n):new ah(n)}(r);this.processor_=function fh(n){return{filter:n}}(c);const h=e.serverCache,m=e.eventCache,E=o.updateFullNode(Tt.EMPTY_NODE,h.getNode(),null),D=c.updateFullNode(Tt.EMPTY_NODE,m.getNode(),null),O=new ga(E,h.isFullyInitialized(),o.filtersNodes()),R=new ga(D,m.isFullyInitialized(),c.filtersNodes());this.viewCache_=uh(R,O),this.eventGenerator_=new Bb(this.query_)}get query(){return this.query_}}function SI(n,t){const e=_u(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Lt(t)&&!e.getImmediateChild(kt(t)).isEmpty())?e.getChild(t):null}function N_(n){return 0===n.eventRegistrations_.length}function k_(n,t,e){const r=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const o=n.query._path;n.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(e,o);h&&r.push(h)})}if(t){let o=[];for(let c=0;c<n.eventRegistrations_.length;++c){const h=n.eventRegistrations_[c];if(h.matches(t)){if(t.hasAnyCallback()){o=o.concat(n.eventRegistrations_.slice(c+1));break}}else o.push(h)}n.eventRegistrations_=o}else n.eventRegistrations_=[];return r}function Wp(n,t,e,r){t.type===ms.MERGE&&null!==t.source.queryId&&((0,F.hu)(_u(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(Vp(n.viewCache_),"Missing event cache, even though we have a server cache"));const o=n.viewCache_,c=function bE(n,t,e,r,o){const c=new CE;let h,m;if(e.type===ms.OVERWRITE){const D=e;D.source.fromUser?h=ph(n,t,D.path,D.snap,r,o,c):((0,F.hu)(D.source.fromServer,"Unknown source."),m=D.source.tagged||t.serverCache.isFiltered()&&!Lt(D.path),h=$p(n,t,D.path,D.snap,r,o,m,c))}else if(e.type===ms.MERGE){const D=e;D.source.fromUser?h=function DI(n,t,e,r,o,c,h){let m=t;return r.foreach((E,D)=>{const O=Ln(e,E);IE(t,kt(O))&&(m=ph(n,m,O,D,o,c,h))}),r.foreach((E,D)=>{const O=Ln(e,E);IE(t,kt(O))||(m=ph(n,m,O,D,o,c,h))}),m}(n,t,D.path,D.children,r,o,c):((0,F.hu)(D.source.fromServer,"Unknown source."),m=D.source.tagged||t.serverCache.isFiltered(),h=R_(n,t,D.path,D.children,r,o,m,c))}else if(e.type===ms.ACK_USER_WRITE){const D=e;h=D.revert?function Wc(n,t,e,r,o,c){let h;if(null!=hh(r,e))return t;{const m=new jc(r,t,o),E=t.eventCache.getNode();let D;if(Lt(e)||".priority"===kt(e)){let O;if(t.serverCache.isFullyInitialized())O=ll(r,_u(t));else{const R=t.serverCache.getNode();(0,F.hu)(R instanceof Tt,"serverChildren would be complete if leaf node"),O=P_(r,R)}O=O,D=n.filter.updateFullNode(E,O,c)}else{const O=kt(e);let R=O_(r,O,t.serverCache);null==R&&t.serverCache.isCompleteForChild(O)&&(R=E.getImmediateChild(O)),D=null!=R?n.filter.updateChild(E,O,R,yn(e),m,c):t.eventCache.getNode().hasChild(O)?n.filter.updateChild(E,O,Tt.EMPTY_NODE,yn(e),m,c):E,D.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=ll(r,_u(t)),h.isLeafNode()&&(D=n.filter.updateFullNode(D,h,c)))}return h=t.serverCache.isFullyInitialized()||null!=hh(r,Kt()),ch(t,D,h,n.filter.filtersNodes())}}(n,t,D.path,r,o,c):function $c(n,t,e,r,o,c,h){if(null!=hh(o,e))return t;const m=t.serverCache.isFiltered(),E=t.serverCache;if(null!=r.value){if(Lt(e)&&E.isFullyInitialized()||E.isCompleteForPath(e))return $p(n,t,e,E.getNode().getChild(e),o,c,m,h);if(Lt(e)){let D=new bn(null);return E.getNode().forEachChild(Wr,(O,R)=>{D=D.set(new tn(O),R)}),R_(n,t,e,D,o,c,m,h)}return t}{let D=new bn(null);return r.foreach((O,R)=>{const Y=Ln(e,O);E.isCompleteForPath(Y)&&(D=D.set(O,E.getNode().getChild(Y)))}),R_(n,t,e,D,o,c,m,h)}}(n,t,D.path,D.affectedTree,r,o,c)}else{if(e.type!==ms.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);h=function AE(n,t,e,r,o){const c=t.serverCache;return DE(n,fE(t,c.getNode(),c.isFullyInitialized()||Lt(e),c.isFiltered()),e,r,jp,o)}(n,t,e.path,r,c)}const E=c.getChanges();return function TE(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=Vp(n);(e.length>0||!n.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&e.push(sE(Vp(t)))}}(t,h,E),{viewCache:h,changes:E}}(n.processor_,o,t,e,r);return function Qb(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,F.hu)(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,F_(n,c.changes,c.viewCache.eventCache.getNode(),null)}function F_(n,t,e,r){return function Ub(n,t,e,r){const o=[],c=[];return t.forEach(h=>{"child_changed"===h.type&&n.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(function oE(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(h.childName,h.snapshotNode))}),lh(n,o,"child_removed",t,r,e),lh(n,o,"child_added",t,r,e),lh(n,o,"child_moved",c,r,e),lh(n,o,"child_changed",t,r,e),lh(n,o,"value",t,r,e),o}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let gh,Gp;class xE{constructor(){this.views=new Map}}function L_(n,t,e,r){const o=t.source.queryId;if(null!==o){const c=n.views.get(o);return(0,F.hu)(null!=c,"SyncTree gave us an op for an invalid query."),Wp(c,t,e,r)}{let c=[];for(const h of n.views.values())c=c.concat(Wp(h,t,e,r));return c}}function V_(n,t,e,r,o){const h=n.views.get(t._queryIdentifier);if(!h){let m=ll(e,o?r:null),E=!1;m?E=!0:r instanceof Tt?(m=P_(e,r),E=!1):(m=Tt.EMPTY_NODE,E=!1);const D=uh(new ga(m,E,!1),new ga(r,o,!1));return new II(t,D)}return h}function B_(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ma(n,t){let e=null;for(const r of n.views.values())e=e||SI(r,t);return e}function U_(n,t){return t._queryParams.loadsAllData()?_h(n):n.views.get(t._queryIdentifier)}function H_(n,t){return null!=U_(n,t)}function _a(n){return null!=_h(n)}function _h(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let sT=1;class OE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new bn(null),this.pendingWriteTree_=function Hc(){return{visibleWrites:Ks.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function j_(n,t,e,r,o){return function A_(n,t,e,r,o){(0,F.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:o}),o&&(n.visibleWrites=Uc(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,o),o?vu(n,new gu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function ul(n,t,e=!1){const r=function Wb(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function M_(n,t){const e=n.allWrites.findIndex(m=>m.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let o=r.visible,c=!1,h=n.allWrites.length-1;for(;o&&h>=0;){const m=n.allWrites[h];m.visible&&(h>=e&&Gb(m,r.path)?o=!1:gs(r.path,m.path)&&(c=!0)),h--}return!!o&&(c?(function mE(n){n.visibleWrites=x_(n.allWrites,zb,Kt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=pE(n.visibleWrites,r.path):Cr(r.children,E=>{n.visibleWrites=pE(n.visibleWrites,Ln(r.path,E))}),!0))}(n.pendingWriteTree_,t)){let c=new bn(null);return null!=r.snap?c=c.set(Kt(),!0):Cr(r.children,h=>{c=c.set(new tn(h),!0)}),vu(n,new Lp(r.path,c,e))}return[]}function yu(n,t,e){return vu(n,new gu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function cl(n,t,e,r){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&("default"===t._queryIdentifier||H_(c,t))){const m=function mh(n,t,e,r){const o=t._queryIdentifier,c=[];let h=[];const m=_a(n);if("default"===o)for(const[E,D]of n.views.entries())h=h.concat(k_(D,e,r)),N_(D)&&(n.views.delete(E),D.query._queryParams.loadsAllData()||c.push(D.query));else{const E=n.views.get(o);E&&(h=h.concat(k_(E,e,r)),N_(E)&&(n.views.delete(o),E.query._queryParams.loadsAllData()||c.push(E.query)))}return m&&!_a(n)&&c.push(new(function tT(){return(0,F.hu)(gh,"Reference.ts has not been loaded"),gh}())(t._repo,t._path)),{removed:c,events:h}}(c,t,e,r);(function nT(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const E=m.removed;h=m.events;const D=-1!==E.findIndex(R=>R._queryParams.loadsAllData()),O=n.syncPointTree_.findOnPath(o,(R,Y)=>_a(Y));if(D&&!O){const R=n.syncPointTree_.subtree(o);if(!R.isEmpty()){const Y=function kE(n){return n.fold((t,e,r)=>{if(e&&_a(e))return[_h(e)];{let o=[];return e&&(o=B_(e)),Cr(r,(c,h)=>{o=o.concat(h)}),o}})}(R);for(let re=0;re<Y.length;++re){const _e=Y[re],Fe=_e.query,Je=G_(n,_e);n.listenProvider_.startListening(Eu(Fe),Ch(n,Fe),Je.hashFn,Je.onComplete)}}}!O&&E.length>0&&!r&&(D?n.listenProvider_.stopListening(Eu(t),null):E.forEach(R=>{const Y=n.queryToTagMap.get(qp(R));n.listenProvider_.stopListening(Eu(R),Y)})),function z_(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const o=qp(r),c=n.queryToTagMap.get(o);n.queryToTagMap.delete(o),n.tagToQueryMap.delete(c)}}}(n,E)}return h}function RE(n,t,e,r){const o=NE(n,r);if(null!=o){const c=wh(o),h=c.path,m=c.queryId,E=ai(h,t);return bh(n,h,new gu(Fp(m),E,e))}return[]}function vh(n,t){const e=n._path;let r=null,o=!1;t.syncPointTree_.foreachOnPath(e,(D,O)=>{const R=ai(D,e);r=r||ma(O,R),o=o||_a(O)});let h,c=t.syncPointTree_.get(e);c?(o=o||_a(c),r=r||ma(c,Kt())):(c=new xE,t.syncPointTree_=t.syncPointTree_.set(e,c)),null!=r?h=!0:(h=!1,r=Tt.EMPTY_NODE,t.syncPointTree_.subtree(e).foreachChild((O,R)=>{const Y=ma(R,Kt());Y&&(r=r.updateImmediateChild(O,Y))}));const m=H_(c,n);if(!m&&!n._queryParams.loadsAllData()){const D=qp(n);(0,F.hu)(!t.queryToTagMap.has(D),"View does not exist, but we have a tag");const O=function cT(){return sT++}();t.queryToTagMap.set(D,O),t.tagToQueryMap.set(O,D)}return{syncPoint:c,writesCache:dh(t.pendingWriteTree_,e),serverCache:r,serverCacheComplete:h,foundAncestorDefaultView:o,viewAlreadyExists:m}}function Eh(n,t,e){const{syncPoint:r,serverCache:o,writesCache:c,serverCacheComplete:h,viewAlreadyExists:m,foundAncestorDefaultView:E}=vh(t,n);let D=function rT(n,t,e,r,o,c){const h=V_(n,t,r,o,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,h),function AI(n,t){n.eventRegistrations_.push(t)}(h,e),function Xb(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(mt,(c,h)=>{r.push(Fc(c,h))}),e.isFullyInitialized()&&r.push(sE(e.getNode())),F_(n,r,e.getNode(),t)}(h,e)}(r,t,e,c,o,h);if(!m&&!E){const O=U_(r,t);D=D.concat(function dT(n,t,e){const r=t._path,o=Ch(n,t),c=G_(n,e),h=n.listenProvider_.startListening(Eu(t),o,c.hashFn,c.onComplete),m=n.syncPointTree_.subtree(r);if(o)(0,F.hu)(!_a(m.value),"If we're adding a query, it shouldn't be shadowed");else{const E=m.fold((D,O,R)=>{if(!Lt(D)&&O&&_a(O))return[_h(O).query];{let Y=[];return O&&(Y=Y.concat(B_(O).map(re=>re.query))),Cr(R,(re,_e)=>{Y=Y.concat(_e)}),Y}});for(let D=0;D<E.length;++D){const O=E[D];n.listenProvider_.stopListening(Eu(O),Ch(n,O))}}return h}(n,t,O))}return D}function zp(n,t,e){const o=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(h,m)=>{const D=ma(m,ai(h,t));if(D)return D});return _E(o,t,c,e,!0)}function vu(n,t){return W_(t,n.syncPointTree_,null,dh(n.pendingWriteTree_,Kt()))}function W_(n,t,e,r){if(Lt(n.path))return Zp(n,t,e,r);{const o=t.get(Kt());null==e&&null!=o&&(e=ma(o,Kt()));let c=[];const h=kt(n.path),m=n.operationForChild(h),E=t.children.get(h);if(E&&m){const D=e?e.getImmediateChild(h):null,O=vE(r,h);c=c.concat(W_(m,E,D,O))}return o&&(c=c.concat(L_(o,n,r,e))),c}}function Zp(n,t,e,r){const o=t.get(Kt());null==e&&null!=o&&(e=ma(o,Kt()));let c=[];return t.children.inorderTraversal((h,m)=>{const E=e?e.getImmediateChild(h):null,D=vE(r,h),O=n.operationForChild(h);O&&(c=c.concat(Zp(O,m,E,D)))}),o&&(c=c.concat(L_(o,n,r,e))),c}function G_(n,t){const e=t.query,r=Ch(n,e);return{hashFn:()=>(function ME(n){return n.viewCache_.serverCache.getNode()}(t)||Tt.EMPTY_NODE).hash(),onComplete:o=>{if("ok"===o)return r?function $_(n,t,e){const r=NE(n,e);if(r){const o=wh(r),c=o.path,h=o.queryId,m=ai(c,t);return bh(n,c,new pu(Fp(h),m))}return[]}(n,e._path,r):function oT(n,t){return vu(n,new pu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function P0(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(o,e);return cl(n,e,null,c)}}}}function Ch(n,t){const e=qp(t);return n.queryToTagMap.get(e)}function qp(n){return n._path.toString()+"$"+n._queryIdentifier}function NE(n,t){return n.tagToQueryMap.get(t)}function wh(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new tn(n.substr(0,t))}}function bh(n,t,e){const r=n.syncPointTree_.get(t);return(0,F.hu)(r,"Missing sync point for query tag that we're tracking"),L_(r,e,dh(n.pendingWriteTree_,t),null)}function Eu(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function iT(){return(0,F.hu)(Gp,"Reference.ts has not been loaded"),Gp}())(n._repo,n._path):n}class Z_{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Z_(e)}node(){return this.node_}}class q_{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ln(this.path_,t);return new q_(this.syncTree_,e)}node(){return zp(this.syncTree_,this.path_)}}const Yp=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?LE(n[".sv"],t,e):"object"==typeof n[".sv"]?VE(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},LE=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},VE=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,F.hu)(!1,"Unexpected increment value: "+r);const o=t.node();if((0,F.hu)(null!=o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const h=o.getValue();return"number"!=typeof h?r:h+r},Y_=function(n,t,e,r){return K_(t,new q_(e,n),r)},Kp=function(n,t,e){return K_(n,new Z_(t),e)};function K_(n,t,e){const r=n.getPriority().val(),o=Yp(r,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const h=n,m=Yp(h.getValue(),t,e);return m!==h.getValue()||o!==h.getPriority().val()?new Oc(m,vn(o)):n}{const h=n;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new Oc(o))),h.forEachChild(mt,(m,E)=>{const D=K_(E,t.getImmediateChild(m),e);D!==E&&(c=c.updateImmediateChild(m,D))}),c}}class Qp{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function Th(n,t){let e=t instanceof tn?t:new tn(t),r=n,o=kt(e);for(;null!==o;){const c=(0,F.DV)(r.node.children,o)||{children:{},childCount:0};r=new Qp(o,r,c),e=yn(e),o=kt(e)}return r}function Cu(n){return n.node.value}function Jp(n,t){n.node.value=t,wu(n)}function BE(n){return n.node.childCount>0}function ya(n,t){Cr(n.node.children,(e,r)=>{t(new Qp(e,n,r))})}function UE(n,t,e,r){e&&!r&&t(n),ya(n,o=>{UE(o,t,!0,r)}),e&&r&&t(n)}function Xp(n){return new tn(null===n.parent?n.name:Xp(n.parent)+"/"+n.name)}function wu(n){null!==n.parent&&function fT(n,t,e){const r=function li(n){return void 0===Cu(n)&&!BE(n)}(e),o=(0,F.r3)(n.node.children,t);r&&o?(delete n.node.children[t],n.node.childCount--,wu(n)):!r&&!o&&(n.node.children[t]=e.node,n.node.childCount++,wu(n))}(n.parent,n.name,n)}const Q_=/[\[\].#$\/\u0000-\u001F\u007F]/,pT=/[\[\].#$\u0000-\u001F\u007F]/,eg=10485760,tg=function(n){return"string"==typeof n&&0!==n.length&&!Q_.test(n)},HE=function(n){return"string"==typeof n&&0!==n.length&&!pT.test(n)},Gc=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!el(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},Qs=function(n,t,e,r){r&&void 0===t||dl((0,F.gK)(n,"value"),t,e)},dl=function(n,t,e){const r=e instanceof tn?new Ib(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+hu(r));if("function"==typeof t)throw new Error(n+"contains a function "+hu(r)+" with contents = "+t.toString());if(el(t))throw new Error(n+"contains "+t.toString()+" "+hu(r));if("string"==typeof t&&t.length>eg/3&&(0,F.ug)(t)>eg)throw new Error(n+"contains a string greater than "+eg+" utf8 bytes "+hu(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let o=!1,c=!1;if(Cr(t,(h,m)=>{if(".value"===h)o=!0;else if(".priority"!==h&&".sv"!==h&&(c=!0,!tg(h)))throw new Error(n+" contains an invalid key ("+h+") "+hu(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Sb(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Y0(n)})(r,h),dl(n,m,r),function Ab(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),o&&c)throw new Error(n+' contains ".value" child '+hu(r)+" in addition to actual children.")}},gT=function(n,t,e,r){if(r&&void 0===t)return;const o=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const c=[];Cr(t,(h,m)=>{const E=new tn(h);if(dl(o,m,Ln(e,E)),".priority"===l_(E)&&!Gc(m))throw new Error(o+"contains an invalid value for '"+E.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(E)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const c=eh(r);for(let h=0;h<c.length;h++)if((".priority"!==c[h]||h!==c.length-1)&&!tg(c[h]))throw new Error(n+"contains an invalid key ("+c[h]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Db);let o=null;for(e=0;e<t.length;e++){if(r=t[e],null!==o&&gs(o,r))throw new Error(n+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,c)},ng=function(n,t,e){if(!e||void 0!==t){if(el(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Gc(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dh=function(n,t,e,r){if(!(r&&void 0===e||tg(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},zc=function(n,t,e,r){if(!(r&&void 0===e||HE(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Gi=function(n,t){if(".info"===kt(t))throw new Error(n+" failed = Can't modify data under /.info/")},jE=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!tg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),HE(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ey{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Zc(n,t){let e=null;for(let r=0;r<t.length;r++){const o=t[r],c=o.getPath();null!==e&&!u_(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(o)}e&&n.eventLists_.push(e)}function mT(n,t,e){Zc(n,e),$E(n,r=>u_(r,t))}function _s(n,t,e){Zc(n,e),$E(n,r=>gs(r,t)||gs(t,r))}function $E(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const o=n.eventLists_[r];o&&(t(o.path)?(WE(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function WE(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();Xa&&pr("event: "+e.toString()),lu(r)}}}const ty="repo_interrupt";class GE{constructor(t,e,r,o){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ey,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Np(),this.transactionQueueTree_=new Qp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ZE(n){const e=n.infoData_.getNode(new tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Ih(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:ZE(n)})}function ny(n,t,e,r,o){n.dataUpdateCount++;const c=new tn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let h=[];if(o)if(r){const E=(0,F.UI)(e,D=>vn(D));h=function lT(n,t,e,r){const o=NE(n,r);if(o){const c=wh(o),h=c.path,m=c.queryId,E=ai(h,t),D=bn.fromObject(e);return bh(n,h,new mu(Fp(m),E,D))}return[]}(n.serverSyncTree_,c,E,o)}else{const E=vn(e);h=RE(n.serverSyncTree_,c,E,o)}else if(r){const E=(0,F.UI)(e,D=>vn(D));h=function So(n,t,e){const r=bn.fromObject(e);return vu(n,new mu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,c,E)}else{const E=vn(e);h=yu(n.serverSyncTree_,c,E)}let m=c;h.length>0&&(m=bu(n,c)),_s(n.eventQueue_,m,h)}function qE(n,t){ig(n,"connected",t),!1===t&&function MI(n){qc(n,"onDisconnectEvents");const t=Ih(n),e=Np();w_(n.onDisconnect_,Kt(),(o,c)=>{const h=Y_(o,c,n.serverSyncTree_,t);Vc(e,o,h)});let r=[];w_(e,Kt(),(o,c)=>{r=r.concat(yu(n.serverSyncTree_,o,c));const h=eC(n,o);bu(n,h)}),n.onDisconnect_=Np(),_s(n.eventQueue_,Kt(),r)}(n)}function ig(n,t,e){const r=new tn("/.info/"+t),o=vn(e);n.infoData_.updateSnapshot(r,o);const c=yu(n.infoSyncTree_,r,o);_s(n.eventQueue_,r,c)}function Sh(n){return n.nextWriteId_++}function KE(n,t){const e=function uT(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(D,O)=>{const R=ai(D,e);r=r||ma(O,R)});let o=n.syncPointTree_.get(e);o?r=r||ma(o,Kt()):(o=new xE,n.syncPointTree_=n.syncPointTree_.set(e,o));const c=null!=r,h=c?new ga(r,!0,!1):null;return function Jb(n){return Vp(n.viewCache_)}(V_(o,t,dh(n.pendingWriteTree_,t._path),c?h.getNode():Tt.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const o=vn(r).withIndex(t._queryParams.getIndex());if(t._queryParams.loadsAllData())yu(n.serverSyncTree_,t._path,o);else{const h=function aT(n,t){const{syncPoint:e,serverCache:r,writesCache:o,serverCacheComplete:c}=vh(t,n),h=V_(e,t,o,r,c);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,h),t._queryParams.loadsAllData()?null:Ch(n,t)}(n.serverSyncTree_,t);RE(n.serverSyncTree_,t._path,o,h)}return cl(n.serverSyncTree_,t,null).length>0&&qc(n,"unexpected cancel events in repoGetValue"),o},r=>(qc(n,"get for query "+(0,F.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}function ry(n,t,e,r,o){qc(n,"set",{path:t.toString(),value:e,priority:r});const c=Ih(n),h=vn(e,r),m=zp(n.serverSyncTree_,t),E=Kp(h,m,c),D=Sh(n),O=j_(n.serverSyncTree_,t,E,D,!0);Zc(n.eventQueue_,O),n.server_.put(t.toString(),h.val(!0),(Y,re)=>{const _e="ok"===Y;_e||$r("set at "+t+" failed: "+Y);const Fe=ul(n.serverSyncTree_,D,!_e);_s(n.eventQueue_,t,Fe),Js(0,o,Y,re)});const R=eC(n,t);bu(n,R),_s(n.eventQueue_,R,[])}function QE(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&C_(n.onDisconnect_,t),Js(0,e,r,o)})}function vT(n,t,e,r){const o=vn(e);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,h)=>{"ok"===c&&Vc(n.onDisconnect_,t,o),Js(0,r,c,h)})}function JE(n,t,e){let r;r=".info"===kt(t._path)?cl(n.infoSyncTree_,t,e):cl(n.serverSyncTree_,t,e),mT(n.eventQueue_,t._path,r)}function ET(n){n.persistentConnection_&&n.persistentConnection_.interrupt(ty)}function qc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),pr(e,...t)}function Js(n,t,e,r){t&&lu(()=>{if("ok"===e)t(null);else{const o=(e||"error").toUpperCase();let c=o;r&&(c+=": "+r);const h=new Error(c);h.code=o,t(h)}})}function sg(n,t,e){return zp(n.serverSyncTree_,t,e)||Tt.EMPTY_NODE}function Yc(n,t=n.transactionQueueTree_){if(t||Ah(n,t),Cu(t)){const e=iy(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(o=>0===o.status)&&function XE(n,t,e){const r=e.map(D=>D.currentWriteId),o=sg(n,t,r);let c=o;const h=o.hash();for(let D=0;D<e.length;D++){const O=e[D];(0,F.hu)(0===O.status,"tryToSendTransactionQueue_: items in queue should all be run."),O.status=1,O.retryCount++;const R=ai(t,O.path);c=c.updateChild(R,O.currentOutputSnapshotRaw)}const m=c.val(!0),E=t;n.server_.put(E.toString(),m,D=>{qc(n,"transaction put response",{path:E.toString(),status:D});let O=[];if("ok"===D){const R=[];for(let Y=0;Y<e.length;Y++)e[Y].status=2,O=O.concat(ul(n.serverSyncTree_,e[Y].currentWriteId)),e[Y].onComplete&&R.push(()=>e[Y].onComplete(null,!0,e[Y].currentOutputSnapshotResolved)),e[Y].unwatcher();Ah(n,Th(n.transactionQueueTree_,t)),Yc(n,n.transactionQueueTree_),_s(n.eventQueue_,t,O);for(let Y=0;Y<R.length;Y++)lu(R[Y])}else{if("datastale"===D)for(let R=0;R<e.length;R++)e[R].status=3===e[R].status?4:0;else{$r("transaction at "+E.toString()+" failed: "+D);for(let R=0;R<e.length;R++)e[R].status=4,e[R].abortReason=D}bu(n,t)}},h)}(n,Xp(t),e)}else BE(t)&&ya(t,e=>{Yc(n,e)})}function bu(n,t){const e=og(n,t),r=Xp(e);return function kI(n,t,e){if(0===t.length)return;const r=[];let o=[];const h=t.filter(m=>0===m.status).map(m=>m.currentWriteId);for(let m=0;m<t.length;m++){const E=t[m],D=ai(e,E.path);let R,O=!1;if((0,F.hu)(null!==D,"rerunTransactionsUnderNode_: relativePath should not be null."),4===E.status)O=!0,R=E.abortReason,o=o.concat(ul(n.serverSyncTree_,E.currentWriteId,!0));else if(0===E.status)if(E.retryCount>=25)O=!0,R="maxretry",o=o.concat(ul(n.serverSyncTree_,E.currentWriteId,!0));else{const Y=sg(n,E.path,h);E.currentInputSnapshot=Y;const re=t[m].update(Y.val());if(void 0!==re){dl("transaction failed: Data returned ",re,E.path);let _e=vn(re);"object"==typeof re&&null!=re&&(0,F.r3)(re,".priority")||(_e=_e.updatePriority(Y.getPriority()));const Je=E.currentWriteId,Bt=Ih(n),It=Kp(_e,Y,Bt);E.currentOutputSnapshotRaw=_e,E.currentOutputSnapshotResolved=It,E.currentWriteId=Sh(n),h.splice(h.indexOf(Je),1),o=o.concat(j_(n.serverSyncTree_,E.path,It,E.currentWriteId,E.applyLocally)),o=o.concat(ul(n.serverSyncTree_,Je,!0))}else O=!0,R="nodata",o=o.concat(ul(n.serverSyncTree_,E.currentWriteId,!0))}_s(n.eventQueue_,e,o),o=[],O&&(t[m].status=2,setTimeout(t[m].unwatcher,Math.floor(0)),t[m].onComplete&&r.push("nodata"===R?()=>t[m].onComplete(null,!1,t[m].currentInputSnapshot):()=>t[m].onComplete(new Error(R),!1,null)))}Ah(n,n.transactionQueueTree_);for(let m=0;m<r.length;m++)lu(r[m]);Yc(n,n.transactionQueueTree_)}(n,iy(n,e),r),r}function og(n,t){let e,r=n.transactionQueueTree_;for(e=kt(t);null!==e&&void 0===Cu(r);)r=Th(r,e),e=kt(t=yn(t));return r}function iy(n,t){const e=[];return sy(n,t,e),e.sort((r,o)=>r.order-o.order),e}function sy(n,t,e){const r=Cu(t);if(r)for(let o=0;o<r.length;o++)e.push(r[o]);ya(t,o=>{sy(n,o,e)})}function Ah(n,t){const e=Cu(t);if(e){let r=0;for(let o=0;o<e.length;o++)2!==e[o].status&&(e[r]=e[o],r++);e.length=r,Jp(t,e.length>0?e:void 0)}ya(t,r=>{Ah(n,r)})}function eC(n,t){const e=Xp(og(n,t)),r=Th(n.transactionQueueTree_,t);return function hT(n,t,e){let r=e?n:n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,o=>{ag(n,o)}),ag(n,r),UE(r,o=>{ag(n,o)}),e}function ag(n,t){const e=Cu(t);if(e){const r=[];let o=[],c=-1;for(let h=0;h<e.length;h++)3===e[h].status||(1===e[h].status?((0,F.hu)(c===h-1,"All SENT items should be at beginning of queue."),c=h,e[h].status=3,e[h].abortReason="set"):((0,F.hu)(0===e[h].status,"Unexpected transaction status in abort"),e[h].unwatcher(),o=o.concat(ul(n.serverSyncTree_,e[h].currentWriteId,!0)),e[h].onComplete&&r.push(e[h].onComplete.bind(null,new Error("set"),!1,null))));-1===c?Jp(t,void 0):e.length=c+1,_s(n.eventQueue_,Xp(t),o);for(let h=0;h<r.length;h++)lu(r[h])}}const ay=function(n,t){const e=FI(n),r=e.namespace;return"firebase.com"===e.domain&&hs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$r("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new vp(e.host,e.secure,r,"ws"===e.scheme||"wss"===e.scheme,t,"",r!==e.subdomain),path:new tn(e.pathString)}},FI=function(n){let t="",e="",r="",o="",c="",h=!0,m="https",E=443;if("string"==typeof n){let D=n.indexOf("//");D>=0&&(m=n.substring(0,D-1),n=n.substring(D+2));let O=n.indexOf("/");-1===O&&(O=n.length);let R=n.indexOf("?");-1===R&&(R=n.length),t=n.substring(0,Math.min(O,R)),O<R&&(o=function CT(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let o=e[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch(c){}t+="/"+o}return t}(n.substring(O,R)));const Y=function oy(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$r(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,R)));D=t.indexOf(":"),D>=0?(h="https"===m||"wss"===m,E=parseInt(t.substring(D+1),10)):D=t.length;const re=t.slice(0,D);if("localhost"===re.toLowerCase())e="localhost";else if(re.split(".").length<=2)e=re;else{const _e=t.indexOf(".");r=t.substring(0,_e).toLowerCase(),e=t.substring(_e+1),c=r}"ns"in Y&&(c=Y.ns)}return{host:t,port:E,domain:e,subdomain:r,secure:h,scheme:m,pathString:o,namespace:c}};class wT{constructor(t,e,r,o){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=o}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class bT{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class tC{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class nC{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return QE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Gi("OnDisconnect.remove",this._path);const t=new F.BH;return vT(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Gi("OnDisconnect.set",this._path),Qs("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return vT(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){Gi("OnDisconnect.setWithPriority",this._path),Qs("OnDisconnect.setWithPriority",t,this._path,!1),ng("OnDisconnect.setWithPriority",e,!1);const r=new F.BH;return function xI(n,t,e,r,o){const c=vn(e,r);n.server_.onDisconnectPut(t.toString(),c.val(!0),(h,m)=>{"ok"===h&&Vc(n.onDisconnect_,t,c),Js(0,o,h,m)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){Gi("OnDisconnect.update",this._path),gT("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function PI(n,t,e,r){if((0,F.xb)(e))return pr("onDisconnect().update() called with empty data.  Don't do anything."),void Js(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(o,c)=>{"ok"===o&&Cr(e,(h,m)=>{const E=vn(m);Vc(n.onDisconnect_,Ln(t,h),E)}),Js(0,r,o,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class bi{constructor(t,e,r,o){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=o}get key(){return Lt(this._path)?null:l_(this._path)}get ref(){return new ys(this._repo,this._path)}get _queryIdentifier(){const t=E_(this._queryParams),e=Yd(t);return"{}"===e?"default":e}get _queryObject(){return E_(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof bi))return!1;const e=this._repo===t._repo,r=u_(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Tb(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function ly(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function hl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Wr){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==zs)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(n.hasEnd()){if(n.getIndexEndName()!==fs)throw new Error(r);if("string"!=typeof e)throw new Error(o)}}else if(n.getIndex()===mt){if(null!=t&&!Gc(t)||null!=e&&!Gc(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof m_||n.getIndex()===__,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Kc(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ys extends bi{constructor(t,e){super(t,e,new xp,!1)}get parent(){const t=q0(this._path);return null===t?null:new ys(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Pr{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new tn(t),r=Tu(this.ref,t);return new Pr(this._node.getChild(e),r,mt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,o)=>t(new Pr(o,Tu(this.ref,r),mt)))}hasChild(t){const e=new tn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rC(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?Tu(n._root,t):n._root}function lg(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=ay(t,n._repo.repoInfo_.nodeAdmin);jE("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&hs("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),rC(n,e.path.toString())}function Tu(n,t){return null===kt((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zc("child","path",e,!1)):zc("child","path",t,!1),new ys(n._repo,Ln(n._path,t));var e}function ug(n,t){n=(0,F.m9)(n),Gi("set",n._path),Qs("set",t,n._path,!1);const e=new F.BH;return ry(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function oC(n,t){gT("update",t,n._path,!1);const e=new F.BH;return function yT(n,t,e,r){qc(n,"update",{path:t.toString(),value:e});let o=!0;const c=Ih(n),h={};if(Cr(e,(m,E)=>{o=!1,h[m]=Y_(Ln(t,m),vn(E),n.serverSyncTree_,c)}),o)pr("update() called with empty data.  Don't do anything."),Js(0,r,"ok",void 0);else{const m=Sh(n),E=function yh(n,t,e,r){!function $b(n,t,e,r){(0,F.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=Bp(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const o=bn.fromObject(e);return vu(n,new mu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,o))}(n.serverSyncTree_,t,h,m);Zc(n.eventQueue_,E),n.server_.merge(t.toString(),e,(D,O)=>{const R="ok"===D;R||$r("update at "+t+" failed: "+D);const Y=ul(n.serverSyncTree_,m,!R),re=Y.length>0?bu(n,t):t;_s(n.eventQueue_,re,Y),Js(0,r,D,O)}),Cr(e,D=>{const O=eC(n,Ln(t,D));bu(n,O)}),_s(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class cg{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new wT("value",this,new Pr(t.snapshotNode,new ys(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bT(this,t,e):null}matches(t){return t instanceof cg&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qc{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new bT(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const r=Tu(new ys(e._repo,e._path),t.childName),o=e._queryParams.getIndex();return new wT(t.type,this,new Pr(t.snapshotNode,r,o),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Qc&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ui(n,t,e,r,o){let c;if("object"==typeof r&&(c=void 0,o=r),"function"==typeof r&&(c=r),o&&o.onlyOnce){const E=e,D=(O,R)=>{JE(n._repo,n,m),E(O,R)};D.userCallback=e.userCallback,D.context=e.context,e=D}const h=new tC(e,c||void 0),m="value"===t?new cg(h):new Qc(t,h);return function OI(n,t,e){let r;r=".info"===kt(t._path)?Eh(n.infoSyncTree_,t,e):Eh(n.serverSyncTree_,t,e),mT(n.eventQueue_,t._path,r)}(n._repo,n,m),()=>JE(n._repo,n,m)}function cy(n,t,e,r){return ui(n,"value",t,e,r)}function IT(n,t,e,r){return ui(n,"child_added",t,e,r)}function aC(n,t,e,r){return ui(n,"child_changed",t,e,r)}function dy(n,t,e,r){return ui(n,"child_moved",t,e,r)}function lC(n,t,e,r){return ui(n,"child_removed",t,e,r)}function uC(n,t,e){let r=null;const o=e?new tC(e):null;"value"===t?r=new cg(o):t&&(r=new Qc(t,o)),JE(n._repo,n,r)}class vs{}class cC extends vs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qs("endAt",this._value,t._path,!0);const e=Pp(t._queryParams,this._value,this._key);if(Kc(e),hl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)}}class dC extends vs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qs("endBefore",this._value,t._path,!1);const e=function Op(n,t,e){let r,o;return n.index_===Wr?("string"==typeof t&&(t=kc(t)),o=Pp(n,t,e)):(r=null==e?zs:kc(e),o=Pp(n,t,r)),o.endBeforeSet_=!0,o}(t._queryParams,this._value,this._key);if(Kc(e),hl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)}}class fC extends vs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qs("startAt",this._value,t._path,!0);const e=lE(t._queryParams,this._value,this._key);if(Kc(e),hl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)}}class pC extends vs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Qs("startAfter",this._value,t._path,!1);const e=function bI(n,t,e){let r;if(n.index_===Wr)"string"==typeof t&&(t=Nc(t)),r=lE(n,t,e);else{let o;o=null==e?fs:Nc(e),r=lE(n,t,o)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(Kc(e),hl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new bi(t._repo,t._path,e,t._orderByCalled)}}class fy extends vs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new bi(t._repo,t._path,function CI(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class AT extends vs{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new bi(t._repo,t._path,function wI(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class _C extends vs{constructor(t){super(),this._path=t}_apply(t){ly(t,"orderByChild");const e=new tn(this._path);if(Lt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new m_(e),o=Rp(t._queryParams,r);return hl(o),new bi(t._repo,t._path,o,!0)}}class xT extends vs{_apply(t){ly(t,"orderByKey");const e=Rp(t._queryParams,Wr);return hl(e),new bi(t._repo,t._path,e,!0)}}class UI extends vs{_apply(t){ly(t,"orderByPriority");const e=Rp(t._queryParams,mt);return hl(e),new bi(t._repo,t._path,e,!0)}}class PT extends vs{_apply(t){ly(t,"orderByValue");const e=Rp(t._queryParams,__);return hl(e),new bi(t._repo,t._path,e,!0)}}class RT extends vs{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Qs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new cC(this._value,this._key)._apply(new fC(this._value,this._key)._apply(t))}}function Ao(n,...t){let e=(0,F.m9)(n);for(const r of t)e=r._apply(e);return e}(function eT(n){(0,F.hu)(!gh,"__referenceConstructor has already been defined"),gh=n})(ys),function PE(n){(0,F.hu)(!Gp,"__referenceConstructor has already been defined"),Gp=n}(ys);const vC={};function Mh(n,t,e,r,o){let c=r||n.options.databaseURL;void 0===c&&(n.options.projectId||hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),pr("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let E,D,h=ay(c,o),m=h.repoInfo;"undefined"!=typeof process&&process.env&&(D=process.env.FIREBASE_DATABASE_EMULATOR_HOST),D?(E=!0,c=`http://${D}?ns=${m.namespace}`,h=ay(c,o),m=h.repoInfo):E=!h.repoInfo.secure;const O=o&&E?new xc(xc.OWNER):new Gm(n.name,n.options,t);jE("Invalid Firebase Database URL",h),Lt(h.path)||hs("Database URL must point to the root of a Firebase Database (not including a child path).");const R=function LT(n,t,e,r){let o=vC[t.name];o||(o={},vC[t.name]=o);let c=o[n.toURLString()];return c&&hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new GE(n,false,e,r),o[n.toURLString()]=c,c}(m,n,O,new O0(n.name,e));return new Du(R,n)}class Du{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function zE(n,t,e){if(n.stats_=Jm(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new il(n.repoInfo_,(r,o,c,h)=>{ny(n,r,o,c,h)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>qE(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new rl(n.repoInfo_,t,(r,o,c,h)=>{ny(n,r,o,c,h)},r=>{qE(n,r)},r=>{!function YE(n,t){Cr(t,(e,r)=>{ig(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function gr(n,t){const e=n.toString();return Ep[e]||(Ep[e]=t()),Ep[e]}(n.repoInfo_,()=>new hE(n.stats_,n.server_)),n.infoData_=new Fb,n.infoSyncTree_=new OE({startListening:(r,o,c,h)=>{let m=[];const E=n.infoData_.getNode(r._path);return E.isEmpty()||(m=yu(n.infoSyncTree_,r._path,E),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),ig(n,"connected",!1),n.serverSyncTree_=new OE({startListening:(r,o,c,h)=>(n.server_.listen(r,c,o,(m,E)=>{const D=h(m,E);_s(n.eventQueue_,r._path,D)}),[]),stopListening:(r,o)=>{n.server_.unlisten(r,o)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ys(this._repo,Kt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function FT(n,t){const e=vC[t];(!e||e[n.key]!==n)&&hs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),ET(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&hs("Cannot call "+t+" on a deleted database.")}}function py(){H0.IS_TRANSPORT_INITIALIZED&&$r("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function gy(){py(),nl.forceDisallow()}function my(){py(),cu.forceDisallow(),nl.forceAllow()}function VT(n=(0,To.getApp)(),t){return(0,To._getProvider)(n,"database").getImmediate({identifier:t})}function $I(n,t){Hm(n,t)}const GI={".sv":"timestamp"};class BT{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}rl.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},rl.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function WI(n){w0(To.SDK_VERSION),(0,To._registerComponent)(new Ic.wA("database",(t,{instanceIdentifier:e})=>Mh(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,To.registerVersion)(su,"0.13.3",n),(0,To.registerVersion)(su,"0.13.3","esm2017")}();const TC=new up.Yd("@firebase/database-compat"),DC=function(n){TC.warn("FIREBASE WARNING: "+n)};class vy{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const o=this._delegate.setWithPriority(t,e);return r&&o.then(()=>r(null),c=>r(c)),o}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let c=0;c<t.length;++c)o[""+c]=t[c];t=o,DC("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),o=>e(o)),r}}class YI{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class va{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),zc("DataSnapshot.child","path",t,!1),new va(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),zc("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new va(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new zi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class mr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,o){var c;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const h=mr.getCancelAndContextArgs_("Query.on",r,o),m=(D,O)=>{e.call(h.context,new va(this.database,D),O)};m.userCallback=e,m.context=h.context;const E=null===(c=h.cancel)||void 0===c?void 0:c.bind(h.context);switch(t){case"value":return cy(this._delegate,m,E),e;case"child_added":return IT(this._delegate,m,E),e;case"child_removed":return lC(this._delegate,m,E),e;case"child_changed":return aC(this._delegate,m,E),e;case"child_moved":return dy(this._delegate,m,E),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",r,!0),e){const o=()=>{};o.userCallback=e,o.context=r,uC(this._delegate,t,o)}else uC(this._delegate,t)}get(){return function DT(n){return KE((n=(0,F.m9)(n))._repo,n).then(t=>new Pr(t,new ys(n._repo,n._path),n._queryParams.getIndex()))}(this._delegate).then(t=>new va(this.database,t))}once(t,e,r,o){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const c=mr.getCancelAndContextArgs_("Query.once",r,o),h=new F.BH,m=(D,O)=>{const R=new va(this.database,D);e&&e.call(c.context,R,O),h.resolve(R)};m.userCallback=e,m.context=c.context;const E=D=>{c.cancel&&c.cancel.call(c.context,D),h.reject(D)};switch(t){case"value":cy(this._delegate,m,E,{onlyOnce:!0});break;case"child_added":IT(this._delegate,m,E,{onlyOnce:!0});break;case"child_removed":lC(this._delegate,m,E,{onlyOnce:!0});break;case"child_changed":aC(this._delegate,m,E,{onlyOnce:!0});break;case"child_moved":dy(this._delegate,m,E,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return h.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new mr(this.database,Ao(this._delegate,function gC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new fy(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new mr(this.database,Ao(this._delegate,function mC(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new AT(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new mr(this.database,Ao(this._delegate,function MT(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return zc("orderByChild","path",n,!1),new _C(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new mr(this.database,Ao(this._delegate,function BI(){return new xT}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new mr(this.database,Ao(this._delegate,function yC(){return new UI}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new mr(this.database,Ao(this._delegate,function OT(){return new PT}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new mr(this.database,Ao(this._delegate,function ST(n=null,t){return Dh("startAt","key",t,!0),new fC(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new mr(this.database,Ao(this._delegate,function hy(n,t){return Dh("startAfter","key",t,!0),new pC(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new mr(this.database,Ao(this._delegate,function VI(n,t){return Dh("endAt","key",t,!0),new cC(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new mr(this.database,Ao(this._delegate,function hC(n,t){return Dh("endBefore","key",t,!0),new dC(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new mr(this.database,Ao(this._delegate,function HI(n,t){return Dh("equalTo","key",t,!0),new RT(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof mr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const o={cancel:void 0,context:void 0};if(e&&r)o.cancel=e,(0,F.Wj)(t,"cancel",o.cancel,!0),o.context=r,(0,F.lb)(t,"context",o.context,!0);else if(e)if("object"==typeof e&&null!==e)o.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");o.cancel=e}return o}get ref(){return new zi(this.database,new ys(this._delegate._repo,this._delegate._path))}}class zi extends mr{constructor(t,e){super(t,new bi(e._repo,e._path,new xp,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new zi(this.database,Tu(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new zi(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new zi(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const r=ug(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const o={};for(let c=0;c<t.length;++c)o[""+c]=t[c];t=o,DC("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Gi("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const r=oC(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}setWithPriority(t,e,r){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",r,!0);const o=function sC(n,t,e){if(Gi("setWithPriority",n._path),Qs("setWithPriority",t,n._path,!1),ng("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new F.BH;return ry(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&o.then(()=>r(null),c=>r(c)),o}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function iC(n){return Gi("remove",n._path),ug(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const o=function UT(n,t,e){var r;if(n=(0,F.m9)(n),Gi("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const o=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,c=new F.BH,m=cy(n,()=>{});return function NI(n,t,e,r,o,c){qc(n,"transaction on "+t);const h={path:t,update:e,onComplete:r,status:null,order:D0(),applyLocally:c,retryCount:0,unwatcher:o,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},m=sg(n,t,void 0);h.currentInputSnapshot=m;const E=h.update(m.val());if(void 0===E)h.unwatcher(),h.currentOutputSnapshotRaw=null,h.currentOutputSnapshotResolved=null,h.onComplete&&h.onComplete(null,!1,h.currentInputSnapshot);else{dl("transaction failed: Data returned ",E,h.path),h.status=0;const D=Th(n.transactionQueueTree_,t),O=Cu(D)||[];let R;O.push(h),Jp(D,O),"object"==typeof E&&null!==E&&(0,F.r3)(E,".priority")?(R=(0,F.DV)(E,".priority"),(0,F.hu)(Gc(R),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):R=(zp(n.serverSyncTree_,t)||Tt.EMPTY_NODE).getPriority().val();const Y=Ih(n),re=vn(E,R),_e=Kp(re,m,Y);h.currentOutputSnapshotRaw=re,h.currentOutputSnapshotResolved=_e,h.currentWriteId=Sh(n);const Fe=j_(n.serverSyncTree_,t,_e,h.currentWriteId,h.applyLocally);_s(n.eventQueue_,t,Fe),Yc(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(E,D,O)=>{let R=null;E?c.reject(E):(R=new Pr(O,new ys(n._repo,n._path),mt),c.resolve(new BT(D,R)))},m,o),c.promise}(this._delegate,t,{applyLocally:r}).then(c=>new YI(c.committed,new va(this.database,c.snapshot)));return e&&o.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),o}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const r=function TT(n,t){n=(0,F.m9)(n),Gi("setPriority",n._path),ng("setPriority",t,!1);const e=new F.BH;return ry(n._repo,Ln(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),o=>e(o)),r}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const r=function uy(n,t){n=(0,F.m9)(n),Gi("push",n._path),Qs("push",t,n._path,!0);const e=ZE(n._repo),r=Nb(e),o=Tu(n,r),c=Tu(n,r);let h;return h=null!=t?ug(c,t).then(()=>c):Promise.resolve(c),o.then=h.then.bind(h),o.catch=h.then.bind(h,void 0),o}(this._delegate,t),o=r.then(h=>new zi(this.database,h));e&&o.then(()=>e(null),h=>e(h));const c=new zi(this.database,r);return c.then=o.then.bind(o),c.catch=o.catch.bind(o,void 0),c}onDisconnect(){return Gi("Reference.onDisconnect",this._delegate._path),new vy(new nC(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class xh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:gy,forceLongPolling:my}}useEmulator(t,e,r={}){!function _y(n,t,e,r={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&hs("Cannot call useEmulator() after instance has already been initialized.");const o=n._repoInternal;let c;if(o.repoInfo_.nodeAdmin)r.mockUserToken&&hs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new xc(xc.OWNER);else if(r.mockUserToken){const h="string"==typeof r.mockUserToken?r.mockUserToken:(0,F.Sg)(r.mockUserToken,n.app.options.projectId);c=new xc(h)}!function kT(n,t,e,r){n.repoInfo_=new vp(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(o,t,e,c)}(this._delegate,t,e,r)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof zi){const e=lg(this._delegate,t.toString());return new zi(this,e)}{const e=rC(this._delegate,t);return new zi(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const r=lg(this._delegate,t);return new zi(this,r)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function yy(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),ET(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function dg(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function RI(n){n.persistentConnection_&&n.persistentConnection_.resume(ty)}(n._repo)}(this._delegate)}}xh.ServerValue={TIMESTAMP:function zI(){return GI}(),increment:n=>function CC(n){return{".sv":{increment:n}}}(n)};var QI=Object.freeze({__proto__:null,initStandalone:function KI({app:n,url:t,version:e,customAuthImpl:r,namespace:o,nodeAdmin:c=!1}){w0(e);const h=new Ic.zt("auth-internal",new Ic.H0("database-standalone"));return h.setComponent(new Ic.wA("auth-internal",()=>r,"PRIVATE")),{instance:new xh(Mh(n,h,void 0,t,c),n),namespace:o}}});const JI=xh.ServerValue;!function jT(n){n.INTERNAL.registerComponent(new Ic.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("database").getImmediate({identifier:e});return new xh(o,r)},"PUBLIC").setServiceProps({Reference:zi,Query:mr,Database:xh,DataSnapshot:va,enableLogging:$I,INTERNAL:QI,ServerValue:JI}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.3")}(yI.Z);var hg=P(5363);function $T(n,t,e){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:t=1/0,refCount:o=!1,scheduler:e}=n):r=null!=n?n:1/0,(0,E0.B)({connector:()=>new gw(r,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}const Ey=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Es(n,t){return(0,wn.e)((e,r)=>{let o=0;e.subscribe((0,or.x)(r,c=>n.call(t,c,o++)&&r.next(c)))})}var Mo=P(5698);function SC(n){return(0,wn.e)((t,e)=>{let r=!1;t.subscribe((0,or.x)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function WT(n=eS){return(0,wn.e)((t,e)=>{let r=!1;t.subscribe((0,or.x)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function eS(){return new Ey}function Jc(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Es((o,c)=>n(o,c,r)):Dc.y,(0,Mo.q)(1),e?SC(t):WT(()=>new Ey))}function GT(n,t){return(0,ni.m)(t)?nr(()=>n,t):nr(()=>n)}var i=P(9468),s=P(5867);class u{constructor(){return(0,s.C6)()}}const lt=new Map,Ht={activated:!1,tokenObservers:[]},on={initialized:!1,enabled:!1};function an(n){return lt.get(n)||Ht}function Or(n,t){lt.set(n,t)}function Xc(){return on}class Dy{constructor(t,e,r,o,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,iu.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function Iy(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Zi=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function tS(n){if(!an(n).activated)throw Zi.create("use-before-activation",{appName:n.name})}function ZT(n,t){return qT.apply(this,arguments)}function qT(){return(qT=(0,iu.Z)(function*({url:n,body:t},e){var r,o;const c={"Content-Type":"application/json"},h=e.getImmediate({optional:!0});if(h){const re=yield h.getHeartbeatsHeader();re&&(c["X-Firebase-Client"]=re)}const m={method:"POST",body:JSON.stringify(t),headers:c};let E,D;try{E=yield fetch(n,m)}catch(re){throw Zi.create("fetch-network-error",{originalErrorMessage:null===(r=re)||void 0===r?void 0:r.message})}if(200!==E.status)throw Zi.create("fetch-status-error",{httpStatus:E.status});try{D=yield E.json()}catch(re){throw Zi.create("fetch-parse-error",{originalErrorMessage:null===(o=re)||void 0===o?void 0:o.message})}const O=D.ttl.match(/^([\d.]+)(s)$/);if(!O||!O[2]||isNaN(Number(O[1])))throw Zi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${D.ttl}`});const R=1e3*Number(O[1]),Y=Date.now();return{token:D.token,expireTimeMillis:Y+R,issuedAtTimeMillis:Y}})).apply(this,arguments)}function EM(n,t){const{projectId:e,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:t}}}const Sy="firebase-app-check-store";let xC=null;function rS(){return xC||(xC=new Promise((n,t)=>{var e;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=o=>{n(o.target.result)},r.onerror=o=>{var c;t(Zi.create("storage-open",{originalErrorMessage:null===(c=o.target.error)||void 0===c?void 0:c.message}))},r.onupgradeneeded=o=>{0===o.oldVersion&&o.target.result.createObjectStore(Sy,{keyPath:"compositeKey"})}}catch(r){t(Zi.create("storage-open",{originalErrorMessage:null===(e=r)||void 0===e?void 0:e.message}))}}),xC)}function YT(){return(YT=(0,iu.Z)(function*(n,t){const r=(yield rS()).transaction(Sy,"readwrite"),c=r.objectStore(Sy).put({compositeKey:n,value:t});return new Promise((h,m)=>{c.onsuccess=E=>{h()},r.onerror=E=>{var D;m(Zi.create("storage-set",{originalErrorMessage:null===(D=E.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Ay=new up.Yd("@firebase/app-check");function aS(n,t){return(0,F.hl)()?function TM(n,t){return function iS(n,t){return YT.apply(this,arguments)}(function oS(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Ay.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function lS(){return Xc().enabled}function uS(){return XT.apply(this,arguments)}function XT(){return(XT=(0,iu.Z)(function*(){const n=Xc();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xM={error:"UNKNOWN_ERROR"};function PM(n){return F.US.encodeString(JSON.stringify(n),!1)}function PC(n){return eD.apply(this,arguments)}function eD(){return(eD=(0,iu.Z)(function*(n,t=!1){const e=n.app;tS(e);const r=an(e);let c,o=r.token;if(!o){const E=yield r.cachedTokenPromise;E&&OC(E)&&(o=E)}if(!t&&o&&OC(o))return{token:o.token};let m,h=!1;if(lS()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ZT(EM(e,yield uS()),n.heartbeatServiceProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),h=!0);const E=yield r.exchangeTokenPromise;return yield aS(e,E),Or(e,Object.assign(Object.assign({},r),{token:E})),{token:E.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(E=>(r.exchangeTokenPromise=void 0,E)),h=!0),o=yield r.exchangeTokenPromise}catch(E){"appCheck/throttled"===E.code?Ay.warn(E.message):Ay.error(E),c=E}return o?(m={token:o.token},Or(e,Object.assign(Object.assign({},r),{token:o})),yield aS(e,o)):m=RM(c),h&&dS(e,m),m})).apply(this,arguments)}function nD(n,t){const e=an(n),r=e.tokenObservers.filter(o=>o.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Or(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function cS(n){const{app:t}=n,e=an(t);let r=e.tokenRefresher;r||(r=function OM(n){const{app:t}=n;return new Dy((0,iu.Z)(function*(){let r;if(r=an(t).token?yield PC(n,!0):yield PC(n),r.error)throw r.error}),()=>!0,()=>{const e=an(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Or(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function dS(n,t){const e=an(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(o){}}function OC(n){return n.expireTimeMillis-Date.now()>0}function RM(n){return{token:PM(xM),error:n}}class NM{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=an(this.app);for(const e of t)nD(this.app,e.next);return Promise.resolve()}}const vS="app-check-internal";!function qM(){(0,To._registerComponent)(new Ic.wA("app-check",n=>function kM(n,t){return new NM(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(vS).initialize()})),(0,To._registerComponent)(new Ic.wA(vS,n=>function FM(n){return{getToken:t=>PC(n,t),addTokenListener:t=>function tD(n,t,e,r){const{app:o}=n,c=an(o),h={next:e,error:r,type:t};if(Or(o,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]})),c.token&&OC(c.token)){const m=c.token;Promise.resolve().then(()=>{e({token:m.token}),cS(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>cS(n))}(n,"INTERNAL",t),removeTokenListener:t=>nD(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,To.registerVersion)("@firebase/app-check","0.5.12")}();class NC{constructor(){return(0,ar.vb)("app-check")}}"undefined"!=typeof window&&window,P(127);const CS=new l.OlP("angularfire2.auth.use-emulator"),wS=new l.OlP("angularfire2.auth.settings"),bS=new l.OlP("angularfire2.auth.tenant-id"),TS=new l.OlP("angularfire2.auth.langugage-code"),DS=new l.OlP("angularfire2.auth.use-device-language"),IS=new l.OlP("angularfire.auth.persistence"),SS=(n,t,e,r,o,c,h,m)=>(0,Gs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const E=t.runOutsideAngular(()=>n.auth());if(e&&E.useEmulator(...e),r&&(E.tenantId=r),E.languageCode=o,c&&E.useDeviceLanguage(),h)for(const[D,O]of Object.entries(h))E.settings[D]=O;return m&&E.setPersistence(m),E},[e,r,o,c,h,m]);let AS=(()=>{class n{constructor(e,r,o,c,h,m,E,D,O,R,Y,re){const _e=new Ar.x,Fe=gt(void 0).pipe((0,hg.Q)(h.outsideAngular),nr(()=>c.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,5881)))),(0,ht.U)(()=>(0,Gs.on)(e,c,r)),(0,ht.U)(Je=>SS(Je,c,m,D,O,R,E,Y)),$T({bufferSize:1,refCount:!1}));if(Yn(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=gt(null);else{Fe.pipe(Jc()).subscribe();const Bt=Fe.pipe(nr(Ft=>Ft.getRedirectResult().then(Rr=>Rr,()=>null)),ar.iC,$T({bufferSize:1,refCount:!1})),It=Fe.pipe(nr(Ft=>new Ci.y(Rr=>({unsubscribe:c.runOutsideAngular(()=>Ft.onAuthStateChanged(zr=>Rr.next(zr),zr=>Rr.error(zr),()=>Rr.complete()))})))),cn=Fe.pipe(nr(Ft=>new Ci.y(Rr=>({unsubscribe:c.runOutsideAngular(()=>Ft.onIdTokenChanged(zr=>Rr.next(zr),zr=>Rr.error(zr),()=>Rr.complete()))}))));this.authState=Bt.pipe(GT(It),(0,i.R)(h.outsideAngular),(0,hg.Q)(h.insideAngular)),this.user=Bt.pipe(GT(cn),(0,i.R)(h.outsideAngular),(0,hg.Q)(h.insideAngular)),this.idToken=this.user.pipe(nr(Ft=>Ft?(0,tr.D)(Ft.getIdToken()):gt(null))),this.idTokenResult=this.user.pipe(nr(Ft=>Ft?(0,tr.D)(Ft.getIdTokenResult()):gt(null))),this.credential=(0,zd.T)(Bt,_e,this.authState.pipe(Es(Ft=>!Ft))).pipe((0,ht.U)(Ft=>(null==Ft?void 0:Ft.user)?Ft:null),(0,i.R)(h.outsideAngular),(0,hg.Q)(h.insideAngular))}return(0,Gs.pX)(this,Fe,c,{spy:{apply:(Je,Bt,It)=>{(Je.startsWith("signIn")||Je.startsWith("createUser"))&&It.then(cn=>_e.next(cn))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Gs.Dh),l.LFG(Gs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ar.HU),l.LFG(CS,8),l.LFG(wS,8),l.LFG(bS,8),l.LFG(TS,8),l.LFG(DS,8),l.LFG(IS,8),l.LFG(NC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function MS(n){return null==n}function xS(n){return"function"==typeof n.set}function PS(n,t){return xS(t)?t:n.ref(t)}function OS(n,t){if(function ex(n){return"string"==typeof n}(n))return t.stringCase();if(xS(n))return t.firebaseCase();if(function tx(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function My(n,t,e="on",r=lp.z){return new Ci.y(o=>{let c=null;return c=n[e](t,(h,m)=>{r.schedule(()=>{o.next({snapshot:h,prevKey:m})}),"once"===e&&r.schedule(()=>o.complete())},h=>{r.schedule(()=>o.error(h))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,ht.U)(o=>{const{snapshot:c,prevKey:h}=o;let m=null;return c.exists()&&(m=c.key),{type:t,payload:c,prevKey:h,key:m}}),(0,E0.B)())}function RS(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function ix(n,t){const{payload:e,prevKey:r,key:o}=t,c=RS(n,o),h=function rx(n,t){if(MS(t))return 0;{const e=RS(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let m=null;t.payload.forEach(E=>{const D={payload:E,type:"value",prevKey:m,key:E.key};return m=E.key,n=[...n,D],!1})}return n;case"child_added":if(c>-1){const m=n[c-1];(m&&m.key||null)!==r&&(n=n.filter(E=>E.payload.key!==e.key)).splice(h,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(h,0,t)}return n;case"child_removed":return n.filter(m=>m.payload.key!==e.key);case"child_changed":return n.map(m=>m.payload.key===o?t:m);case"child_moved":if(c>-1){const m=n.splice(c,1)[0];return(n=n.slice()).splice(h,0,m),n}return n;default:return n}}function NS(n){return(MS(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function kS(n,t,e){return function nx(n,t,e){return My(n,"value","once",e).pipe(nr(r=>{const o=[gt(r)];return t.forEach(c=>o.push(My(n,c,"on",e))),(0,zd.T)(...o).pipe(Zd(ix,[]))}),function lb(n,t=Dc.y){return n=null!=n?n:_I,(0,wn.e)((e,r)=>{let o,c=!0;e.subscribe((0,or.x)(r,h=>{const m=t(h);(c||!n(o,m))&&(c=!1,o=m,r.next(h))}))})}())}(n,t=NS(t),e)}function FS(n,t,e){const r=(t=NS(t)).map(o=>My(n,o,"on",e));return(0,zd.T)(...r)}function LS(n,t){return function(r,o){return OS(r,{stringCase:()=>n.child(r)[t](o),firebaseCase:()=>r[t](o),snapshotCase:()=>r.ref[t](o)})}}function lx(n){return function(e){return e?OS(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function VS(n,t){return function(){return My(n,"value","on",t)}}const dx=new l.OlP("angularfire2.realtimeDatabaseURL"),hx=new l.OlP("angularfire2.database.use-emulator");let fx=(()=>{class n{constructor(e,r,o,c,h,m,E,D,O,R,Y,re,_e,Fe,Je){this.schedulers=m;const Bt=E,It=(0,Gs.on)(e,h,r);D&&SS(It,h,O,Y,re,_e,R,Fe),this.database=(0,Gs.cc)(`${It.name}.database.${o}`,"AngularFireDatabase",It.name,()=>{const cn=h.runOutsideAngular(()=>It.database(o||void 0));return Bt&&cn.useEmulator(...Bt),cn},[Bt])}list(e,r){const o=this.schedulers.ngZone.runOutsideAngular(()=>PS(this.database,e));let c=o;return r&&(c=r(o)),function ux(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:LS(r,"update"),set:LS(r,"set"),push:o=>r.push(o),remove:lx(r),snapshotChanges:o=>kS(n,o,e).pipe(ar.iC),stateChanges:o=>FS(n,o,e).pipe(ar.iC),auditTrail:o=>function sx(n,t,e){return function ax(n,t,e){return function ox(n,t){return My(n,"value","on",t).pipe((0,ht.U)(e=>{let r;return e.payload.forEach(o=>(r=o.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function ub(...n){const t=(0,Ul.jO)(n);return(0,wn.e)((e,r)=>{const o=n.length,c=new Array(o);let h=n.map(()=>!1),m=!1;for(let E=0;E<o;E++)(0,Za.Xf)(n[E]).subscribe((0,or.x)(r,D=>{c[E]=D,!m&&!h[E]&&(h[E]=!0,(m=h.every(Dc.y))&&(h=null))},Hg.Z));e.subscribe((0,or.x)(r,E=>{if(m){const D=[E,...c];r.next(t?t(...D):D)}}))})}(t),(0,ht.U)(([o,c])=>{const h=o.lastKeyToLoad,m=c.map(E=>E.key);return{actions:c,lastKeyToLoad:h,loadedKeys:m}}),function Bm(n){return(0,wn.e)((t,e)=>{let r=!1,o=0;t.subscribe((0,or.x)(e,c=>(r||(r=!n(c,o++)))&&e.next(c)))})}(o=>-1===o.loadedKeys.indexOf(o.lastKeyToLoad)),(0,ht.U)(o=>o.actions))}(n,FS(n,t).pipe(Zd((o,c)=>[...o,c],[])),e)}(n,o,e).pipe(ar.iC),valueChanges:(o,c)=>kS(n,o,e).pipe((0,ht.U)(m=>m.map(E=>c&&c.idField?Object.assign(Object.assign({},E.payload.val()),{[c.idField]:E.key}):E.payload.val())),ar.iC)}}(c,this)}object(e){return function cx(n,t){return{query:n,snapshotChanges:()=>VS(n,t.schedulers.outsideAngular)().pipe(ar.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>VS(n,t.schedulers.outsideAngular)().pipe(ar.iC,(0,ht.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>PS(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Gs.Dh),l.LFG(Gs.xv,8),l.LFG(dx,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(ar.HU),l.LFG(hx,8),l.LFG(AS,8),l.LFG(CS,8),l.LFG(wS,8),l.LFG(bS,8),l.LFG(TS,8),l.LFG(DS,8),l.LFG(IS,8),l.LFG(NC,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),px=(()=>{class n{constructor(e){this.talkToUsRef=e.list("talkToUs_DB"),this.joinTheTeamRef=e.list("joinTheTeam_DB")}createTalkToUsRegister(e){return e.date=(new Date).toLocaleString(),this.talkToUsRef.push(e)}createJoinTheTeamRegister(e){return e.date=(new Date).toLocaleString(),this.joinTheTeamRef.push(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fx))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gx(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"ng-lottie",31),l.NdJ("complete",function(){l.CHM(e);const o=l.oxw(2);return o.exibirLinksFixos=!o.exibirLinksFixos}),l.qZA()}if(2&n){const e=l.oxw(2);l.Q6J("options",e.optionsAnimationCanais)}}function mx(n,t){1&n&&(l.TgZ(0,"div",32)(1,"a",33),l._uU(2,"Instagram"),l.qZA(),l.TgZ(3,"a",34),l._uU(4,"Facebook"),l.qZA(),l.TgZ(5,"a",35),l._uU(6,"Linkedin"),l.qZA(),l.TgZ(7,"a",36),l._uU(8,"Behance"),l.qZA(),l.TgZ(9,"a",37),l._uU(10,"Medium"),l.qZA(),l.TgZ(11,"a",38),l._uU(12,"YouTube"),l.qZA(),l.TgZ(13,"a",39),l._uU(14,"Clutch"),l.qZA()())}function _x(n,t){1&n&&l._UZ(0,"i",40)}function yx(n,t){1&n&&l._UZ(0,"i",41)}function vx(n,t){1&n&&l._UZ(0,"i",42)}function Ex(n,t){1&n&&l._UZ(0,"i",43)}function Cx(n,t){1&n&&l._UZ(0,"i",41)}function wx(n,t){1&n&&l._UZ(0,"i",42)}function bx(n,t){1&n&&l._UZ(0,"i",44)}function Tx(n,t){1&n&&l._UZ(0,"i",41)}function Dx(n,t){1&n&&l._UZ(0,"i",42)}const kC=function(n,t){return{"is-invalid":n,"is-valid":t}};function Ix(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"textarea",45),l.NdJ("focus",function(){return l.CHM(e),l.oxw(2).inputContentBlur=!0})("blur",function(){return l.CHM(e),l.oxw(2).inputContentBlur=!1}),l.qZA()}if(2&n){const e=l.oxw(2);l.Q6J("ngClass",l.WLB(1,kC,e.formSubmitted&&e.f.content.errors,!e.f.content.errors))}}function Sx(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"textarea",46),l.NdJ("focus",function(){return l.CHM(e),l.oxw(2).inputContentBlur=!0})("blur",function(){return l.CHM(e),l.oxw(2).inputContentBlur=!1}),l.qZA()}if(2&n){const e=l.oxw(2);l.Q6J("ngClass",l.WLB(1,kC,e.formSubmitted&&e.f.content.errors,!e.f.content.errors))}}const BS=function(n){return{selected:n}},aD=function(n){return{"input-icon-focus":n}},Ax=function(n){return{"is-invalid":n}};function Mx(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2),l._UZ(1,"ng-lottie",3),l.YNc(2,gx,1,1,"ng-lottie",4),l.YNc(3,mx,15,0,"div",5),l._UZ(4,"explosion-webm",6)(5,"explosion-webm",7)(6,"explosion-webm",8)(7,"explosion-webm",9),l.TgZ(8,"div",10)(9,"input",11),l.NdJ("ngModelChange",function(o){return l.CHM(e),l.oxw().emailMagicInput=o}),l.qZA(),l._UZ(10,"span",12)(11,"i",13),l.TgZ(12,"label"),l._uU(13,"Drop your email here and magic things may happen"),l.qZA()(),l.TgZ(14,"div",14)(15,"a",15),l.NdJ("click",function(){l.CHM(e);const o=l.oxw();return o.formSelected=o.FormType.TalkToUs,o.changeFormSelected()}),l._uU(16,"TALK TO US"),l.qZA(),l.TgZ(17,"a",15),l.NdJ("click",function(){l.CHM(e);const o=l.oxw();return o.formSelected=o.FormType.JoinTheTeam,o.changeFormSelected()}),l._uU(18,"JOIN THE TEAM"),l.qZA()(),l.TgZ(19,"form",16),l.NdJ("ngSubmit",function(){return l.CHM(e),l.oxw().onSendContact()}),l.TgZ(20,"div",17)(21,"div",18),l.YNc(22,_x,1,0,"i",19),l.YNc(23,yx,1,0,"i",20),l.YNc(24,vx,1,0,"i",21),l.TgZ(25,"input",22),l.NdJ("focus",function(){return l.CHM(e),l.oxw().inputNameBlur=!0})("blur",function(){return l.CHM(e),l.oxw().inputNameBlur=!1}),l.qZA()(),l.TgZ(26,"div",23),l.YNc(27,Ex,1,0,"i",24),l.YNc(28,Cx,1,0,"i",20),l.YNc(29,wx,1,0,"i",21),l.TgZ(30,"input",25),l.NdJ("focus",function(){return l.CHM(e),l.oxw().inputEmailBlur=!0})("blur",function(){return l.CHM(e),l.oxw().inputEmailBlur=!1}),l.qZA()(),l.TgZ(31,"div")(32,"div",26),l.YNc(33,bx,1,0,"i",27),l.YNc(34,Tx,1,0,"i",20),l.YNc(35,Dx,1,0,"i",21),l.YNc(36,Ix,1,4,"textarea",28),l.YNc(37,Sx,1,4,"textarea",29),l.qZA()(),l.TgZ(38,"button",30),l.NdJ("blur",function(){return l.CHM(e),l.oxw().formSubmitted=!1}),l._uU(39),l.qZA()()()()}if(2&n){const e=l.oxw();l.xp6(1),l.Q6J("options",e.optionsAnimationTalkWithUs),l.xp6(1),l.Q6J("ngIf",!e.exibirLinksFixos),l.xp6(1),l.Q6J("ngIf",e.exibirLinksFixos),l.xp6(1),l.Q6J("stylePosition",e.stylePositionCoracoes),l.xp6(1),l.Q6J("stylePosition",e.stylePositionMaquina),l.xp6(1),l.Q6J("stylePosition",e.stylePositionPost),l.xp6(1),l.Q6J("stylePosition",e.stylePositionPlaca),l.xp6(2),l.Q6J("ngModel",e.emailMagicInput),l.xp6(6),l.Q6J("ngClass",l.VKq(39,BS,e.formSelected===e.FormType.TalkToUs)),l.xp6(2),l.Q6J("ngClass",l.VKq(41,BS,e.formSelected===e.FormType.JoinTheTeam)),l.xp6(2),l.Q6J("formGroup",e.formContact),l.xp6(2),l.Q6J("@bounceInDownOnEnter",void 0)("@bounceInDown",e.playAnimation)("ngClass",l.VKq(43,aD,e.inputNameBlur)),l.xp6(1),l.Q6J("ngIf",!e.formSubmitted&&e.f.name.errors),l.xp6(1),l.Q6J("ngIf",!e.f.name.errors),l.xp6(1),l.Q6J("ngIf",e.formSubmitted&&e.f.name.errors),l.xp6(1),l.Q6J("ngClass",l.WLB(45,kC,e.formSubmitted&&e.f.name.errors,!e.f.name.errors)),l.xp6(1),l.Q6J("@bounceInDownOnEnter",void 0)("@bounceInDown",e.playAnimation)("ngClass",l.VKq(48,aD,e.inputEmailBlur)),l.xp6(1),l.Q6J("ngIf",!e.formSubmitted&&e.f.email.errors),l.xp6(1),l.Q6J("ngIf",!e.f.email.errors),l.xp6(1),l.Q6J("ngIf",e.formSubmitted&&e.f.email.errors),l.xp6(1),l.Q6J("ngClass",l.WLB(50,kC,e.formSubmitted&&e.f.email.errors,!e.f.email.errors)),l.xp6(1),l.Udp("display","contents"),l.xp6(1),l.Q6J("@bounceInDownOnEnter",void 0)("@bounceInDown",e.playAnimation)("ngClass",l.VKq(53,aD,e.inputContentBlur)),l.xp6(1),l.Q6J("ngIf",!e.formSubmitted&&e.f.content.errors),l.xp6(1),l.Q6J("ngIf",!e.f.content.errors),l.xp6(1),l.Q6J("ngIf",e.formSubmitted&&e.f.content.errors),l.xp6(1),l.Q6J("ngIf",e.formSelected===e.FormType.TalkToUs),l.xp6(1),l.Q6J("ngIf",e.formSelected===e.FormType.JoinTheTeam),l.xp6(1),l.Q6J("@bounceInDownOnEnter",void 0)("@bounceInDown",e.playAnimation)("ngClass",l.VKq(55,Ax,e.formSubmitted&&e.formContact.invalid)),l.xp6(1),l.Oqu(e.formSubmitted?e.formSubmitted&&e.formContact.invalid?"ERROR \u26a0\ufe0f":e.formSubmitted&&!e.formContact.invalid?"SENT! \u{1f525}":"":"SEND!")}}var xy=(()=>{return(n=xy||(xy={}))[n.TalkToUs=0]="TalkToUs",n[n.JoinTheTeam=1]="JoinTheTeam",xy;var n})();let lD=(()=>{class n{constructor(e,r,o,c){this.contactDB=e,this.scrollRouter=r,this.formBuilder=o,this.ref=c,this.inputNameBlur=!1,this.inputEmailBlur=!1,this.inputContentBlur=!1,this.FormType=xy,this.formSelected=xy.TalkToUs,this.formContact=new Hd({name:new yc(""),email:new yc(""),content:new yc("")}),this.showForm=!1,this.formSubmitted=!1,this.formJoinTheTeamSubmitted=!1,this.exibirLinksFixos=!1,this.playAnimation=!1,this.stylePositionCoracoes={top:"calc(45% - 2rem)",left:"calc(45% - 10rem)"},this.stylePositionMaquina={top:"calc(45% - 15rem)",left:"calc(45% + 38rem)"},this.stylePositionPost={top:"calc(45% + 15rem)",left:"calc(45% - 25rem)"},this.stylePositionPlaca={top:"calc(45% + 15rem)",left:"calc(45% + 35rem)"},this.optionsAnimationTalkWithUs={path:"./assets/lootie-animations/section-what/TalkWithUs_in.json",loop:!1},this.optionsAnimationCanais={path:"./assets/lootie-animations/section-what/Canais_in.json",loop:!1}}get f(){return this.formContact.controls}ngOnInit(){this.formContact=this.formBuilder.group({name:["",[wo.required,wo.minLength(3)]],email:["",[wo.required,wo.email]],content:["",[wo.required,wo.minLength(10)]]})}changeFormSelected(){clearTimeout(this.timeoutref),this.formContact.reset(),this.formSubmitted=!1,this.playAnimation=!0,this.ref.detectChanges(),this.timeoutref=setTimeout(()=>{this.playAnimation=!1,this.ref.detectChanges()},1e3)}onSendContact(){if(this.formSubmitted=!0,this.formContact.invalid)return;const e=this.formContact.getRawValue();this.formSelected===this.FormType.TalkToUs?this.contactDB.createTalkToUsRegister(e).catch(r=>console.log("Error on save talk to us form:",r)):this.contactDB.createJoinTheTeamRegister(e).catch(r=>console.log("Error on save join the team form:",r))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(px),l.Y36(cs),l.Y36(y0),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["section-contact"]],decls:2,vars:1,consts:[["fragment","contact",1,"section","mt-15"],["class","section__holder",4,"ngIf"],[1,"section__holder"],[1,"animation__talk_with_us",3,"options"],["class","animation__canais",3,"options","complete",4,"ngIf"],["class","animation__canais_fixed",4,"ngIf"],["videoSrc","./assets/webm-animations/balao_250_v02.webm",3,"stylePosition"],["videoSrc","./assets/webm-animations/maquina_250_v02.webm",3,"stylePosition"],["videoSrc","./assets/webm-animations/post_250_v02.webm",3,"stylePosition"],["videoSrc","./assets/webm-animations/placa_250_v02.webm",3,"stylePosition"],[1,"magic-input"],["type","email","required","required",3,"ngModel","ngModelChange"],[1,"bar"],[1,"arrow-right-icon"],[1,"what_link"],[1,"popup-social__item",3,"ngClass","click"],[3,"formGroup","ngSubmit"],[1,"what__cols"],[1,"input-icon-name",3,"ngClass"],["class","icon-unicorn icon",4,"ngIf"],["class","icon-check icon",4,"ngIf"],["class","icon-error icon",4,"ngIf"],["id","in_1","placeholder","How can we call you?","type","text","formControlName","name",3,"ngClass","focus","blur"],[1,"input-icon-email",3,"ngClass"],["class","icon-popcorn icon",4,"ngIf"],["id","in_2","placeholder","What's your email address?","formControlName","email","type","email",3,"ngClass","focus","blur"],[1,"input-icon-content",3,"ngClass"],["class","icon-pizza icon",4,"ngIf"],["required","","id","in_3","formControlName","content","placeholder","Open your heart","cols","30","rows","3",3,"ngClass","focus","blur",4,"ngIf"],["required","","id","in_3","formControlName","content","placeholder","Tell us all about you","cols","30","rows","3",3,"ngClass","focus","blur",4,"ngIf"],["type","submit",3,"ngClass","blur"],[1,"animation__canais",3,"options","complete"],[1,"animation__canais_fixed"],["href","https://www.instagram.com/peckdish/","target","_blank"],["href","https://facebook.com/peckdish","target","_blank"],["href","https://www.linkedin.com/company/peckdish","target","_blank"],["href","https://www.behance.net/peckdish","target","_blank"],["href","https://medium.com/@peckdish","target","_blank"],["href","https://www.youtube.com/channel/UCXz7PdkdR8pWhlCnddCirew","target","_blank"],["href","","target","_blank"],[1,"icon-unicorn","icon"],[1,"icon-check","icon"],[1,"icon-error","icon"],[1,"icon-popcorn","icon"],[1,"icon-pizza","icon"],["required","","id","in_3","formControlName","content","placeholder","Open your heart","cols","30","rows","3",3,"ngClass","focus","blur"],["required","","id","in_3","formControlName","content","placeholder","Tell us all about you","cols","30","rows","3",3,"ngClass","focus","blur"]],template:function(e,r){1&e&&(l.TgZ(0,"section",0),l.YNc(1,Mx,40,57,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",r.scrollRouter.active("contact")))},directives:[ln,qa,Fd,Lf,oi,Wv,Am,Ai,r0,Gv,xm,sp],styles:['.section[_ngcontent-%COMP%]{margin-bottom:100px}.section__holder[_ngcontent-%COMP%]{top:50vh}.animation__talk_with_us[_ngcontent-%COMP%]{position:absolute;width:70vh;top:calc(45% - 43vh);left:calc(45% - 64vh)}.animation__canais[_ngcontent-%COMP%]{cursor:var(--hashiOpenSVG) 0 46,pointer;position:absolute;top:calc(45% + 5vw);left:calc(45% - 15vw);width:20vw}.animation__canais_fixed[_ngcontent-%COMP%]{cursor:var(--hashiOpenSVG) 0 46,pointer;position:absolute;top:calc(45% + 5.5vw);left:calc(45% - 6.6vw)}.animation__canais_fixed[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#dbdbdbde;font-family:Montserrat,sans-serif;font-size:1vw}.animation__canais_fixed[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}.animation__canais_fixed[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff75ff;font-size:1.1vw}.what_link[_ngcontent-%COMP%]{position:absolute;top:calc(45% - 19vw);left:calc(45% + 9vw);white-space:nowrap;width:21vw}.popup-social__item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:400;font-size:25px;text-transform:uppercase;text-decoration:none;text-align:center;color:#fff;display:block;margin:15px 0;padding:3px 0x;border:1px solid transparent;border-radius:6px;letter-spacing:4px}.popup-social__item.selected[_ngcontent-%COMP%]{color:#ff75ff;font-weight:700;border:1px solid #fff}.what__cols[_ngcontent-%COMP%]{position:absolute;left:calc(45% + 9vw);width:21vw;top:calc(45% - 10vw);display:flex;flex-direction:column}button[_ngcontent-%COMP%]{background-color:#ff6fff;height:50px;border-radius:5px;color:#fff;border:none;font-size:20px;margin-top:-15px;transform:rotate(2deg)}button[_ngcontent-%COMP%]:focus{outline:none;transform:rotate(0);transition:.5s;transform:scale(1.1)}.magic-input[_ngcontent-%COMP%]{position:absolute;bottom:calc(45% - 37vh);left:15rem;width:60%}input[_ngcontent-%COMP%]:hover{cursor:var(--hashiOpenSVG) 0 46,pointer}input[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}textarea[_ngcontent-%COMP%]:hover{cursor:var(--hashiOpenSVG) 0 46,pointer}textarea[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}button[_ngcontent-%COMP%]:hover{cursor:var(--hashiOpenSVG) 0 46,pointer}button[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}.magic-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{background:none;color:#c6c6c6;font-size:18px;padding:10px 10px 10px 5px;display:block;width:320px;border:none;border-radius:0;border-bottom:1px solid #c6c6c6}.magic-input[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{display:none;position:absolute;right:0;top:0}.magic-input[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{color:#ff6fff;font-size:16px;font-weight:400;position:absolute;pointer-events:none;left:5px;top:10px;transition:.5s ease all}.bar[_ngcontent-%COMP%]{position:relative;display:block;width:100%}.bar[_ngcontent-%COMP%]:before{content:"";height:2px;width:0;bottom:0px;position:absolute;background:#ff6fff;transition:.5s ease all;left:0%}.magic-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{background:none;color:#ff6fff;font-size:18px;padding:10px 10px 10px 5px;display:block;width:100%;border:none;border-radius:0;border-bottom:1px solid #ff6fff}.magic-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus{outline:none}.magic-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .magic-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:valid ~ label[_ngcontent-%COMP%]{top:-14px;font-size:12px;color:#ff6fff}.magic-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus ~ i[_ngcontent-%COMP%]{display:block}.magic-input[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]:focus ~ .bar[_ngcontent-%COMP%]:before{width:100%}.is-invalid[_ngcontent-%COMP%]{background-color:#f00045}[_ngcontent-%COMP%]::placeholder{color:#ff1b54}.is-invalid[_ngcontent-%COMP%]::placeholder{color:#fff}.input-icon-name[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;transform:rotate(3deg);transition:.5s}.input-icon-name[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute}.input-icon-email[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;transform:rotate(-1deg);transition:.5s}.input-icon-email[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute}.input-icon-content[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;transform:rotate(1deg);transition:.5s}.input-icon-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute}.input-icon-focus[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;transform:scale(1.1) rotate(0);transition:.5s}#in_1[_ngcontent-%COMP%]{width:100%;padding-left:1.5vw;margin-bottom:2vw;border:1px;border-radius:5px;height:2.5vw;transition:.5s}#in_1[_ngcontent-%COMP%]:focus{border:#ff1b54 solid;outline:none;transition:.5s}#in_1.is-valid[_ngcontent-%COMP%]{border:#15f4ee solid}.icon[_ngcontent-%COMP%]{padding:15px;text-align:right;right:10px;height:40px;z-index:99999}#in_2[_ngcontent-%COMP%]{width:100%;padding-left:1.5vw;margin-bottom:2vw;border:1px;border-radius:5px;height:2.5vw;transition:.5s}#in_2[_ngcontent-%COMP%]:focus{border:#ff1b54 solid;outline:none;transition:.5s}#in_2.is-valid[_ngcontent-%COMP%]{border:#15f4ee solid}#in_3[_ngcontent-%COMP%]{width:100%;margin-bottom:40px;border-radius:5px;padding-top:15px;padding-left:1.5vw;border:1px;height:10vw;transition:.5s}#in_3[_ngcontent-%COMP%]:focus{outline:none;transition:.5s;border:#ff1b54 solid}#in_3.is-valid[_ngcontent-%COMP%]{border:#15f4ee solid}'],data:{animation:[Af,fv,qg,sb(),ob()]}}),n})();function xx(n,t){1&n&&(l.TgZ(0,"div",2),l._UZ(1,"video",3),l.qZA())}let uD=(()=>{class n{constructor(e){this.scrollRouter=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(cs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["section-life-is"]],decls:2,vars:1,consts:[[1,"section","mt-15"],["class","section__holder",4,"ngIf"],[1,"section__holder"],["autoplay","","playinline","","loop","","src","./assets/webm-animations/life_is_1080p_25porcento.webm","muted","",1,"boring__anim"]],template:function(e,r){1&e&&(l.TgZ(0,"section",0),l.YNc(1,xx,2,0,"div",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",r.scrollRouter.active("life-is")))},directives:[ln,ii],styles:[".boring__anim[_ngcontent-%COMP%]{position:relative;top:5vh;height:35rem;left:calc(20% - 180px)}"]}),n})(),cD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["section-host"]],inputs:{scroll:"scroll"},decls:7,vars:7,consts:[["menu-scroll-link","",3,"id"]],template:function(e,r){1&e&&l._UZ(0,"section-why",0)(1,"section-values",0)(2,"section-how",0)(3,"section-what",0)(4,"section-packages",0)(5,"section-contact",0)(6,"section-life-is",0),2&e&&(l.s9C("id","why_"+r.scroll),l.xp6(1),l.s9C("id","values_"+r.scroll),l.xp6(1),l.s9C("id","how_"+r.scroll),l.xp6(1),l.s9C("id","what_"+r.scroll),l.xp6(1),l.s9C("id","packages_"+r.scroll),l.xp6(1),l.s9C("id","contact_"+r.scroll),l.xp6(1),l.s9C("id","life-is_"+r.scroll))},directives:[Qg,Ev,Of,Av,sm,Ov,lD,uD],styles:[".section[_ngcontent-%COMP%]{height:100vh;position:relative;z-index:99999999}"]}),n})();function Px(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",1)(1,"div",2)(2,"a",3),l._uU(3,"INSTAGRAM"),l.qZA(),l.TgZ(4,"a",4),l._uU(5,"LINKEDIN"),l.qZA(),l.TgZ(6,"a",5),l._uU(7,"BEHANCE"),l.qZA(),l.TgZ(8,"a",6),l._uU(9,"MEDIUM"),l.qZA(),l.TgZ(10,"a",7),l._uU(11,"YOUTUBE"),l.qZA()(),l.TgZ(12,"button",8),l.NdJ("click",function(){return l.CHM(e),l.oxw().btnClosePopupClick()}),l._uU(13,"X"),l.qZA()()}}let US=(()=>{class n{constructor(){this.showPopup=!0,this.btnClosePopup=new l.vpe}btnClosePopupClick(){this.btnClosePopup.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["popup-social"]],inputs:{showPopup:"showPopup"},outputs:{btnClosePopup:"btnClosePopup"},decls:1,vars:1,consts:[["class","popup-social",4,"ngIf"],[1,"popup-social"],[1,"popup-social__content"],["href","https://www.instagram.com/peckdish/","target","_blank",1,"popup-social__item"],["href","https://www.linkedin.com/company/peckdish","target","_blank",1,"popup-social__item"],["href","https://www.behance.net/peckdish","target","_blank",1,"popup-social__item"],["href","https://medium.com/@peckdish","target","_blank",1,"popup-social__item"],["href","https://www.youtube.com/channel/UCXz7PdkdR8pWhlCnddCirew","target","_blank",1,"popup-social__item"],[1,"popup-social__close",3,"click"]],template:function(e,r){1&e&&l.YNc(0,Px,14,0,"div",0),2&e&&l.Q6J("ngIf",r.showPopup)},directives:[ln],styles:[".popup-social__item[_ngcontent-%COMP%]{font-family:Montserrat,sans-serif;font-weight:400;font-size:25px;text-transform:uppercase;text-decoration:none;text-align:center;color:#fff;display:block;margin:30px 0;padding:10px 30px;border:1px solid transparent;border-radius:6px;letter-spacing:4px}.popup-social__item[_ngcontent-%COMP%]:hover{color:#ff75ff;font-weight:700;border:1px solid #fff}.popup-social[_ngcontent-%COMP%]{position:fixed;right:0;top:0;width:100vw;height:100vh;z-index:999999999999;background-color:#000c}.popup-social__content[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.popup-social__close[_ngcontent-%COMP%]{position:absolute;top:10%;right:10%;font-family:Montserrat,sans-serif;font-weight:600;font-size:72px;color:#fff;text-decoration:none;background-color:transparent;border:0}.popup-social__close[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}.popup-social__close[_ngcontent-%COMP%]:hover{color:#ff75ff;font-weight:700;cursor:var(--hashiOpenSVG) 0 46,pointer}"]}),n})(),Ox=(()=>{class n{constructor(e,r,o){this.viewportScroller=e,this.dom=r,this.scrollRouter=o,this.scrollPercent=0,this.showPopupSocial=!1}ngOnInit(){setTimeout(()=>{this.calcularPosicaoScroll()},2e3)}onScroll(){this.scrollRouter.scrolledOrigin=!1,this.calcularPosicaoScroll()}calcularPosicaoScroll(){const e=document.documentElement.scrollHeight-document.body.offsetHeight,r=this.viewportScroller.getScrollPosition()[1];this.scrollPercent=100*r/e,this.scrollPercent>99&&(this.dom.appendComponentToBody(cD),this.scrollPercent=0)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ao),l.Y36(wf),l.Y36(cs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["left-scroll-nav"]],hostBindings:function(e,r){1&e&&l.NdJ("scroll",function(c){return r.onScroll(c)},!1,l.Jf7)},inputs:{showPopupSocial:"showPopupSocial"},decls:8,vars:9,consts:[[3,"showPopup","btnClosePopup"],["mouseoverplay","","src","./assets/webm-animations/PECKDISH_AVATAR_GLITCH_SITE_500.webm","muted","","loop","","playsinline","",1,"logo-peck-hover",3,"timeoutshow"],[1,"progress-menu",3,"timeoutshow"],[1,"progress-menu__progress-bar"],[1,"progress-menu__links",3,"click"]],template:function(e,r){1&e&&(l.TgZ(0,"popup-social",0),l.NdJ("btnClosePopup",function(){return r.showPopupSocial=!r.showPopupSocial}),l.qZA(),l._UZ(1,"video",1),l.TgZ(2,"div",2)(3,"div",3),l._UZ(4,"span"),l.qZA(),l.TgZ(5,"div",4),l.NdJ("click",function(){return r.showPopupSocial=!r.showPopupSocial}),l.TgZ(6,"button"),l._uU(7,"Social"),l.qZA()()()),2&e&&(l.Q6J("showPopup",r.showPopupSocial),l.xp6(1),l.Udp("display","none"),l.Q6J("timeoutshow",3e3),l.xp6(1),l.Udp("display","none"),l.Q6J("timeoutshow",3e3),l.xp6(2),l.Udp("height",r.scrollPercent,"%"))},directives:[US,vt,Tf],styles:[".logo-peck-hover[_ngcontent-%COMP%]{width:7.6rem;left:4rem;top:7rem;position:fixed;z-index:9999}.progress-menu[_ngcontent-%COMP%]{position:fixed;top:26rem;transform:translateY(-50%);left:5.7rem;z-index:9999}.progress-menu__progress-bar[_ngcontent-%COMP%]{height:20rem;width:.25rem;background-color:#ffffff80;position:relative;margin:0 auto;z-index:9999}.progress-menu__progress-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background-color:#fff;height:0%;width:3px;z-index:9999}.progress-menu__links[_ngcontent-%COMP%]{z-index:9999}.progress-menu__links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;color:#fff;text-decoration:none;font-family:Montserrat,sans-serif;font-weight:600;font-size:15px;text-transform:uppercase;padding:25px 0;margin:0 auto;background-color:transparent;cursor:var(--hashiOpenSVG) 0 46,pointer;border:0;z-index:9999}.progress-menu__links[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{cursor:var(--hashiCloseSVG) 0 46,pointer}"]}),n})();const HS=document.documentElement.clientHeight;let jS=(()=>{class n{constructor(e,r){this.el=e,this.builder=r,this.posicoes=[]}ngAfterViewInit(){const e=this.el.nativeElement.children.length;this.el.nativeElement.style.height=86.5*e+"px";for(let o=0;o<e;o++){let m=86.5*o-HS*((80+e)/(HS/e));m<-86.5*e/2+6.5&&(m+=86.5*e),m>86.5*e/2+6.5&&(m-=86.5*e);const E=Math.abs(m)/(86.5*e/2);let D="";E<=.1?(D="#ff75ff",this.el.nativeElement.children[o].classList.add("menu__links-highlight")):(D=`rgba(255, 255, 255, ${1-E})`,this.el.nativeElement.children[o].classList.remove("menu__links-highlight")),m=Math.round(m),this.el.nativeElement.children[o].style.top=m+"px",this.el.nativeElement.children[o].style.color=D,this.posicoes.push({top:m+"px",color:D})}}onMouseClick(){const e=Array.from(this.el.nativeElement.children).filter(c=>Array.from(c.classList).includes("menu__links-highlight"))[0],r=this.getIndexItemMenu(e);if(0===r)return;const o=this.posicoes.length-r;for(let c=0;c<this.posicoes.length;c++){const m=this.getIndexItemMenu(this.el.nativeElement.children[c])+o;let E=m;m>=this.posicoes.length&&(E=m-this.posicoes.length),this.builder.build(this.fadeIn(this.posicoes[E].top,this.posicoes[E].color)).create(this.el.nativeElement.children[c]).play(),this.el.nativeElement.children[c].style.top=this.posicoes[E].top,this.el.nativeElement.children[c].style.color=this.posicoes[E].color}}getIndexItemMenu(e){return this.posicoes.findIndex(r=>r.top===e.style.top)}fadeIn(e,r){return[en("500ms ease-out",bt({color:r,top:e}))]}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Il))},n.\u0275dir=l.lG2({type:n,selectors:[["","list-reorder",""]],hostBindings:function(e,r){1&e&&l.NdJ("click",function(){return r.onMouseClick()})}}),n})();const Rx=["menu"],Nx=function(n){return{"menu__links-highlight":n}};function kx(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"a",6),l.NdJ("click",function(){const c=l.CHM(e).$implicit;return l.oxw().menuItemClick(c)}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit;l.Q6J("ngClass",l.VKq(3,Nx,e.selected))("id","menu_link_"+e.section),l.xp6(1),l.hij("",e.label," ")}}let $S=(()=>{class n{constructor(e,r,o,c,h){this.viewportScroller=e,this.ref=r,this.popup=o,this.scrollRouter=c,this.dom=h,this.menuItems=[],this.menuItemSelected=!1,this.triggering=!1}menuItemClick(e){this.scrollRouter.enabled()&&this.scrollRouter.disable(),this.popup.hide(),this.setActiveItem(e),this.scrollToSection(e.section),this.changeOpacityFooter(e.section),this.triggerAnimation(),setTimeout(()=>{this.scrollRouter.enabled()||this.scrollRouter.enable(),this.ref.detectChanges()},1e3),this.ref.detectChanges()}enableMenuClick(){this.scrollRouter.scrolledOrigin=!1}changeOpacityFooter(e){const r=document.getElementById("footer"),o=document.getElementById("footer-click");r&&(r.style.opacity="1",r.style.transition="1s","contact"===e&&(r.style.opacity="0.2",r.style.transition="1s")),o&&(o.style.zIndex="9999999999","contact"===e&&(o.style.zIndex="1"))}scrollToSection(e){this.scrollRouter.scrolledOrigin||(this.scrollRouter.scrolledOrigin=!1,this.viewportScroller.scrollToAnchor(e+"_"+this.dom.scrolledTimes)),history.pushState("","","#/"+e)}setActiveItem(e){this.menuItems.map(r=>r.selected=!1),e.selected=!0}triggerAnimation(){this.menuItemSelected=!1,setTimeout(()=>{this.menuItemSelected=!0},100)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ao),l.Y36(l.sBO),l.Y36(Kg),l.Y36(cs),l.Y36(wf))},n.\u0275cmp=l.Xpm({type:n,selectors:[["menu-infinite-scroll"]],viewQuery:function(e,r){if(1&e&&l.Gf(Rx,5),2&e){let o;l.iGM(o=l.CRH())&&(r.menu=o.first)}},inputs:{menuItems:"menuItems"},decls:6,vars:2,consts:[["id","menu","content","menu",1,"menu",3,"mouseenter"],[1,"menu__links"],["id","menu-items","list-reorder",""],["menu",""],[3,"ngClass","id","click",4,"ngFor","ngForOf"],[1,"menu__links-selector"],[3,"ngClass","id","click"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.NdJ("mouseenter",function(){return r.enableMenuClick()}),l.TgZ(1,"div",1)(2,"div",2,3),l.YNc(4,kx,2,5,"a",4),l.qZA(),l._UZ(5,"div",5),l.qZA()()),2&e&&(l.xp6(2),l.Q6J("@circularMenu",r.menuItemSelected),l.xp6(2),l.Q6J("ngForOf",r.menuItems))},directives:[jS,Rn,Ai],styles:['.menu[_ngcontent-%COMP%]{position:fixed;top:50%;transform:translateY(-50%);right:75px;text-align:center;z-index:9999999999;cursor:var(--hashiOpenSVG) 0 46,pointer}.menu__links[_ngcontent-%COMP%]{z-index:9999999999;position:relative;width:140px;height:40px}.menu__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;color:#fff;text-decoration:none;font-family:Montserrat,sans-serif;font-weight:600;font-size:15px;text-transform:uppercase;position:absolute;width:140px;text-align:center;z-index:9999}.menu__links[_ngcontent-%COMP%]   a.menu__links-highlight[_ngcontent-%COMP%]:after{content:attr(content);position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);z-index:4;color:#ff75ff;mix-blend-mode:lighten;z-index:9999}.menu__links-selector[_ngcontent-%COMP%]{border:1px solid white;border-radius:10px;width:140px;height:34px;content:"";position:absolute;left:50%;top:0;transform:translate(-50%,-10px);background-color:transparent}'],data:{animation:[Ew]}}),n})();function Fx(n,t){if(1&n&&(l.TgZ(0,"div",3),l._UZ(1,"section-host",4),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("scroll",e.scrollTimes)}}let WS=(()=>{class n{constructor(e){this.scrollRouter=e,this.scrollTimes=0,this.showLoader=!0,this.menuItems=[{label:"WHY",section:"why"},{label:"VALUES",section:"values"},{label:"HOW",section:"how"},{label:"WHAT",section:"what"},{label:"PACKAGES",section:"packages"},{label:"CONTACT",section:"contact"},{label:"LIFE IS",section:"life-is"}]}ngOnInit(){this.initRouteChange(),setTimeout(()=>{this.showLoader=!1},2e3)}initRouteChange(){window.location.hash.replace("#/","")&&history.pushState("","","#/why"),this.scrollRouter.enable()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(cs))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:7,vars:5,consts:[[3,"timeoutshow","menuItems"],["class","container-sections","id","container-section",4,"ngIf"],["id","footer-click","href","mailto:hi@peckdish.com",1,"link-mail-footer"],["id","container-section",1,"container-sections"],[3,"scroll"]],template:function(e,r){1&e&&(l._UZ(0,"app-loader")(1,"lettering-color")(2,"popup-values")(3,"left-scroll-nav")(4,"menu-infinite-scroll",0),l.YNc(5,Fx,2,1,"div",1),l._UZ(6,"a",2)),2&e&&(l.xp6(4),l.Udp("display","none"),l.Q6J("timeoutshow",3e3)("menuItems",r.menuItems),l.xp6(1),l.Q6J("ngIf",!r.showLoader))},directives:[Sf,Cw,_v,Ox,$S,Tf,ln,cD],styles:[".container-sections[_ngcontent-%COMP%]{padding:0 15rem}.link-mail-footer[_ngcontent-%COMP%]{height:5vw;bottom:2vw;width:20%;position:fixed;z-index:999999999;left:40%}"]}),n})(),sP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[],imports:[[]]}),n})();var oP=P(9672);function KS(n,t,e){n?(0,oP.f)(e,n,t):t()}function Py(n,t){const e=(0,ni.m)(n)?n:()=>n,r=o=>o.error(e());return new Ci.y(t?o=>t.schedule(r,0,o):r)}var FC=P(8189);function Oy(...n){return function uP(){return(0,FC.J)(1)}()((0,tr.D)(n,(0,Ul.yG)(n)))}function LC(n){return new Ci.y(t=>{(0,Za.Xf)(n()).subscribe(t)})}var pg=P(515);function td(n){return(0,wn.e)((t,e)=>{let c,r=null,o=!1;r=t.subscribe((0,or.x)(e,void 0,void 0,h=>{c=(0,Za.Xf)(n(h,td(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(e))})}var Gr=P(5577);function Ry(n,t){return(0,ni.m)(t)?(0,Gr.z)(n,t,1):(0,Gr.z)(n,1)}function hD(n){return n<=0?()=>pg.E:(0,wn.e)((t,e)=>{let r=[];t.subscribe((0,or.x)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}var Cs=P(8505);class Su{constructor(t,e){this.id=t,this.url=e}}class fD extends Su{constructor(t,e,r="imperative",o=null){super(t,e),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ny extends Su{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class QS extends Su{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class fP extends Su{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class pP extends Su{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gP extends Su{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mP extends Su{constructor(t,e,r,o,c){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _P extends Su{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yP extends Su{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JS{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class XS{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vP{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EP{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CP{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wP{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eA{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const $t="primary";class bP{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function gg(n){return new bP(n)}const tA="ngNavigationCancelingError";function pD(n){const t=Error("NavigationCancelingError: "+n);return t[tA]=!0,t}function DP(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const h=r[c],m=n[c];if(h.startsWith(":"))o[h.substring(1)]=m;else if(h!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function fl(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let c=0;c<e.length;c++)if(o=e[c],!nA(n[o],t[o]))return!1;return!0}function nA(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,c)=>r[c]===o)}return n===t}function rA(n){return Array.prototype.concat.apply([],n)}function iA(n){return n.length>0?n[n.length-1]:null}function ci(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function pl(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,tr.D)(Promise.resolve(n)):gt(n)}const AP={exact:function aA(n,t,e){if(!Rh(n.segments,t.segments)||!VC(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!aA(n.children[r],t.children[r],e))return!1;return!0},subset:lA},sA={exact:function MP(n,t){return fl(n,t)},subset:function xP(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>nA(n[e],t[e]))},ignored:()=>!0};function oA(n,t,e){return AP[e.paths](n.root,t.root,e.matrixParams)&&sA[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function lA(n,t,e){return uA(n,t,t.segments,e)}function uA(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!Rh(o,e)||t.hasChildren()||!VC(o,e,r))}if(n.segments.length===e.length){if(!Rh(n.segments,e)||!VC(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!lA(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Rh(n.segments,o)&&VC(n.segments,o,r)&&n.children[$t])&&uA(n.children[$t],t,c,r)}}function VC(n,t,e){return t.every((r,o)=>sA[e](n[o].parameters,r.parameters))}class Oh{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gg(this.queryParams)),this._queryParamMap}toString(){return RP.serialize(this)}}class Zt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ci(e,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return BC(this)}}class ky{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=gg(this.parameters)),this._parameterMap}toString(){return pA(this)}}function Rh(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class cA{}class dA{parse(t){const e=new jP(t);return new Oh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Fy(t.root,!0)}`,r=function FP(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(o=>`${UC(e)}=${UC(o)}`).join("&"):`${UC(e)}=${UC(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function NP(n){return encodeURI(n)}(t.fragment)}`:""}`}}const RP=new dA;function BC(n){return n.segments.map(t=>pA(t)).join("/")}function Fy(n,t){if(!n.hasChildren())return BC(n);if(t){const e=n.children[$t]?Fy(n.children[$t],!1):"",r=[];return ci(n.children,(o,c)=>{c!==$t&&r.push(`${c}:${Fy(o,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function OP(n,t){let e=[];return ci(n.children,(r,o)=>{o===$t&&(e=e.concat(t(r,o)))}),ci(n.children,(r,o)=>{o!==$t&&(e=e.concat(t(r,o)))}),e}(n,(r,o)=>o===$t?[Fy(n.children[$t],!1)]:[`${o}:${Fy(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[$t]?`${BC(n)}/${e[0]}`:`${BC(n)}/(${e.join("//")})`}}function hA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function UC(n){return hA(n).replace(/%3B/gi,";")}function gD(n){return hA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function HC(n){return decodeURIComponent(n)}function fA(n){return HC(n.replace(/\+/g,"%20"))}function pA(n){return`${gD(n.path)}${function kP(n){return Object.keys(n).map(t=>`;${gD(t)}=${gD(n[t])}`).join("")}(n.parameters)}`}const LP=/^[^\/()?;=#]+/;function jC(n){const t=n.match(LP);return t?t[0]:""}const VP=/^[^=?&#]+/,UP=/^[^&#]+/;class jP{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[$t]=new Zt(t,e)),r}parseSegment(){const t=jC(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ky(HC(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=jC(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=jC(this.remaining);o&&(r=o,this.capture(r))}t[HC(e)]=HC(r)}parseQueryParam(t){const e=function BP(n){const t=n.match(VP);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const h=function HP(n){const t=n.match(UP);return t?t[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=fA(e),c=fA(r);if(t.hasOwnProperty(o)){let h=t[o];Array.isArray(h)||(h=[h],t[o]=h),h.push(c)}else t[o]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=jC(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=$t);const h=this.parseChildren();e[c]=1===Object.keys(h).length?h[$t]:new Zt([],h),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class gA{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=mD(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=mD(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_D(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return _D(t,this._root).map(e=>e.value)}}function mD(n,t){if(n===t.value)return t;for(const e of t.children){const r=mD(n,e);if(r)return r}return null}function _D(n,t){if(n===t.value)return[t];for(const e of t.children){const r=_D(n,e);if(r.length)return r.unshift(t),r}return[]}class Au{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function mg(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class mA extends gA{constructor(t,e){super(t),this.snapshot=e,yD(this,t)}toString(){return this.snapshot.toString()}}function _A(n,t){const e=function $P(n,t){const h=new $C([],{},{},"",{},$t,t,null,n.root,-1,{});return new vA("",new Au(h,[]))}(n,t),r=new ri([new ky("",{})]),o=new ri({}),c=new ri({}),h=new ri({}),m=new ri(""),E=new _g(r,o,h,m,c,$t,t,e.root);return E.snapshot=e.root,new mA(new Au(E,[]),e)}class _g{constructor(t,e,r,o,c,h,m,E){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=m,this._futureSnapshot=E}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ht.U)(t=>gg(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ht.U)(t=>gg(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yA(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const o=e[r],c=e[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function WP(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class $C{constructor(t,e,r,o,c,h,m,E,D,O,R){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=m,this.routeConfig=E,this._urlSegment=D,this._lastPathIndex=O,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gg(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gg(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vA extends gA{constructor(t,e){super(e),this.url=t,yD(this,e)}toString(){return EA(this._root)}}function yD(n,t){t.value._routerState=n,t.children.forEach(e=>yD(n,e))}function EA(n){const t=n.children.length>0?` { ${n.children.map(EA).join(", ")} } `:"";return`${n.value}${t}`}function vD(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,fl(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),fl(t.params,e.params)||n.params.next(e.params),function IP(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!fl(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),fl(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ED(n,t){const e=fl(n.params,t.params)&&function PP(n,t){return Rh(n,t)&&n.every((e,r)=>fl(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ED(n.parent,t.parent))}function Ly(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function zP(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return Ly(n,r,o);return Ly(n,r)})}(n,t,e);return new Au(r,o)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=t.value,h.children=t.children.map(m=>Ly(n,m)),h}}const r=function ZP(n){return new _g(new ri(n.url),new ri(n.params),new ri(n.queryParams),new ri(n.fragment),new ri(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(c=>Ly(n,c));return new Au(r,o)}}function WC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Vy(n){return"object"==typeof n&&null!=n&&n.outlets}function CD(n,t,e,r,o){let c={};if(r&&ci(r,(m,E)=>{c[E]=Array.isArray(m)?m.map(D=>`${D}`):`${m}`}),n===t)return new Oh(e,c,o);const h=CA(n,t,e);return new Oh(h,c,o)}function CA(n,t,e){const r={};return ci(n.children,(o,c)=>{r[c]=o===t?e:CA(o,t,e)}),new Zt(n.segments,r)}class wA{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&WC(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(Vy);if(o&&o!==iA(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wD{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function bA(n,t,e){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return GC(n,t,e);const r=function XP(n,t,e){let r=0,o=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return c;const h=n.segments[o],m=e[r];if(Vy(m))break;const E=`${m}`,D=r<e.length-1?e[r+1]:null;if(o>0&&void 0===E)break;if(E&&D&&"object"==typeof D&&void 0===D.outlets){if(!DA(E,D,h))return c;r+=2}else{if(!DA(E,{},h))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Zt(n.segments.slice(0,r.pathIndex),{});return c.children[$t]=new Zt(n.segments.slice(r.pathIndex),n.children),GC(c,0,o)}return r.match&&0===o.length?new Zt(n.segments,{}):r.match&&!n.hasChildren()?bD(n,t,e):r.match?GC(n,0,o):bD(n,t,e)}function GC(n,t,e){if(0===e.length)return new Zt(n.segments,{});{const r=function JP(n){return Vy(n[0])?n[0].outlets:{[$t]:n}}(e),o={};return ci(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[h]=bA(n.children[h],t,c))}),ci(n.children,(c,h)=>{void 0===r[h]&&(o[h]=c)}),new Zt(n.segments,o)}}function bD(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const c=e[o];if(Vy(c)){const E=eO(c.outlets);return new Zt(r,E)}if(0===o&&WC(e[0])){r.push(new ky(n.segments[t].path,TA(e[0]))),o++;continue}const h=Vy(c)?c.outlets[$t]:`${c}`,m=o<e.length-1?e[o+1]:null;h&&m&&WC(m)?(r.push(new ky(h,TA(m))),o+=2):(r.push(new ky(h,{})),o++)}return new Zt(r,{})}function eO(n){const t={};return ci(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=bD(new Zt([],{}),0,e))}),t}function TA(n){const t={};return ci(n,(e,r)=>t[r]=`${e}`),t}function DA(n,t,e){return n==e.path&&fl(t,e.parameters)}class nO{constructor(t,e,r,o){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),vD(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=mg(e);t.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,o[h],r),delete o[h]}),ci(o,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(o===c)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(t,e,h.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=mg(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);if(r&&r.outlet){const h=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:h,route:t,contexts:m})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=mg(t);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const o=mg(e);t.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new wP(c.value.snapshot))}),t.children.length&&this.forwardEvent(new EP(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(vD(o),o===c)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,h.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const m=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(m.contexts),h.attachRef=m.componentRef,h.route=m.route.value,h.outlet&&h.outlet.attach(m.componentRef,m.route.value),vD(m.route.value),this.activateChildRoutes(t,null,h.children)}else{const m=function rO(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(o.snapshot),E=m?m.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=E,h.outlet&&h.outlet.activateWith(o,E),this.activateChildRoutes(t,null,h.children)}}else this.activateChildRoutes(t,null,r)}}class TD{constructor(t,e){this.routes=t,this.module=e}}function nd(n){return"function"==typeof n}function Nh(n){return n instanceof Oh}const By=Symbol("INITIAL_VALUE");function Uy(){return nr(n=>function aP(...n){const t=(0,Ul.yG)(n),e=(0,Ul.jO)(n),{args:r,keys:o}=Mw(n);if(0===r.length)return(0,tr.D)([],t);const c=new Ci.y(function lP(n,t,e=Dc.y){return r=>{KS(t,()=>{const{length:o}=n,c=new Array(o);let h=o,m=o;for(let E=0;E<o;E++)KS(t,()=>{const D=(0,tr.D)(n[E],t);let O=!1;D.subscribe((0,or.x)(r,R=>{c[E]=R,O||(O=!0,m--),m||r.next(e(c.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,t,o?h=>da(o,h):Dc.y));return e?c.pipe(Rv(e)):c}(n.map(t=>t.pipe((0,Mo.q)(1),function cP(...n){const t=(0,Ul.yG)(n);return(0,wn.e)((e,r)=>{(t?Oy(n,e,t):Oy(n,e)).subscribe(r)})}(By)))).pipe(Zd((t,e)=>{let r=!1;return e.reduce((o,c,h)=>o!==By?o:(c===By&&(r=!0),r||!1!==c&&h!==e.length-1&&!Nh(c)?o:c),t)},By),Es(t=>t!==By),(0,ht.U)(t=>Nh(t)?t:!0===t),(0,Mo.q)(1)))}class uO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Hy,this.attachRef=null}}class Hy{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new uO,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let IA=(()=>{class n{constructor(e,r,o,c,h){this.parentContexts=e,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=c||$t,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const h=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,E=new cO(e,m,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,E),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Hy),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class cO{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===_g?this.route:t===Hy?this.childContexts:this.parent.get(t,e)}}let SA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&l._UZ(0,"router-outlet")},directives:[IA],encapsulation:2}),n})();function AA(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];dO(r,hO(t,r))}}function dO(n,t){n.children&&AA(n.children,t)}function hO(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function DD(n){const t=n.children&&n.children.map(DD),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==$t&&(e.component=SA),e}function xo(n){return n.outlet||$t}function MA(n,t){const e=n.filter(r=>xo(r)===t);return e.push(...n.filter(r=>xo(r)!==t)),e}const xA={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zC(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},xA):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const c=(t.matcher||DP)(e,n,t);if(!c)return Object.assign({},xA);const h={};ci(c.posParams,(E,D)=>{h[D]=E.path});const m=c.consumed.length>0?Object.assign(Object.assign({},h),c.consumed[c.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:c.consumed,remainingSegments:e.slice(c.consumed.length),parameters:m,positionalParamSegments:null!==(r=c.posParams)&&void 0!==r?r:{}}}function ZC(n,t,e,r,o="corrected"){if(e.length>0&&function gO(n,t,e){return e.some(r=>qC(n,t,r)&&xo(r)!==$t)}(n,e,r)){const h=new Zt(t,function pO(n,t,e,r){const o={};o[$t]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&xo(c)!==$t){const h=new Zt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[xo(c)]=h}return o}(n,t,r,new Zt(e,n.children)));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:[]}}if(0===e.length&&function mO(n,t,e){return e.some(r=>qC(n,t,r))}(n,e,r)){const h=new Zt(n.segments,function fO(n,t,e,r,o,c){const h={};for(const m of r)if(qC(n,e,m)&&!o[xo(m)]){const E=new Zt([],{});E._sourceSegment=n,E._segmentIndexShift="legacy"===c?n.segments.length:t.length,h[xo(m)]=E}return Object.assign(Object.assign({},o),h)}(n,t,e,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=t.length,{segmentGroup:h,slicedSegments:e}}const c=new Zt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function qC(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function PA(n,t,e,r){return!!(xo(n)===r||r!==$t&&qC(t,e,n))&&("**"===n.path||zC(t,n,e).matched)}function OA(n,t,e){return 0===t.length&&!n.children[e]}class YC{constructor(t){this.segmentGroup=t||null}}class RA{constructor(t){this.urlTree=t}}function jy(n){return Py(new YC(n))}function NA(n){return Py(new RA(n))}class EO{constructor(t,e,r,o,c){this.configLoader=e,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=ZC(this.urlTree.root,[],[],this.config).segmentGroup,e=new Zt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,$t).pipe((0,ht.U)(c=>this.createUrlTree(ID(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(td(c=>{if(c instanceof RA)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof YC?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,$t).pipe((0,ht.U)(o=>this.createUrlTree(ID(o),t.queryParams,t.fragment))).pipe(td(o=>{throw o instanceof YC?this.noMatchError(o):o}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const o=t.segments.length>0?new Zt([],{[$t]:t}):t;return new Oh(o,e,r)}expandSegmentGroup(t,e,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,ht.U)(c=>new Zt([],c))):this.expandSegment(t,r,e,r.segments,o,!0)}expandChildren(t,e,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,tr.D)(o).pipe(Ry(c=>{const h=r.children[c],m=MA(e,c);return this.expandSegmentGroup(t,m,h,c).pipe((0,ht.U)(E=>({segment:E,outlet:c})))}),Zd((c,h)=>(c[h.outlet]=h.segment,c),{}),function dP(n,t){const e=arguments.length>=2;return r=>r.pipe(n?Es((o,c)=>n(o,c,r)):Dc.y,hD(1),e?SC(t):WT(()=>new Ey))}())}expandSegment(t,e,r,o,c,h){return(0,tr.D)(r).pipe(Ry(m=>this.expandSegmentAgainstRoute(t,e,r,m,o,c,h).pipe(td(D=>{if(D instanceof YC)return gt(null);throw D}))),Jc(m=>!!m),td((m,E)=>{if(m instanceof Ey||"EmptyError"===m.name)return OA(e,o,c)?gt(new Zt([],{})):jy(e);throw m}))}expandSegmentAgainstRoute(t,e,r,o,c,h,m){return PA(o,e,c,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(t,e,o,c,h):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h):jy(e):jy(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?NA(c):this.lineralizeSegments(r,c).pipe((0,Gr.z)(h=>{const m=new Zt(h,{});return this.expandSegment(t,m,e,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,o,c,h){const{matched:m,consumedSegments:E,remainingSegments:D,positionalParamSegments:O}=zC(e,o,c);if(!m)return jy(e);const R=this.applyRedirectCommands(E,o.redirectTo,O);return o.redirectTo.startsWith("/")?NA(R):this.lineralizeSegments(o,R).pipe((0,Gr.z)(Y=>this.expandSegment(t,e,r,Y.concat(D),h,!1)))}matchSegmentAgainstRoute(t,e,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?gt(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,ht.U)(R=>(r._loadedConfig=R,new Zt(o,{})))):gt(new Zt(o,{}));const{matched:h,consumedSegments:m,remainingSegments:E}=zC(e,r,o);return h?this.getChildConfig(t,r,o).pipe((0,Gr.z)(O=>{const R=O.module,Y=O.routes,{segmentGroup:re,slicedSegments:_e}=ZC(e,m,E,Y),Fe=new Zt(re.segments,re.children);if(0===_e.length&&Fe.hasChildren())return this.expandChildren(R,Y,Fe).pipe((0,ht.U)(cn=>new Zt(m,cn)));if(0===Y.length&&0===_e.length)return gt(new Zt(m,{}));const Je=xo(r)===c;return this.expandSegment(R,Fe,Y,_e,Je?$t:c,!0).pipe((0,ht.U)(It=>new Zt(m.concat(It.segments),It.children)))})):jy(e)}getChildConfig(t,e,r){return e.children?gt(new TD(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?gt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Gr.z)(o=>o?this.configLoader.load(t.injector,e).pipe((0,ht.U)(c=>(e._loadedConfig=c,c))):function yO(n){return Py(pD(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):gt(new TD([],t))}runCanLoadGuards(t,e,r){const o=e.canLoad;return o&&0!==o.length?gt(o.map(h=>{const m=t.get(h);let E;if(function sO(n){return n&&nd(n.canLoad)}(m))E=m.canLoad(e,r);else{if(!nd(m))throw new Error("Invalid CanLoad guard");E=m(e,r)}return pl(E)})).pipe(Uy(),(0,Cs.b)(h=>{if(!Nh(h))return;const m=pD(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw m.url=h,m}),(0,ht.U)(h=>!0===h)):gt(!0)}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return gt(r);if(o.numberOfChildren>1||!o.children[$t])return Py(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t.redirectTo}'`));o=o.children[$t]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,o){const c=this.createSegmentGroup(t,e.root,r,o);return new Oh(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ci(t,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const m=o.substring(1);r[c]=e[m]}else r[c]=o}),r}createSegmentGroup(t,e,r,o){const c=this.createSegments(t,e.segments,r,o);let h={};return ci(e.children,(m,E)=>{h[E]=this.createSegmentGroup(t,m,r,o)}),new Zt(c,h)}createSegments(t,e,r,o){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,o):this.findOrReturn(c,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}function ID(n){const t={};for(const r of Object.keys(n.children)){const c=ID(n.children[r]);(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function CO(n){if(1===n.numberOfChildren&&n.children[$t]){const t=n.children[$t];return new Zt(n.segments.concat(t.segments),t.children)}return n}(new Zt(n.segments,t))}class kA{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class KC{constructor(t,e){this.component=t,this.route=e}}function bO(n,t,e){const r=n._root;return $y(r,t?t._root:null,e,[r.value])}function QC(n,t,e){const r=function DO(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function $y(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=mg(t);return n.children.forEach(h=>{(function IO(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=t?t.value:null,m=e?e.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const E=function SO(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Rh(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Rh(n.url,t.url)||!fl(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ED(n,t)||!fl(n.queryParams,t.queryParams);default:return!ED(n,t)}}(h,c,c.routeConfig.runGuardsAndResolvers);E?o.canActivateChecks.push(new kA(r)):(c.data=h.data,c._resolvedData=h._resolvedData),$y(n,t,c.component?m?m.children:null:e,r,o),E&&m&&m.outlet&&m.outlet.isActivated&&o.canDeactivateChecks.push(new KC(m.outlet.component,h))}else h&&Wy(t,m,o),o.canActivateChecks.push(new kA(r)),$y(n,null,c.component?m?m.children:null:e,r,o)})(h,c[h.value.outlet],e,r.concat([h.value]),o),delete c[h.value.outlet]}),ci(c,(h,m)=>Wy(h,e.getContext(m),o)),o}function Wy(n,t,e){const r=mg(n),o=n.value;ci(r,(c,h)=>{Wy(c,o.component?t?t.children.getContext(h):null:t,e)}),e.canDeactivateChecks.push(new KC(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}class FO{}function FA(n){return new Ci.y(t=>t.error(n))}class VO{constructor(t,e,r,o,c,h){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const t=ZC(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,$t);if(null===e)return null;const r=new $C([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},$t,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Au(r,e),c=new vA(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,r=yA(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const c of Object.keys(e.children)){const h=e.children[c],m=MA(t,c),E=this.processSegmentGroup(m,h,c);if(null===E)return null;r.push(...E)}const o=LA(r);return function BO(n){n.sort((t,e)=>t.value.outlet===$t?-1:e.value.outlet===$t?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}processSegment(t,e,r,o){for(const c of t){const h=this.processSegmentAgainstRoute(c,e,r,o);if(null!==h)return h}return OA(e,r,o)?[]:null}processSegmentAgainstRoute(t,e,r,o){if(t.redirectTo||!PA(t,e,r,o))return null;let c,h=[],m=[];if("**"===t.path){const re=r.length>0?iA(r).parameters:{};c=new $C(r,re,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UA(t),xo(t),t.component,t,VA(e),BA(e)+r.length,HA(t))}else{const re=zC(e,t,r);if(!re.matched)return null;h=re.consumedSegments,m=re.remainingSegments,c=new $C(h,re.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,UA(t),xo(t),t.component,t,VA(e),BA(e)+h.length,HA(t))}const E=function UO(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:D,slicedSegments:O}=ZC(e,h,m,E.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);if(0===O.length&&D.hasChildren()){const re=this.processChildren(E,D);return null===re?null:[new Au(c,re)]}if(0===E.length&&0===O.length)return[new Au(c,[])];const R=xo(t)===o,Y=this.processSegment(E,D,O,R?$t:o);return null===Y?null:[new Au(c,Y)]}}function HO(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function LA(n){const t=[],e=new Set;for(const r of n){if(!HO(r)){t.push(r);continue}const o=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=LA(r.children);t.push(new Au(r.value,o))}return t.filter(r=>!e.has(r))}function VA(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function BA(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function UA(n){return n.data||{}}function HA(n){return n.resolve||{}}function jA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function SD(n){return nr(t=>{const e=n(t);return e?(0,tr.D)(e).pipe((0,ht.U)(()=>t)):gt(t)})}class YO extends class qO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const AD=new l.OlP("ROUTES");class $A{constructor(t,e,r,o){this.injector=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=o}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const o=this.loadModuleFactory(e.loadChildren).pipe((0,ht.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const h=c.create(t);return new TD(rA(h.injector.get(AD,void 0,l.XFs.Self|l.XFs.Optional)).map(DD),h)}),td(c=>{throw e._loader$=void 0,c}));return e._loader$=new lv(o,()=>new Ar.x).pipe(Pd()),e._loader$}loadModuleFactory(t){return pl(t()).pipe((0,Gr.z)(e=>e instanceof l.YKP?gt(e):(0,tr.D)(this.compiler.compileModuleAsync(e))))}}class QO{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function JO(n){throw n}function XO(n,t,e){return t.parse("/")}function WA(n,t){return gt(null)}const eR={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tR={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xs=(()=>{class n{constructor(e,r,o,c,h,m,E){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ar.x,this.errorHandler=JO,this.malformedUriErrorHandler=XO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:WA,afterPreactivation:WA},this.urlHandlingStrategy=new QO,this.routeReuseStrategy=new YO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(l.h0i),this.console=h.get(l.c2e);const R=h.get(l.R0b);this.isNgZoneEnabled=R instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=function SP(){return new Oh(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $A(h,m,Y=>this.triggerEvent(new JS(Y)),Y=>this.triggerEvent(new XS(Y))),this.routerState=_A(this.currentUrlTree,this.rootComponentType),this.transitions=new ri({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(Es(o=>0!==o.id),(0,ht.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),nr(o=>{let c=!1,h=!1;return gt(o).pipe((0,Cs.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),nr(m=>{const E=this.browserUrlTree.toString(),D=!this.navigated||m.extractedUrl.toString()!==E||E!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return GA(m.source)&&(this.browserUrlTree=m.extractedUrl),gt(m).pipe(nr(R=>{const Y=this.transitions.getValue();return r.next(new fD(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),Y!==this.transitions.getValue()?pg.E:Promise.resolve(R)}),function wO(n,t,e,r){return nr(o=>function vO(n,t,e,r,o){return new EO(n,t,e,r,o).apply()}(n,t,e,o.extractedUrl,r).pipe((0,ht.U)(c=>Object.assign(Object.assign({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Cs.b)(R=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function jO(n,t,e,r,o){return(0,Gr.z)(c=>function LO(n,t,e,r,o="emptyOnly",c="legacy"){try{const h=new VO(n,t,e,r,o,c).recognize();return null===h?FA(new FO):gt(h)}catch(h){return FA(h)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),r,o).pipe((0,ht.U)(h=>Object.assign(Object.assign({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Cs.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const re=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(re,R)}this.browserUrlTree=R.urlAfterRedirects}const Y=new pP(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(Y)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Y,extractedUrl:re,source:_e,restoredState:Fe,extras:Je}=m,Bt=new fD(Y,this.serializeUrl(re),_e,Fe);r.next(Bt);const It=_A(re,this.rootComponentType).snapshot;return gt(Object.assign(Object.assign({},m),{targetSnapshot:It,urlAfterRedirects:re,extras:Object.assign(Object.assign({},Je),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),pg.E}),SD(m=>{const{targetSnapshot:E,id:D,extractedUrl:O,rawUrl:R,extras:{skipLocationChange:Y,replaceUrl:re}}=m;return this.hooks.beforePreactivation(E,{navigationId:D,appliedUrlTree:O,rawUrlTree:R,skipLocationChange:!!Y,replaceUrl:!!re})}),(0,Cs.b)(m=>{const E=new gP(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(E)}),(0,ht.U)(m=>Object.assign(Object.assign({},m),{guards:bO(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function AO(n,t){return(0,Gr.z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:h}}=e;return 0===h.length&&0===c.length?gt(Object.assign(Object.assign({},e),{guardsResult:!0})):function MO(n,t,e,r){return(0,tr.D)(n).pipe((0,Gr.z)(o=>function kO(n,t,e,r,o){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?gt(c.map(m=>{const E=QC(m,t,o);let D;if(function lO(n){return n&&nd(n.canDeactivate)}(E))D=pl(E.canDeactivate(n,t,e,r));else{if(!nd(E))throw new Error("Invalid CanDeactivate guard");D=pl(E(n,t,e,r))}return D.pipe(Jc())})).pipe(Uy()):gt(!0)}(o.component,o.route,e,t,r)),Jc(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Gr.z)(m=>m&&function iO(n){return"boolean"==typeof n}(m)?function xO(n,t,e,r){return(0,tr.D)(t).pipe(Ry(o=>Oy(function OO(n,t){return null!==n&&t&&t(new vP(n)),gt(!0)}(o.route.parent,r),function PO(n,t){return null!==n&&t&&t(new CP(n)),gt(!0)}(o.route,r),function NO(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(h=>function TO(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(h)).filter(h=>null!==h).map(h=>LC(()=>gt(h.guards.map(E=>{const D=QC(E,h.node,e);let O;if(function aO(n){return n&&nd(n.canActivateChild)}(D))O=pl(D.canActivateChild(r,n));else{if(!nd(D))throw new Error("Invalid CanActivateChild guard");O=pl(D(r,n))}return O.pipe(Jc())})).pipe(Uy())));return gt(c).pipe(Uy())}(n,o.path,e),function RO(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return gt(!0);const o=r.map(c=>LC(()=>{const h=QC(c,t,e);let m;if(function oO(n){return n&&nd(n.canActivate)}(h))m=pl(h.canActivate(t,n));else{if(!nd(h))throw new Error("Invalid CanActivate guard");m=pl(h(t,n))}return m.pipe(Jc())}));return gt(o).pipe(Uy())}(n,o.route,e))),Jc(o=>!0!==o,!0))}(r,c,n,t):gt(m)),(0,ht.U)(m=>Object.assign(Object.assign({},e),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Cs.b)(m=>{if(Nh(m.guardsResult)){const D=pD(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw D.url=m.guardsResult,D}const E=new mP(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(E)}),Es(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),SD(m=>{if(m.guards.canActivateChecks.length)return gt(m).pipe((0,Cs.b)(E=>{const D=new _P(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}),nr(E=>{let D=!1;return gt(E).pipe(function $O(n,t){return(0,Gr.z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return gt(e);let c=0;return(0,tr.D)(o).pipe(Ry(h=>function WO(n,t,e,r){return function GO(n,t,e,r){const o=jA(n);if(0===o.length)return gt({});const c={};return(0,tr.D)(o).pipe((0,Gr.z)(h=>function zO(n,t,e,r){const o=QC(n,t,r);return pl(o.resolve?o.resolve(t,e):o(t,e))}(n[h],t,e,r).pipe((0,Cs.b)(m=>{c[h]=m}))),hD(1),(0,Gr.z)(()=>jA(c).length===o.length?gt(c):pg.E))}(n._resolve,n,t,r).pipe((0,ht.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),yA(n,e).resolve),null)))}(h.route,r,n,t)),(0,Cs.b)(()=>c++),hD(1),(0,Gr.z)(h=>c===o.length?gt(e):pg.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Cs.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(E),this.cancelNavigationTransition(E,"At least one route resolver didn't emit any value."))}}))}),(0,Cs.b)(E=>{const D=new yP(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);this.triggerEvent(D)}))}),SD(m=>{const{targetSnapshot:E,id:D,extractedUrl:O,rawUrl:R,extras:{skipLocationChange:Y,replaceUrl:re}}=m;return this.hooks.afterPreactivation(E,{navigationId:D,appliedUrlTree:O,rawUrlTree:R,skipLocationChange:!!Y,replaceUrl:!!re})}),(0,ht.U)(m=>{const E=function GP(n,t,e){const r=Ly(n,t._root,e?e._root:void 0);return new mA(r,t)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:E})}),(0,Cs.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,t,e)=>(0,ht.U)(r=>(new nO(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Cs.b)({next(){c=!0},complete(){c=!0}}),function hP(n){return(0,wn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var m;c||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===o.id&&(this.currentNavigation=null)}),td(m=>{if(h=!0,function TP(n){return n&&n[tA]}(m)){const E=Nh(m.url);E||(this.navigated=!0,this.restoreHistory(o,!0));const D=new QS(o.id,this.serializeUrl(o.extractedUrl),m.message);r.next(D),E?setTimeout(()=>{const O=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||GA(o.source)};this.scheduleNavigation(O,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const E=new fP(o.id,this.serializeUrl(o.extractedUrl),m);r.next(E);try{o.resolve(this.errorHandler(m))}catch(D){o.reject(D)}}return pg.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r="popstate"===e.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const c={replaceUrl:!0},h=(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null;if(h){const E=Object.assign({},h);delete E.navigationId,delete E.\u0275routerPageId,0!==Object.keys(E).length&&(c.state=E)}const m=this.parseUrl(e.url);this.scheduleNavigation(m,r,h,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){AA(e),this.config=e.map(DD),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:o,queryParams:c,fragment:h,queryParamsHandling:m,preserveFragment:E}=r,D=o||this.routerState.root,O=E?this.currentUrlTree.fragment:h;let R=null;switch(m){case"merge":R=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function qP(n,t,e,r,o){if(0===e.length)return CD(t.root,t.root,t.root,r,o);const c=function YP(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new wA(!0,0,n);let t=0,e=!1;const r=n.reduce((o,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const m={};return ci(c.outlets,(E,D)=>{m[D]="string"==typeof E?E.split("/"):E}),[...o,{outlets:m}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===h?(c.split("/").forEach((m,E)=>{0==E&&"."===m||(0==E&&""===m?e=!0:".."===m?t++:""!=m&&o.push(m))}),o):[...o,c]},[]);return new wA(e,t,r)}(e);if(c.toRoot())return CD(t.root,t.root,new Zt([],{}),r,o);const h=function KP(n,t,e){if(n.isAbsolute)return new wD(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new wD(c,c===t.root,0)}const r=WC(n.commands[0])?0:1;return function QP(n,t,e){let r=n,o=t,c=e;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new wD(r,!1,o-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,t,n),m=h.processChildren?GC(h.segmentGroup,h.index,c.commands):bA(h.segmentGroup,h.index,c.commands);return CD(t.root,h.segmentGroup,m,r,o)}(D,this.currentUrlTree,e,R,null!=O?O:null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Nh(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function nR(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,e)}return r}isActive(e,r){let o;if(o=!0===r?Object.assign({},eR):!1===r?Object.assign({},tR):r,Nh(e))return oA(this.currentUrlTree,e,o);const c=this.parseUrl(e);return oA(this.currentUrlTree,c,o)}removeEmptyProps(e){return Object.keys(e).reduce((r,o)=>{const c=e[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ny(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,o,c,h){var m,E;if(this.disposed)return Promise.resolve(!1);let D,O,R;h?(D=h.resolve,O=h.reject,R=h.promise):R=new Promise((_e,Fe)=>{D=_e,O=Fe});const Y=++this.navigationId;let re;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),re=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(E=this.browserPageId)&&void 0!==E?E:0)+1):re=0,this.setTransition({id:Y,targetPageId:re,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:D,reject:O,promise:R,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),R.catch(_e=>Promise.reject(_e))}setBrowserUrl(e,r){const o=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(e,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===h&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const o=new QS(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function GA(n){return"imperative"!==n}class zA{}class ZA{preload(t,e){return gt(null)}}let qA=(()=>{class n{constructor(e,r,o,c){this.router=e,this.injector=o,this.preloadingStrategy=c,this.loader=new $A(o,r,E=>e.triggerEvent(new JS(E)),E=>e.triggerEvent(new XS(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Es(e=>e instanceof Ny),Ry(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(e,c)):c.children&&o.push(this.processRoutes(e,c.children));return(0,tr.D)(o).pipe((0,FC.J)(),(0,ht.U)(c=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?gt(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Gr.z)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Xs),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(zA))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),PD=(()=>{class n{constructor(e,r,o={}){this.router=e,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fD?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ny&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof eA&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new eA(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const kh=new l.OlP("ROUTER_CONFIGURATION"),YA=new l.OlP("ROUTER_FORROOT_GUARD"),oR=[Me,{provide:cA,useClass:dA},{provide:Xs,useFactory:function hR(n,t,e,r,o,c,h={},m,E){const D=new Xs(null,n,t,e,r,o,rA(c));return m&&(D.urlHandlingStrategy=m),E&&(D.routeReuseStrategy=E),function fR(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(h,D),h.enableTracing&&D.events.subscribe(O=>{var R,Y;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${O.constructor.name}`),console.log(O.toString()),console.log(O),null===(Y=console.groupEnd)||void 0===Y||Y.call(console)}),D},deps:[cA,Hy,Me,l.zs3,l.Sil,AD,kh,[class KO{},new l.FiY],[class ZO{},new l.FiY]]},Hy,{provide:_g,useFactory:function pR(n){return n.routerState.root},deps:[Xs]},qA,ZA,class sR{preload(t,e){return e().pipe(td(()=>gt(null)))}},{provide:kh,useValue:{enableTracing:!1}}];function aR(){return new l.PXZ("Router",Xs)}let lR=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[oR,KA(e),{provide:YA,useFactory:dR,deps:[[Xs,new l.FiY,new l.tp0]]},{provide:kh,useValue:r||{}},{provide:pe,useFactory:cR,deps:[ue,[new l.tBr(Ue),new l.FiY],kh]},{provide:PD,useFactory:uR,deps:[Xs,ao,kh]},{provide:zA,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:ZA},{provide:l.PXZ,multi:!0,useFactory:aR},[OD,{provide:l.ip1,multi:!0,useFactory:gR,deps:[OD]},{provide:QA,useFactory:mR,deps:[OD]},{provide:l.tb,multi:!0,useExisting:QA}]]}}static forChild(e){return{ngModule:n,providers:[KA(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(YA,8),l.LFG(Xs,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function uR(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new PD(n,t,e)}function cR(n,t,e={}){return e.useHash?new Ae(n,t):new Ve(n,t)}function dR(n){return"guarded"}function KA(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:AD,multi:!0,useValue:n}]}let OD=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ar.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(m=>r=m),c=this.injector.get(Xs),h=this.injector.get(kh);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?gt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(e){const r=this.injector.get(kh),o=this.injector.get(qA),c=this.injector.get(PD),h=this.injector.get(Xs),m=this.injector.get(l.z2F);e===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),c.init(),h.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function gR(n){return n.appInitializer.bind(n)}function mR(n){return n.bootstrapListener.bind(n)}const QA=new l.OlP("Router Initializer");var yR=P(1144);const vR=["addListener","removeListener"],ER=["addEventListener","removeEventListener"],CR=["on","off"];function Fh(n,t,e,r){if((0,ni.m)(e)&&(r=e,e=void 0),r)return Fh(n,t,e).pipe(Rv(r));const[o,c]=function TR(n){return(0,ni.m)(n.addEventListener)&&(0,ni.m)(n.removeEventListener)}(n)?ER.map(h=>m=>n[h](t,m,e)):function wR(n){return(0,ni.m)(n.addListener)&&(0,ni.m)(n.removeListener)}(n)?vR.map(JA(n,t)):function bR(n){return(0,ni.m)(n.on)&&(0,ni.m)(n.off)}(n)?CR.map(JA(n,t)):[];if(!o&&(0,yR.z)(n))return(0,Gr.z)(h=>Fh(h,t,e))((0,Za.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new Ci.y(h=>{const m=(...E)=>h.next(1<E.length?E:E[0]);return o(m),()=>c(m)})}function JA(n,t){return e=>r=>n[e](t,r)}const rd=new Ci.y(Hg.Z);function eM(n,t){return t?e=>Oy(t.pipe((0,Mo.q)(1),function PR(){return(0,wn.e)((n,t)=>{n.subscribe((0,or.x)(t,Hg.Z))})}()),e.pipe(eM(n))):(0,Gr.z)((e,r)=>n(e,r).pipe((0,Mo.q)(1),function OR(n){return(0,ht.U)(()=>n)}(e)))}var RR=P(3532);const Gy="Service workers are disabled or not supported by this browser";class JC{constructor(t){if(this.serviceWorker=t,t){const r=Fh(t,"controllerchange").pipe((0,ht.U)(()=>t.controller)),c=Oy(LC(()=>gt(t.controller)),r);this.worker=c.pipe(Es(O=>!!O)),this.registration=this.worker.pipe(nr(()=>t.getRegistration()));const D=Fh(t,"message").pipe((0,ht.U)(O=>O.data)).pipe(Es(O=>O&&O.type)).pipe(function xR(n){return n?t=>Bg(n)(t):t=>yf(new Ar.x)(t)}());D.connect(),this.events=D}else this.worker=this.events=this.registration=function LR(n){return LC(()=>Py(new Error(n)))}(Gy)}postMessage(t,e){return this.worker.pipe((0,Mo.q)(1),(0,Cs.b)(r=>{r.postMessage(Object.assign({action:t},e))})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){const o=this.waitForOperationCompleted(r),c=this.postMessage(t,e);return Promise.all([c,o]).then(([,h])=>h)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe(Es(e))}nextEventOfType(t){return this.eventsOfType(t).pipe((0,Mo.q)(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe(Es(e=>e.nonce===t),(0,Mo.q)(1),(0,ht.U)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let VR=(()=>{class n{constructor(e){if(this.sw=e,this.subscriptionChanges=new Ar.x,!e.isEnabled)return this.messages=rd,this.notificationClicks=rd,void(this.subscription=rd);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ht.U)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ht.U)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,ht.U)(o=>o.pushManager));const r=this.pushManager.pipe(nr(o=>o.getSubscription()));this.subscription=(0,zd.T)(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(e){if(!this.sw.isEnabled)return Promise.reject(new Error(Gy));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(o.length));for(let h=0;h<o.length;h++)c[h]=o.charCodeAt(h);return r.applicationServerKey=c,this.pushManager.pipe(nr(h=>h.subscribe(r)),(0,Mo.q)(1)).toPromise().then(h=>(this.subscriptionChanges.next(h),h))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,Mo.q)(1),nr(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Gy))}decodeBase64(e){return atob(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(JC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),BR=(()=>{class n{constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=rd,this.available=rd,this.activated=rd,void(this.unrecoverable=rd);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(Es(r=>"VERSION_READY"===r.type),(0,ht.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Gy));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Gy));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(JC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ND{}const tM=new l.OlP("NGSW_REGISTER_SCRIPT");function UR(n,t,e,r){return()=>{if(!qn(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;let c;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof e.registrationStrategy)c=e.registrationStrategy();else{const[m,...E]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(m){case"registerImmediately":c=gt(null);break;case"registerWithDelay":c=nM(+E[0]||0);break;case"registerWhenStable":c=E[0]?(0,zd.T)(rM(n),nM(+E[0])):rM(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}n.get(l.R0b).runOutsideAngular(()=>c.pipe((0,Mo.q)(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(m=>console.error("Service worker registration failed with:",m))))}}function nM(n){return gt(null).pipe(function FR(n,t=lp.z){const e=function kR(n=0,t,e=lp.P){let r=-1;return null!=t&&((0,RR.K)(t)?e=t:r=t),new Ci.y(o=>{let c=function NR(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let h=0;return e.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},c)})}(n,t);return eM(()=>e)}(n))}function rM(n){return n.get(l.z2F).isStable.pipe(Es(e=>e))}function HR(n,t){return new JC(qn(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let jR=(()=>{class n{static register(e,r={}){return{ngModule:n,providers:[{provide:tM,useValue:e},{provide:ND,useValue:r},{provide:JC,useFactory:HR,deps:[ND,l.Lbi]},{provide:l.ip1,useFactory:UR,deps:[l.zs3,tM,ND,l.Lbi],multi:!0}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VR,BR]}),n})();const kD_firebase={projectId:"peckdish-website",appId:"1:88631688457:web:f92c2867029e75026aa7d8",databaseURL:"https://peckdish-website-default-rtdb.firebaseio.com",storageBucket:"peckdish-website.appspot.com",apiKey:"AIzaSyB38CCGm9XVR6D7IDWV0tW0oi0n151vYXg",authDomain:"peckdish-website.firebaseapp.com",messagingSenderId:"88631688457",measurementId:"G-C2ZQLGX12E"};P(6457);class sM{constructor(){return(0,ar.vb)("auth")}}class VD{constructor(t){return t}}const oM="database",BD=new l.OlP("angularfire2.database-instances");function qR(n){return(t,e)=>{const r=t.runOutsideAngular(()=>n(e));return new VD(r)}}const YR={provide:class zR{constructor(){return(0,ar.vb)(oM)}},deps:[[new l.FiY,BD]]},KR={provide:VD,useFactory:function ZR(n,t){const e=(0,ar.JM)(oM,n,t);return e&&new VD(e)},deps:[[new l.FiY,BD],class a{constructor(t){return t}}]};let QR=(()=>{class n{constructor(){(0,s.KN)("angularfire",ar.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[KR,YR]}),n})();function JR(n,...t){return{ngModule:QR,providers:[{provide:BD,useFactory:qR(n),multi:!0,deps:[l.R0b,l.zs3,ar.HU,u,[new l.FiY,sM],[new l.FiY,NC],...t]}]}}const XR=(0,ar.u3)(VT,!0);function eN(){return P.e(456).then(P.t.bind(P,4487,23))}let tN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[WS]}),n.\u0275inj=l.cJS({providers:[{provide:pe,useClass:Ae},wf],imports:[[Sa,pw,m0,Fm,sP,Cf.forRoot({player:eN,useCache:!0}),lR.forRoot([{path:"why",component:Qg},{path:"values",component:Of},{path:"how",component:Av},{path:"what",component:sm},{path:"packages",component:Ov},{path:"contact",component:lD},{path:"life-is",component:uD},{path:"",component:Sf}],{anchorScrolling:"enabled"}),jR.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),Gs.hO.initializeApp(kD_firebase),JR(()=>XR())]]}),n})();(0,l.G48)(),zu().bootstrapModule(tN).catch(n=>console.error(n))},5867:(Ge,ye,P)=>{P.d(ye,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp});var l=P(9681);(0,l.registerVersion)("firebase","9.9.1","app")},127:(Ge,ye,P)=>{P.d(ye,{Z:()=>l.Z});var l=P(3942);l.Z.registerVersion("firebase","9.9.1","app-compat")},5881:(Ge,ye,P)=>{P.r(ye);var l=P(5861),V=P(3942),x=P(6457),oe=P(2090),fe=(P(9681),P(1877),P(4859));function ue(){return window}function $(){return($=(0,l.Z)(function*(J,K,q){var we;const{BuildInfo:$e}=ue();(0,x.aq)(K.sessionId,"AuthEvent did not contain a session ID");const Ke=yield Ce(K.sessionId),ft={};return(0,x.ar)()?ft.ibi=$e.packageName:(0,x.as)()?ft.apn=$e.packageName:(0,x.at)(J,"operation-not-supported-in-this-environment"),$e.displayName&&(ft.appDisplayName=$e.displayName),ft.sessionId=Ke,(0,x.au)(J,q,K.type,void 0,null!==(we=K.eventId)&&void 0!==we?we:void 0,ft)})).apply(this,arguments)}function Be(){return(Be=(0,l.Z)(function*(J){const{BuildInfo:K}=ue(),q={};(0,x.ar)()?q.iosBundleId=K.packageName:(0,x.as)()?q.androidPackageName=K.packageName:(0,x.at)(J,"operation-not-supported-in-this-environment"),yield(0,x.av)(J,q)})).apply(this,arguments)}function Ne(){return(Ne=(0,l.Z)(function*(J,K,q){const{cordova:we}=ue();let $e=()=>{};try{yield new Promise((Ke,ft)=>{let Nt=null;function St(){var At;Ke();const dr=null===(At=we.plugins.browsertab)||void 0===At?void 0:At.close;"function"==typeof dr&&dr(),"function"==typeof(null==q?void 0:q.close)&&q.close()}function Pn(){Nt||(Nt=window.setTimeout(()=>{ft((0,x.aw)(J,"redirect-cancelled-by-user"))},2e3))}function wr(){"visible"===(null==document?void 0:document.visibilityState)&&Pn()}K.addPassiveListener(St),document.addEventListener("resume",Pn,!1),(0,x.as)()&&document.addEventListener("visibilitychange",wr,!1),$e=()=>{K.removePassiveListener(St),document.removeEventListener("resume",Pn,!1),document.removeEventListener("visibilitychange",wr,!1),Nt&&window.clearTimeout(Nt)}})}finally{$e()}})).apply(this,arguments)}function Ce(J){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(J){const K=Ve(J),q=yield crypto.subtle.digest("SHA-256",K);return Array.from(new Uint8Array(q)).map($e=>$e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ve(J){if((0,x.aq)(/[0-9a-zA-Z]+/.test(J),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(J);const K=new ArrayBuffer(J.length),q=new Uint8Array(K);for(let we=0;we<J.length;we++)q[we]=J.charCodeAt(we);return q}class Me extends x.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(K=>{this.resolveInialized=K})}addPassiveListener(K){this.passiveListeners.add(K)}removePassiveListener(K){this.passiveListeners.delete(K)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(K){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(K)),super.onEvent(K)}initialized(){var K=this;return(0,l.Z)(function*(){yield K.initPromise})()}}function ne(J){return he.apply(this,arguments)}function he(){return(he=(0,l.Z)(function*(J){const K=yield ae()._get(ce(J));return K&&(yield ae()._remove(ce(J))),K})).apply(this,arguments)}function X(){const J=[],K="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const we=Math.floor(Math.random()*K.length);J.push(K.charAt(we))}return J.join("")}function ae(){return(0,x.ay)(x.b)}function ce(J){return(0,x.az)("authEvent",J.config.apiKey,J.name)}function rt(J){if(!(null==J?void 0:J.includes("?")))return{};const[K,...q]=J.split("?");return(0,oe.zd)(q.join("?"))}function st(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,x.aw)("no-auth-event")}}function Rt(){var J;return(null===(J=null==self?void 0:self.location)||void 0===J?void 0:J.protocol)||null}function dn(J=(0,oe.z$)()){return!("file:"!==Rt()&&"ionic:"!==Rt()&&"capacitor:"!==Rt()||!J.toLowerCase().match(/iphone|ipad|ipod|android/))}function Nr(){try{const J=self.localStorage,K=x.aI();if(J)return J.setItem(K,"1"),J.removeItem(K),!function Ti(J=(0,oe.z$)()){return function lr(){return(0,oe.w1)()&&11===(null==document?void 0:document.documentMode)}()||function gn(J=(0,oe.z$)()){return/Edge\/\d+/.test(J)}(J)}()||(0,oe.hl)()}catch(J){return Yr()&&(0,oe.hl)()}return!1}function Yr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function In(){return(function Gt(){return"http:"===Rt()||"https:"===Rt()}()||(0,oe.ru)()||dn())&&!function qr(){return(0,oe.b$)()||(0,oe.UG)()}()&&Nr()&&!Yr()}function di(){return dn()&&"undefined"!=typeof document}function ur(){return(ur=(0,l.Z)(function*(){return!!di()&&new Promise(J=>{const K=setTimeout(()=>{J(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(K),J(!0)})})})).apply(this,arguments)}const zt={LOCAL:"local",NONE:"none",SESSION:"session"},Un=x.ax,cr="persistence";function fn(J){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(J){yield J._initializationPromise;const K=Mt(),q=x.az(cr,J.config.apiKey,J.name);K&&K.setItem(q,J._getPersistence())})).apply(this,arguments)}function Mt(){var J;try{return(null===(J=function hn(){return"undefined"!=typeof window?window:null}())||void 0===J?void 0:J.sessionStorage)||null}catch(K){return null}}const Xe=x.ax;class qe{constructor(){this.browserResolver=x.ay(x.k),this.cordovaResolver=x.ay(class Tn{constructor(){this._redirectPersistence=x.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(K){var q=this;return(0,l.Z)(function*(){const we=K._key();let $e=q.eventManagers.get(we);return $e||($e=new Me(K),q.eventManagers.set(we,$e),q.attachCallbackListeners(K,$e)),$e})()}_openPopup(K){(0,x.at)(K,"operation-not-supported-in-this-environment")}_openRedirect(K,q,we,$e){var Ke=this;return(0,l.Z)(function*(){!function pe(J){var K,q,we,$e,Ke,ft,Nt,St,Pn,wr;const At=ue();(0,x.ax)("function"==typeof(null===(K=null==At?void 0:At.universalLinks)||void 0===K?void 0:K.subscribe),J,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,x.ax)(void 0!==(null===(q=null==At?void 0:At.BuildInfo)||void 0===q?void 0:q.packageName),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,x.ax)("function"==typeof(null===(Ke=null===($e=null===(we=null==At?void 0:At.cordova)||void 0===we?void 0:we.plugins)||void 0===$e?void 0:$e.browsertab)||void 0===Ke?void 0:Ke.openUrl),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(St=null===(Nt=null===(ft=null==At?void 0:At.cordova)||void 0===ft?void 0:ft.plugins)||void 0===Nt?void 0:Nt.browsertab)||void 0===St?void 0:St.isAvailable),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,x.ax)("function"==typeof(null===(wr=null===(Pn=null==At?void 0:At.cordova)||void 0===Pn?void 0:Pn.InAppBrowser)||void 0===wr?void 0:wr.open),J,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(K);const ft=yield Ke._initialize(K);yield ft.initialized(),ft.resetRedirect(),(0,x.aD)(),yield Ke._originValidation(K);const Nt=function ve(J,K,q=null){return{type:K,eventId:q,urlResponse:null,sessionId:X(),postBody:null,tenantId:J.tenantId,error:(0,x.aw)(J,"no-auth-event")}}(K,we,$e);yield function He(J,K){return ae()._set(ce(J),K)}(K,Nt);const St=yield function z(J,K,q){return $.apply(this,arguments)}(K,Nt,q),Pn=yield function Se(J){const{cordova:K}=ue();return new Promise(q=>{K.plugins.browsertab.isAvailable(we=>{let $e=null;we?K.plugins.browsertab.openUrl(J):$e=K.InAppBrowser.open(J,(0,x.ap)()?"_blank":"_system","location=yes"),q($e)})})}(St);return function Oe(J,K,q){return Ne.apply(this,arguments)}(K,ft,Pn)})()}_isIframeWebStorageSupported(K,q){throw new Error("Method not implemented.")}_originValidation(K){const q=K._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function ie(J){return Be.apply(this,arguments)}(K)),this.originValidationPromises[q]}attachCallbackListeners(K,q){const{universalLinks:we,handleOpenURL:$e,BuildInfo:Ke}=ue(),ft=setTimeout((0,l.Z)(function*(){yield ne(K),q.onEvent(st())}),500),Nt=function(){var wr=(0,l.Z)(function*(At){clearTimeout(ft);const dr=yield ne(K);let hi=null;dr&&(null==At?void 0:At.url)&&(hi=function U(J,K){var q,we;const $e=function se(J){const K=rt(J),q=K.link?decodeURIComponent(K.link):void 0,we=rt(q).link,$e=K.deep_link_id?decodeURIComponent(K.deep_link_id):void 0;return rt($e).link||$e||we||q||J}(K);if($e.includes("/__/auth/callback")){const Ke=rt($e),ft=Ke.firebaseError?function xe(J){try{return JSON.parse(J)}catch(K){return null}}(decodeURIComponent(Ke.firebaseError)):null,Nt=null===(we=null===(q=null==ft?void 0:ft.code)||void 0===q?void 0:q.split("auth/"))||void 0===we?void 0:we[1],St=Nt?(0,x.aw)(Nt):null;return St?{type:J.type,eventId:J.eventId,tenantId:J.tenantId,error:St,urlResponse:null,sessionId:null,postBody:null}:{type:J.type,eventId:J.eventId,tenantId:J.tenantId,sessionId:J.sessionId,urlResponse:$e,postBody:null}}return null}(dr,At.url)),q.onEvent(hi||st())});return function(dr){return wr.apply(this,arguments)}}();void 0!==we&&"function"==typeof we.subscribe&&we.subscribe(null,Nt);const St=$e,Pn=`${Ke.packageName.toLowerCase()}://`;ue().handleOpenURL=function(){var wr=(0,l.Z)(function*(At){if(At.toLowerCase().startsWith(Pn)&&Nt({url:At}),"function"==typeof St)try{St(At)}catch(dr){console.error(dr)}});return function(At){return wr.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=x.a,this._completeRedirectFn=x.aB,this._overrideRedirectResult=x.aC}_initialize(K){var q=this;return(0,l.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(K)})()}_openPopup(K,q,we,$e){var Ke=this;return(0,l.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openPopup(K,q,we,$e)})()}_openRedirect(K,q,we,$e){var Ke=this;return(0,l.Z)(function*(){return yield Ke.selectUnderlyingResolver(),Ke.assertedUnderlyingResolver._openRedirect(K,q,we,$e)})()}_isIframeWebStorageSupported(K,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(K,q)}_originValidation(K){return this.assertedUnderlyingResolver._originValidation(K)}get _shouldInitProactively(){return di()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var K=this;return(0,l.Z)(function*(){if(K.underlyingResolver)return;const q=yield function it(){return ur.apply(this,arguments)}();K.underlyingResolver=q?K.cordovaResolver:K.browserResolver})()}}function kr(J){return J.unwrap()}function xt(J){return Sn(J)}function Sn(J){const{_tokenResponse:K}=J instanceof oe.ZR?J.customData:J;if(!K)return null;if(!(J instanceof oe.ZR)&&"temporaryProof"in K&&"phoneNumber"in K)return x.P.credentialFromResult(J);const q=K.providerId;if(!q||q===x.o.PASSWORD)return null;let we;switch(q){case x.o.GOOGLE:we=x.Q;break;case x.o.FACEBOOK:we=x.N;break;case x.o.GITHUB:we=x.T;break;case x.o.TWITTER:we=x.W;break;default:const{oauthIdToken:$e,oauthAccessToken:Ke,oauthTokenSecret:ft,pendingToken:Nt,nonce:St}=K;return Ke||ft||$e||Nt?Nt?q.startsWith("saml.")?x.aL._create(q,Nt):x.J._fromParams({providerId:q,signInMethod:q,pendingToken:Nt,idToken:$e,accessToken:Ke}):new x.U(q).credential({idToken:$e,accessToken:Ke,rawNonce:St}):null}return J instanceof oe.ZR?we.credentialFromError(J):we.credentialFromResult(J)}function Xt(J,K){return K.catch(q=>{throw q instanceof oe.ZR&&function Kr(J,K){var q,we;const $e=null===(q=K.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===(null===(we=K)||void 0===we?void 0:we.code))K.resolver=new W(J,x.an(J,K));else if($e){const Ke=Sn(K),ft=K;Ke&&(ft.credential=Ke,ft.tenantId=$e.tenantId||void 0,ft.email=$e.email||void 0,ft.phoneNumber=$e.phoneNumber||void 0)}}(J,q),q}).then(q=>{const $e=q.user;return{operationType:q.operationType,credential:xt(q),additionalUserInfo:x.al(q),user:H.getOrCreate($e)}})}function tt(J,K){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(J,K){const q=yield K;return{verificationId:q.verificationId,confirm:we=>Xt(J,q.confirm(we))}})).apply(this,arguments)}class W{constructor(K,q){this.resolver=q,this.auth=function Fr(J){return J.wrapped()}(K)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(K){return Xt(kr(this.auth),this.resolver.resolveSignIn(K))}}class H{constructor(K){this._delegate=K,this.multiFactor=x.ao(K)}static getOrCreate(K){return H.USER_MAP.has(K)||H.USER_MAP.set(K,new H(K)),H.USER_MAP.get(K)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(K){return this._delegate.getIdTokenResult(K)}getIdToken(K){return this._delegate.getIdToken(K)}linkAndRetrieveDataWithCredential(K){return this.linkWithCredential(K)}linkWithCredential(K){var q=this;return(0,l.Z)(function*(){return Xt(q.auth,x.Z(q._delegate,K))})()}linkWithPhoneNumber(K,q){var we=this;return(0,l.Z)(function*(){return tt(we.auth,x.l(we._delegate,K,q))})()}linkWithPopup(K){var q=this;return(0,l.Z)(function*(){return Xt(q.auth,x.d(q._delegate,K,qe))})()}linkWithRedirect(K){var q=this;return(0,l.Z)(function*(){return yield fn(x.aE(q.auth)),x.g(q._delegate,K,qe)})()}reauthenticateAndRetrieveDataWithCredential(K){return this.reauthenticateWithCredential(K)}reauthenticateWithCredential(K){var q=this;return(0,l.Z)(function*(){return Xt(q.auth,x._(q._delegate,K))})()}reauthenticateWithPhoneNumber(K,q){return tt(this.auth,x.r(this._delegate,K,q))}reauthenticateWithPopup(K){return Xt(this.auth,x.e(this._delegate,K,qe))}reauthenticateWithRedirect(K){var q=this;return(0,l.Z)(function*(){return yield fn(x.aE(q.auth)),x.h(q._delegate,K,qe)})()}sendEmailVerification(K){return x.ab(this._delegate,K)}unlink(K){var q=this;return(0,l.Z)(function*(){return yield x.ak(q._delegate,K),q})()}updateEmail(K){return x.ag(this._delegate,K)}updatePassword(K){return x.ah(this._delegate,K)}updatePhoneNumber(K){return x.u(this._delegate,K)}updateProfile(K){return x.af(this._delegate,K)}verifyBeforeUpdateEmail(K,q){return x.ac(this._delegate,K,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}H.USER_MAP=new WeakMap;const B=x.ax;let j=(()=>{class J{constructor(q,we){if(this.app=q,we.isInitialized())return this._delegate=we.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:$e}=q.options;B($e,"invalid-api-key",{appName:q.name}),B($e,"invalid-api-key",{appName:q.name});const Ke="undefined"!=typeof window?qe:void 0;this._delegate=we.initialize({options:{persistence:De($e,q.name),popupRedirectResolver:Ke}}),this._delegate._updateErrorMap(x.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?H.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,we){x.G(this._delegate,q,we)}applyActionCode(q){return x.a2(this._delegate,q)}checkActionCode(q){return x.a3(this._delegate,q)}confirmPasswordReset(q,we){return x.a1(this._delegate,q,we)}createUserWithEmailAndPassword(q,we){var $e=this;return(0,l.Z)(function*(){return Xt($e._delegate,x.a5($e._delegate,q,we))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return x.aa(this._delegate,q)}isSignInWithEmailLink(q){return x.a8(this._delegate,q)}getRedirectResult(){var q=this;return(0,l.Z)(function*(){B(In(),q._delegate,"operation-not-supported-in-this-environment");const we=yield x.j(q._delegate,qe);return we?Xt(q._delegate,Promise.resolve(we)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function Dn(J,K){(0,x.aE)(J)._logFramework(K)}(this._delegate,q)}onAuthStateChanged(q,we,$e){const{next:Ke,error:ft,complete:Nt}=G(q,we,$e);return this._delegate.onAuthStateChanged(Ke,ft,Nt)}onIdTokenChanged(q,we,$e){const{next:Ke,error:ft,complete:Nt}=G(q,we,$e);return this._delegate.onIdTokenChanged(Ke,ft,Nt)}sendSignInLinkToEmail(q,we){return x.a7(this._delegate,q,we)}sendPasswordResetEmail(q,we){return x.a0(this._delegate,q,we||void 0)}setPersistence(q){var we=this;return(0,l.Z)(function*(){let $e;switch(function Hn(J,K){Un(Object.values(zt).includes(K),J,"invalid-persistence-type"),(0,oe.b$)()?Un(K!==zt.SESSION,J,"unsupported-persistence-type"):(0,oe.UG)()?Un(K===zt.NONE,J,"unsupported-persistence-type"):Yr()?Un(K===zt.NONE||K===zt.LOCAL&&(0,oe.hl)(),J,"unsupported-persistence-type"):Un(K===zt.NONE||Nr(),J,"unsupported-persistence-type")}(we._delegate,q),q){case zt.SESSION:$e=x.a;break;case zt.LOCAL:$e=(yield x.ay(x.i)._isAvailable())?x.i:x.b;break;case zt.NONE:$e=x.L;break;default:return x.at("argument-error",{appName:we._delegate.name})}return we._delegate.setPersistence($e)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Xt(this._delegate,x.X(this._delegate))}signInWithCredential(q){return Xt(this._delegate,x.Y(this._delegate,q))}signInWithCustomToken(q){return Xt(this._delegate,x.$(this._delegate,q))}signInWithEmailAndPassword(q,we){return Xt(this._delegate,x.a6(this._delegate,q,we))}signInWithEmailLink(q,we){return Xt(this._delegate,x.a9(this._delegate,q,we))}signInWithPhoneNumber(q,we){return tt(this._delegate,x.s(this._delegate,q,we))}signInWithPopup(q){var we=this;return(0,l.Z)(function*(){return B(In(),we._delegate,"operation-not-supported-in-this-environment"),Xt(we._delegate,x.c(we._delegate,q,qe))})()}signInWithRedirect(q){var we=this;return(0,l.Z)(function*(){return B(In(),we._delegate,"operation-not-supported-in-this-environment"),yield fn(we._delegate),x.f(we._delegate,q,qe)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return x.a4(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return J.Persistence=zt,J})();function G(J,K,q){let we=J;"function"!=typeof J&&({next:we,error:K,complete:q}=J);const $e=we;return{next:ft=>$e(ft&&H.getOrCreate(ft)),error:K,complete:q}}function De(J,K){const q=function Di(J,K){const q=Mt();if(!q)return[];const we=x.az(cr,J,K);switch(q.getItem(we)){case zt.NONE:return[x.L];case zt.LOCAL:return[x.i,x.a];case zt.SESSION:return[x.a];default:return[]}}(J,K);if("undefined"!=typeof self&&!q.includes(x.i)&&q.push(x.i),"undefined"!=typeof window)for(const we of[x.b,x.a])q.includes(we)||q.push(we);return q.includes(x.L)||q.push(x.L),q}class Le{constructor(){this.providerId="phone",this._delegate=new x.P(kr(V.Z.auth()))}static credential(K,q){return x.P.credential(K,q)}verifyPhoneNumber(K,q){return this._delegate.verifyPhoneNumber(K,q)}unwrap(){return this._delegate}}Le.PHONE_SIGN_IN_METHOD=x.P.PHONE_SIGN_IN_METHOD,Le.PROVIDER_ID=x.P.PROVIDER_ID;const ut=x.ax;class jt{constructor(K,q,we=V.Z.app()){var $e;ut(null===($e=we.options)||void 0===$e?void 0:$e.apiKey,"invalid-api-key",{appName:we.name}),this._delegate=new x.R(K,q,we.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $n(J){J.INTERNAL.registerComponent(new fe.wA("auth-compat",K=>{const q=K.getProvider("app-compat").getImmediate(),we=K.getProvider("auth");return new j(q,we)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:x.A.EMAIL_SIGNIN,PASSWORD_RESET:x.A.PASSWORD_RESET,RECOVER_EMAIL:x.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:x.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:x.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:x.A.VERIFY_EMAIL}},EmailAuthProvider:x.M,FacebookAuthProvider:x.N,GithubAuthProvider:x.T,GoogleAuthProvider:x.Q,OAuthProvider:x.U,SAMLAuthProvider:x.V,PhoneAuthProvider:Le,PhoneMultiFactorGenerator:x.m,RecaptchaVerifier:jt,TwitterAuthProvider:x.W,Auth:j,AuthCredential:x.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),J.registerVersion("@firebase/auth-compat","0.2.18")}(V.Z)},8306:(Ge,ye,P)=>{P.d(ye,{y:()=>z});var l=P(930),V=P(727),x=P(8822),oe=P(4671);var fe=P(2416),ue=P(576),me=P(2806);let z=(()=>{class Se{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const pe=new Se;return pe.source=this,pe.operator=Ne,pe}subscribe(Ne,pe,Ce){const Ue=function Be(Se){return Se&&Se instanceof l.Lv||function ie(Se){return Se&&(0,ue.m)(Se.next)&&(0,ue.m)(Se.error)&&(0,ue.m)(Se.complete)}(Se)&&(0,V.Nn)(Se)}(Ne)?Ne:new l.Hp(Ne,pe,Ce);return(0,me.x)(()=>{const{operator:Ve,source:Ae}=this;Ue.add(Ve?Ve.call(Ue,Ae):Ae?this._subscribe(Ue):this._trySubscribe(Ue))}),Ue}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(pe){Ne.error(pe)}}forEach(Ne,pe){return new(pe=$(pe))((Ce,Ue)=>{const Ve=new l.Hp({next:Ae=>{try{Ne(Ae)}catch(Me){Ue(Me),Ve.unsubscribe()}},error:Ue,complete:Ce});this.subscribe(Ve)})}_subscribe(Ne){var pe;return null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ne)}[x.L](){return this}pipe(...Ne){return function ge(Se){return 0===Se.length?oe.y:1===Se.length?Se[0]:function(Ne){return Se.reduce((pe,Ce)=>Ce(pe),Ne)}}(Ne)(this)}toPromise(Ne){return new(Ne=$(Ne))((pe,Ce)=>{let Ue;this.subscribe(Ve=>Ue=Ve,Ve=>Ce(Ve),()=>pe(Ue))})}}return Se.create=Oe=>new Se(Oe),Se})();function $(Se){var Oe;return null!==(Oe=null!=Se?Se:fe.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(Ge,ye,P)=>{P.d(ye,{x:()=>fe});var l=P(8306),V=P(727);const oe=(0,P(3888).d)(me=>function(){me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=P(8737),ge=P(2806);let fe=(()=>{class me extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const ie=new ue(this,this);return ie.operator=$,ie}_throwIfClosed(){if(this.closed)throw new oe}next($){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ie of this.currentObservers)ie.next($)}})}error($){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:ie}=this;for(;ie.length;)ie.shift().error($)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:ie,isStopped:Be,observers:Se}=this;return ie||Be?V.Lc:(this.currentObservers=null,Se.push($),new V.w0(()=>{this.currentObservers=null,(0,le.P)(Se,$)}))}_checkFinalizedStatuses($){const{hasError:ie,thrownError:Be,isStopped:Se}=this;ie?$.error(Be):Se&&$.complete()}asObservable(){const $=new l.y;return $.source=this,$}}return me.create=(z,$)=>new ue(z,$),me})();class ue extends fe{constructor(z,$){super(),this.destination=z,this.source=$}next(z){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===ie||ie.call($,z)}error(z){var $,ie;null===(ie=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===ie||ie.call($,z)}complete(){var z,$;null===($=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===$||$.call(z)}_subscribe(z){var $,ie;return null!==(ie=null===($=this.source)||void 0===$?void 0:$.subscribe(z))&&void 0!==ie?ie:V.Lc}}},930:(Ge,ye,P)=>{P.d(ye,{Hp:()=>Ne,Lv:()=>ie});var l=P(576),V=P(727),x=P(2416),oe=P(7849),le=P(5032);const ge=me("C",void 0,void 0);function me(Ae,Me,ve){return{kind:Ae,value:Me,error:ve}}var z=P(3410),$=P(2806);class ie extends V.w0{constructor(Me){super(),this.isStopped=!1,Me?(this.destination=Me,(0,V.Nn)(Me)&&Me.add(this)):this.destination=Ve}static create(Me,ve,He){return new Ne(Me,ve,He)}next(Me){this.isStopped?Ue(function ue(Ae){return me("N",Ae,void 0)}(Me),this):this._next(Me)}error(Me){this.isStopped?Ue(function fe(Ae){return me("E",void 0,Ae)}(Me),this):(this.isStopped=!0,this._error(Me))}complete(){this.isStopped?Ue(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Me){this.destination.next(Me)}_error(Me){try{this.destination.error(Me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Be=Function.prototype.bind;function Se(Ae,Me){return Be.call(Ae,Me)}class Oe{constructor(Me){this.partialObserver=Me}next(Me){const{partialObserver:ve}=this;if(ve.next)try{ve.next(Me)}catch(He){pe(He)}}error(Me){const{partialObserver:ve}=this;if(ve.error)try{ve.error(Me)}catch(He){pe(He)}else pe(Me)}complete(){const{partialObserver:Me}=this;if(Me.complete)try{Me.complete()}catch(ve){pe(ve)}}}class Ne extends ie{constructor(Me,ve,He){let ne;if(super(),(0,l.m)(Me)||!Me)ne={next:null!=Me?Me:void 0,error:null!=ve?ve:void 0,complete:null!=He?He:void 0};else{let he;this&&x.v.useDeprecatedNextContext?(he=Object.create(Me),he.unsubscribe=()=>this.unsubscribe(),ne={next:Me.next&&Se(Me.next,he),error:Me.error&&Se(Me.error,he),complete:Me.complete&&Se(Me.complete,he)}):ne=Me}this.destination=new Oe(ne)}}function pe(Ae){x.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ae):(0,oe.h)(Ae)}function Ue(Ae,Me){const{onStoppedNotification:ve}=x.v;ve&&z.z.setTimeout(()=>ve(Ae,Me))}const Ve={closed:!0,next:le.Z,error:function Ce(Ae){throw Ae},complete:le.Z}},727:(Ge,ye,P)=>{P.d(ye,{Lc:()=>ge,w0:()=>le,Nn:()=>fe});var l=P(576);const x=(0,P(3888).d)(me=>function($){me(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((ie,Be)=>`${Be+1}) ${ie.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var oe=P(8737);class le{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Se of $)Se.remove(this);else $.remove(this);const{initialTeardown:ie}=this;if((0,l.m)(ie))try{ie()}catch(Se){z=Se instanceof x?Se.errors:[Se]}const{_finalizers:Be}=this;if(Be){this._finalizers=null;for(const Se of Be)try{ue(Se)}catch(Oe){z=null!=z?z:[],Oe instanceof x?z=[...z,...Oe.errors]:z.push(Oe)}}if(z)throw new x(z)}}add(z){var $;if(z&&z!==this)if(this.closed)ue(z);else{if(z instanceof le){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(z)}}_hasParent(z){const{_parentage:$}=this;return $===z||Array.isArray($)&&$.includes(z)}_addParent(z){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(z),$):$?[$,z]:z}_removeParent(z){const{_parentage:$}=this;$===z?this._parentage=null:Array.isArray($)&&(0,oe.P)($,z)}remove(z){const{_finalizers:$}=this;$&&(0,oe.P)($,z),z instanceof le&&z._removeParent(this)}}le.EMPTY=(()=>{const me=new le;return me.closed=!0,me})();const ge=le.EMPTY;function fe(me){return me instanceof le||me&&"closed"in me&&(0,l.m)(me.remove)&&(0,l.m)(me.add)&&(0,l.m)(me.unsubscribe)}function ue(me){(0,l.m)(me)?me():me.unsubscribe()}},2416:(Ge,ye,P)=>{P.d(ye,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ge,ye,P)=>{P.d(ye,{E:()=>V});const V=new(P(8306).y)(le=>le.complete())},8996:(Ge,ye,P)=>{P.d(ye,{D:()=>Me});var l=P(8421),V=P(5363),x=P(9468),ge=P(8306),ue=P(2202),me=P(576),z=P(9672);function ie(ve,He){if(!ve)throw new Error("Iterable cannot be null");return new ge.y(ne=>{(0,z.f)(ne,He,()=>{const he=ve[Symbol.asyncIterator]();(0,z.f)(ne,He,()=>{he.next().then(U=>{U.done?ne.complete():ne.next(U.value)})},0,!0)})})}var Be=P(3670),Se=P(8239),Oe=P(1144),Ne=P(6495),pe=P(2206),Ce=P(4532),Ue=P(3260);function Me(ve,He){return He?function Ae(ve,He){if(null!=ve){if((0,Be.c)(ve))return function oe(ve,He){return(0,l.Xf)(ve).pipe((0,x.R)(He),(0,V.Q)(He))}(ve,He);if((0,Oe.z)(ve))return function fe(ve,He){return new ge.y(ne=>{let he=0;return He.schedule(function(){he===ve.length?ne.complete():(ne.next(ve[he++]),ne.closed||this.schedule())})})}(ve,He);if((0,Se.t)(ve))return function le(ve,He){return(0,l.Xf)(ve).pipe((0,x.R)(He),(0,V.Q)(He))}(ve,He);if((0,pe.D)(ve))return ie(ve,He);if((0,Ne.T)(ve))return function $(ve,He){return new ge.y(ne=>{let he;return(0,z.f)(ne,He,()=>{he=ve[ue.h](),(0,z.f)(ne,He,()=>{let U,X;try{({value:U,done:X}=he.next())}catch(ae){return void ne.error(ae)}X?ne.complete():ne.next(U)},0,!0)}),()=>(0,me.m)(null==he?void 0:he.return)&&he.return()})}(ve,He);if((0,Ue.L)(ve))return function Ve(ve,He){return ie((0,Ue.Q)(ve),He)}(ve,He)}throw(0,Ce.z)(ve)}(ve,He):(0,l.Xf)(ve)}},8421:(Ge,ye,P)=>{P.d(ye,{Xf:()=>Be});var l=P(655),V=P(1144),x=P(8239),oe=P(8306),le=P(3670),ge=P(2206),fe=P(4532),ue=P(6495),me=P(3260),z=P(576),$=P(7849),ie=P(8822);function Be(Ae){if(Ae instanceof oe.y)return Ae;if(null!=Ae){if((0,le.c)(Ae))return function Se(Ae){return new oe.y(Me=>{const ve=Ae[ie.L]();if((0,z.m)(ve.subscribe))return ve.subscribe(Me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,V.z)(Ae))return function Oe(Ae){return new oe.y(Me=>{for(let ve=0;ve<Ae.length&&!Me.closed;ve++)Me.next(Ae[ve]);Me.complete()})}(Ae);if((0,x.t)(Ae))return function Ne(Ae){return new oe.y(Me=>{Ae.then(ve=>{Me.closed||(Me.next(ve),Me.complete())},ve=>Me.error(ve)).then(null,$.h)})}(Ae);if((0,ge.D)(Ae))return Ce(Ae);if((0,ue.T)(Ae))return function pe(Ae){return new oe.y(Me=>{for(const ve of Ae)if(Me.next(ve),Me.closed)return;Me.complete()})}(Ae);if((0,me.L)(Ae))return function Ue(Ae){return Ce((0,me.Q)(Ae))}(Ae)}throw(0,fe.z)(Ae)}function Ce(Ae){return new oe.y(Me=>{(function Ve(Ae,Me){var ve,He,ne,he;return(0,l.mG)(this,void 0,void 0,function*(){try{for(ve=(0,l.KL)(Ae);!(He=yield ve.next()).done;)if(Me.next(He.value),Me.closed)return}catch(U){ne={error:U}}finally{try{He&&!He.done&&(he=ve.return)&&(yield he.call(ve))}finally{if(ne)throw ne.error}}Me.complete()})})(Ae,Me).catch(ve=>Me.error(ve))})}},6451:(Ge,ye,P)=>{P.d(ye,{T:()=>ge});var l=P(8189),V=P(8421),x=P(515),oe=P(3269),le=P(8996);function ge(...fe){const ue=(0,oe.yG)(fe),me=(0,oe._6)(fe,1/0),z=fe;return z.length?1===z.length?(0,V.Xf)(z[0]):(0,l.J)(me)((0,le.D)(z,ue)):x.E}},5403:(Ge,ye,P)=>{P.d(ye,{x:()=>V});var l=P(930);function V(oe,le,ge,fe,ue){return new x(oe,le,ge,fe,ue)}class x extends l.Lv{constructor(le,ge,fe,ue,me,z){super(le),this.onFinalize=me,this.shouldUnsubscribe=z,this._next=ge?function($){try{ge($)}catch(ie){le.error(ie)}}:super._next,this._error=ue?function($){try{ue($)}catch(ie){le.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch($){le.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(Ge,ye,P)=>{P.d(ye,{U:()=>x});var l=P(4482),V=P(5403);function x(oe,le){return(0,l.e)((ge,fe)=>{let ue=0;ge.subscribe((0,V.x)(fe,me=>{fe.next(oe.call(le,me,ue++))}))})}},8189:(Ge,ye,P)=>{P.d(ye,{J:()=>x});var l=P(5577),V=P(4671);function x(oe=1/0){return(0,l.z)(V.y,oe)}},5577:(Ge,ye,P)=>{P.d(ye,{z:()=>ue});var l=P(4004),V=P(8421),x=P(4482),oe=P(9672),le=P(5403),fe=P(576);function ue(me,z,$=1/0){return(0,fe.m)(z)?ue((ie,Be)=>(0,l.U)((Se,Oe)=>z(ie,Se,Be,Oe))((0,V.Xf)(me(ie,Be))),$):("number"==typeof z&&($=z),(0,x.e)((ie,Be)=>function ge(me,z,$,ie,Be,Se,Oe,Ne){const pe=[];let Ce=0,Ue=0,Ve=!1;const Ae=()=>{Ve&&!pe.length&&!Ce&&z.complete()},Me=He=>Ce<ie?ve(He):pe.push(He),ve=He=>{Se&&z.next(He),Ce++;let ne=!1;(0,V.Xf)($(He,Ue++)).subscribe((0,le.x)(z,he=>{null==Be||Be(he),Se?Me(he):z.next(he)},()=>{ne=!0},void 0,()=>{if(ne)try{for(Ce--;pe.length&&Ce<ie;){const he=pe.shift();Oe?(0,oe.f)(z,Oe,()=>ve(he)):ve(he)}Ae()}catch(he){z.error(he)}}))};return me.subscribe((0,le.x)(z,Me,()=>{Ve=!0,Ae()})),()=>{null==Ne||Ne()}}(ie,Be,me,$)))}},5363:(Ge,ye,P)=>{P.d(ye,{Q:()=>oe});var l=P(9672),V=P(4482),x=P(5403);function oe(le,ge=0){return(0,V.e)((fe,ue)=>{fe.subscribe((0,x.x)(ue,me=>(0,l.f)(ue,le,()=>ue.next(me),ge),()=>(0,l.f)(ue,le,()=>ue.complete(),ge),me=>(0,l.f)(ue,le,()=>ue.error(me),ge)))})}},3099:(Ge,ye,P)=>{P.d(ye,{B:()=>ge});var l=P(8996),V=P(5698),x=P(7579),oe=P(930),le=P(4482);function ge(ue={}){const{connector:me=(()=>new x.x),resetOnError:z=!0,resetOnComplete:$=!0,resetOnRefCountZero:ie=!0}=ue;return Be=>{let Se=null,Oe=null,Ne=null,pe=0,Ce=!1,Ue=!1;const Ve=()=>{null==Oe||Oe.unsubscribe(),Oe=null},Ae=()=>{Ve(),Se=Ne=null,Ce=Ue=!1},Me=()=>{const ve=Se;Ae(),null==ve||ve.unsubscribe()};return(0,le.e)((ve,He)=>{pe++,!Ue&&!Ce&&Ve();const ne=Ne=null!=Ne?Ne:me();He.add(()=>{pe--,0===pe&&!Ue&&!Ce&&(Oe=fe(Me,ie))}),ne.subscribe(He),Se||(Se=new oe.Hp({next:he=>ne.next(he),error:he=>{Ue=!0,Ve(),Oe=fe(Ae,z,he),ne.error(he)},complete:()=>{Ce=!0,Ve(),Oe=fe(Ae,$),ne.complete()}}),(0,l.D)(ve).subscribe(Se))})(Be)}}function fe(ue,me,...z){return!0===me?(ue(),null):!1===me?null:me(...z).pipe((0,V.q)(1)).subscribe(()=>ue())}},9468:(Ge,ye,P)=>{P.d(ye,{R:()=>V});var l=P(4482);function V(x,oe=0){return(0,l.e)((le,ge)=>{ge.add(x.schedule(()=>le.subscribe(ge),oe))})}},5698:(Ge,ye,P)=>{P.d(ye,{q:()=>oe});var l=P(515),V=P(4482),x=P(5403);function oe(le){return le<=0?()=>l.E:(0,V.e)((ge,fe)=>{let ue=0;ge.subscribe((0,x.x)(fe,me=>{++ue<=le&&(fe.next(me),le<=ue&&fe.complete())}))})}},8505:(Ge,ye,P)=>{P.d(ye,{b:()=>le});var l=P(576),V=P(4482),x=P(5403),oe=P(4671);function le(ge,fe,ue){const me=(0,l.m)(ge)||fe||ue?{next:ge,error:fe,complete:ue}:ge;return me?(0,V.e)((z,$)=>{var ie;null===(ie=me.subscribe)||void 0===ie||ie.call(me);let Be=!0;z.subscribe((0,x.x)($,Se=>{var Oe;null===(Oe=me.next)||void 0===Oe||Oe.call(me,Se),$.next(Se)},()=>{var Se;Be=!1,null===(Se=me.complete)||void 0===Se||Se.call(me),$.complete()},Se=>{var Oe;Be=!1,null===(Oe=me.error)||void 0===Oe||Oe.call(me,Se),$.error(Se)},()=>{var Se,Oe;Be&&(null===(Se=me.unsubscribe)||void 0===Se||Se.call(me)),null===(Oe=me.finalize)||void 0===Oe||Oe.call(me)}))}):oe.y}},4408:(Ge,ye,P)=>{P.d(ye,{o:()=>le});var l=P(727);class V extends l.w0{constructor(fe,ue){super()}schedule(fe,ue=0){return this}}const x={setInterval(ge,fe,...ue){const{delegate:me}=x;return(null==me?void 0:me.setInterval)?me.setInterval(ge,fe,...ue):setInterval(ge,fe,...ue)},clearInterval(ge){const{delegate:fe}=x;return((null==fe?void 0:fe.clearInterval)||clearInterval)(ge)},delegate:void 0};var oe=P(8737);class le extends V{constructor(fe,ue){super(fe,ue),this.scheduler=fe,this.work=ue,this.pending=!1}schedule(fe,ue=0){if(this.closed)return this;this.state=fe;const me=this.id,z=this.scheduler;return null!=me&&(this.id=this.recycleAsyncId(z,me,ue)),this.pending=!0,this.delay=ue,this.id=this.id||this.requestAsyncId(z,this.id,ue),this}requestAsyncId(fe,ue,me=0){return x.setInterval(fe.flush.bind(fe,this),me)}recycleAsyncId(fe,ue,me=0){if(null!=me&&this.delay===me&&!1===this.pending)return ue;x.clearInterval(ue)}execute(fe,ue){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const me=this._execute(fe,ue);if(me)return me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ue){let z,me=!1;try{this.work(fe)}catch($){me=!0,z=$||new Error("Scheduled action threw falsy error")}if(me)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ue}=this,{actions:me}=ue;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(me,this),null!=fe&&(this.id=this.recycleAsyncId(ue,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ge,ye,P)=>{P.d(ye,{v:()=>x});var l=P(6063);class V{constructor(le,ge=V.now){this.schedulerActionCtor=le,this.now=ge}schedule(le,ge=0,fe){return new this.schedulerActionCtor(this,le).schedule(fe,ge)}}V.now=l.l.now;class x extends V{constructor(le,ge=V.now){super(le,ge),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:ge}=this;if(this._active)return void ge.push(le);let fe;this._active=!0;do{if(fe=le.execute(le.state,le.delay))break}while(le=ge.shift());if(this._active=!1,fe){for(;le=ge.shift();)le.unsubscribe();throw fe}}}},4986:(Ge,ye,P)=>{P.d(ye,{P:()=>oe,z:()=>x});var l=P(4408);const x=new(P(7565).v)(l.o),oe=x},6063:(Ge,ye,P)=>{P.d(ye,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Ge,ye,P)=>{P.d(ye,{z:()=>l});const l={setTimeout(V,x,...oe){const{delegate:le}=l;return(null==le?void 0:le.setTimeout)?le.setTimeout(V,x,...oe):setTimeout(V,x,...oe)},clearTimeout(V){const{delegate:x}=l;return((null==x?void 0:x.clearTimeout)||clearTimeout)(V)},delegate:void 0}},2202:(Ge,ye,P)=>{P.d(ye,{h:()=>V});const V=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ge,ye,P)=>{P.d(ye,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ge,ye,P)=>{P.d(ye,{_6:()=>ge,jO:()=>oe,yG:()=>le});var l=P(576),V=P(3532);function x(fe){return fe[fe.length-1]}function oe(fe){return(0,l.m)(x(fe))?fe.pop():void 0}function le(fe){return(0,V.K)(x(fe))?fe.pop():void 0}function ge(fe,ue){return"number"==typeof x(fe)?fe.pop():ue}},8737:(Ge,ye,P)=>{function l(V,x){if(V){const oe=V.indexOf(x);0<=oe&&V.splice(oe,1)}}P.d(ye,{P:()=>l})},3888:(Ge,ye,P)=>{function l(V){const oe=V(le=>{Error.call(le),le.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}P.d(ye,{d:()=>l})},2806:(Ge,ye,P)=>{P.d(ye,{O:()=>oe,x:()=>x});var l=P(2416);let V=null;function x(le){if(l.v.useDeprecatedSynchronousErrorHandling){const ge=!V;if(ge&&(V={errorThrown:!1,error:null}),le(),ge){const{errorThrown:fe,error:ue}=V;if(V=null,fe)throw ue}}else le()}function oe(le){l.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=le)}},9672:(Ge,ye,P)=>{function l(V,x,oe,le=0,ge=!1){const fe=x.schedule(function(){oe(),ge?V.add(this.schedule(null,le)):this.unsubscribe()},le);if(V.add(fe),!ge)return fe}P.d(ye,{f:()=>l})},4671:(Ge,ye,P)=>{function l(V){return V}P.d(ye,{y:()=>l})},1144:(Ge,ye,P)=>{P.d(ye,{z:()=>l});const l=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(Ge,ye,P)=>{P.d(ye,{D:()=>V});var l=P(576);function V(x){return Symbol.asyncIterator&&(0,l.m)(null==x?void 0:x[Symbol.asyncIterator])}},576:(Ge,ye,P)=>{function l(V){return"function"==typeof V}P.d(ye,{m:()=>l})},3670:(Ge,ye,P)=>{P.d(ye,{c:()=>x});var l=P(8822),V=P(576);function x(oe){return(0,V.m)(oe[l.L])}},6495:(Ge,ye,P)=>{P.d(ye,{T:()=>x});var l=P(2202),V=P(576);function x(oe){return(0,V.m)(null==oe?void 0:oe[l.h])}},8239:(Ge,ye,P)=>{P.d(ye,{t:()=>V});var l=P(576);function V(x){return(0,l.m)(null==x?void 0:x.then)}},3260:(Ge,ye,P)=>{P.d(ye,{L:()=>oe,Q:()=>x});var l=P(655),V=P(576);function x(le){return(0,l.FC)(this,arguments,function*(){const fe=le.getReader();try{for(;;){const{value:ue,done:me}=yield(0,l.qq)(fe.read());if(me)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ue)}}finally{fe.releaseLock()}})}function oe(le){return(0,V.m)(null==le?void 0:le.getReader)}},3532:(Ge,ye,P)=>{P.d(ye,{K:()=>V});var l=P(576);function V(x){return x&&(0,l.m)(x.schedule)}},4482:(Ge,ye,P)=>{P.d(ye,{A:()=>V,e:()=>x});var l=P(576);function V(oe){return(0,l.m)(null==oe?void 0:oe.lift)}function x(oe){return le=>{if(V(le))return le.lift(function(ge){try{return oe(ge,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ge,ye,P)=>{function l(){}P.d(ye,{Z:()=>l})},7849:(Ge,ye,P)=>{P.d(ye,{h:()=>x});var l=P(2416),V=P(3410);function x(oe){V.z.setTimeout(()=>{const{onUnhandledError:le}=l.v;if(!le)throw oe;le(oe)})}},4532:(Ge,ye,P)=>{function l(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(ye,{z:()=>l})},655:(Ge,ye,P)=>{function oe(U,X){var ae={};for(var ce in U)Object.prototype.hasOwnProperty.call(U,ce)&&X.indexOf(ce)<0&&(ae[ce]=U[ce]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(ce=Object.getOwnPropertySymbols(U);xe<ce.length;xe++)X.indexOf(ce[xe])<0&&Object.prototype.propertyIsEnumerable.call(U,ce[xe])&&(ae[ce[xe]]=U[ce[xe]])}return ae}function ue(U,X,ae,ce){return new(ae||(ae=Promise))(function(se,rt){function Ct(st){try{Ze(ce.next(st))}catch(Dn){rt(Dn)}}function Tn(st){try{Ze(ce.throw(st))}catch(Dn){rt(Dn)}}function Ze(st){st.done?se(st.value):function xe(se){return se instanceof ae?se:new ae(function(rt){rt(se)})}(st.value).then(Ct,Tn)}Ze((ce=ce.apply(U,X||[])).next())})}function pe(U){return this instanceof pe?(this.v=U,this):new pe(U)}function Ce(U,X,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,ce=ae.apply(U,X||[]),se=[];return xe={},rt("next"),rt("throw"),rt("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function rt(Wt){ce[Wt]&&(xe[Wt]=function(Bn){return new Promise(function(qt,Rt){se.push([Wt,Bn,qt,Rt])>1||Ct(Wt,Bn)})})}function Ct(Wt,Bn){try{!function Tn(Wt){Wt.value instanceof pe?Promise.resolve(Wt.value.v).then(Ze,st):Dn(se[0][2],Wt)}(ce[Wt](Bn))}catch(qt){Dn(se[0][3],qt)}}function Ze(Wt){Ct("next",Wt)}function st(Wt){Ct("throw",Wt)}function Dn(Wt,Bn){Wt(Bn),se.shift(),se.length&&Ct(se[0][0],se[0][1])}}function Ve(U){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,X=U[Symbol.asyncIterator];return X?X.call(U):(U=function ie(U){var X="function"==typeof Symbol&&Symbol.iterator,ae=X&&U[X],ce=0;if(ae)return ae.call(U);if(U&&"number"==typeof U.length)return{next:function(){return U&&ce>=U.length&&(U=void 0),{value:U&&U[ce++],done:!U}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(U),ae={},ce("next"),ce("throw"),ce("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function ce(se){ae[se]=U[se]&&function(rt){return new Promise(function(Ct,Tn){!function xe(se,rt,Ct,Tn){Promise.resolve(Tn).then(function(Ze){se({value:Ze,done:Ct})},rt)}(Ct,Tn,(rt=U[se](rt)).done,rt.value)})}}}P.d(ye,{FC:()=>Ce,KL:()=>Ve,_T:()=>oe,mG:()=>ue,qq:()=>pe})},5e3:(Ge,ye,P)=>{P.d(ye,{$8M:()=>na,$Z:()=>M0,AFp:()=>XE,ALo:()=>_h,AaK:()=>ue,CHM:()=>jo,CRH:()=>Kp,CZH:()=>Yc,CqO:()=>pp,EJc:()=>ay,EpF:()=>P0,F4k:()=>Wm,FYo:()=>hh,FiY:()=>ct,G48:()=>xT,Gf:()=>VE,GfV:()=>CE,Gpc:()=>$,JOm:()=>wn,Jf7:()=>tr,LFG:()=>w,LSH:()=>Ng,Lbi:()=>sy,NdJ:()=>Ac,OlP:()=>Nn,Oqu:()=>wp,PXZ:()=>lC,Q6J:()=>zs,QGY:()=>$m,Qsj:()=>Kb,R0b:()=>Pr,RDi:()=>_l,Rgc:()=>cl,SBq:()=>ll,Sil:()=>nC,Suo:()=>Y_,TTD:()=>No,TgZ:()=>hp,Udp:()=>Cp,VKq:()=>F_,VLi:()=>cg,WLB:()=>gh,X6Q:()=>MT,XFs:()=>it,Xpm:()=>Le,Y36:()=>el,YKP:()=>AE,YNc:()=>Vm,Yjl:()=>$e,Yz7:()=>qt,ZZ4:()=>vy,_Bn:()=>mE,_UZ:()=>Yd,_Vd:()=>Hp,_c5:()=>jT,_uU:()=>Z0,aQg:()=>mr,c2e:()=>ag,cJS:()=>Gt,cg1:()=>p_,dDg:()=>sC,deG:()=>gd,dqk:()=>xt,eFA:()=>vs,ekj:()=>t_,g9A:()=>iy,h0i:()=>$c,hGG:()=>hg,hij:()=>Jd,iGM:()=>LE,ifc:()=>Mt,ip1:()=>sg,kL8:()=>Tp,kYT:()=>K,lG2:()=>we,lcZ:()=>PE,n5z:()=>Hr,oAB:()=>J,oxw:()=>xc,q4F:()=>wE,qLn:()=>_f,qOj:()=>Pm,qZA:()=>tl,s9C:()=>mp,sBO:()=>PT,sIi:()=>$d,s_b:()=>Eh,soG:()=>oy,tBr:()=>Qe,tb:()=>Ah,tp0:()=>et,uIk:()=>ap,vHH:()=>Oe,vpe:()=>So,wAp:()=>dt,xp6:()=>Tv,z2F:()=>hy,zSh:()=>Yl,zs3:()=>bo});var l=P(7579),V=P(727),x=P(8306),oe=P(6451),le=P(3099);function ge(i){for(let s in i)if(i[s]===ge)return s;throw Error("Could not find renamed property on target object.")}function fe(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function ue(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ue).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function me(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const z=ge({__forward_ref__:ge});function $(i){return i.__forward_ref__=$,i.toString=function(){return ue(this())},i}function ie(i){return Be(i)?i():i}function Be(i){return"function"==typeof i&&i.hasOwnProperty(z)&&i.__forward_ref__===$}class Oe extends Error{constructor(s,a){super(function Ne(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function pe(i){return"string"==typeof i?i:null==i?"":String(i)}function Ce(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():pe(i)}function Me(i,s){const a=s?` in ${s}`:"";throw new Oe(-201,`No provider for ${Ce(i)} found${a}`)}function Ze(i,s){null==i&&function st(i,s,a,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${a} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function qt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Gt(i){return{providers:i.providers||[],imports:i.imports||[]}}function dn(i){return qr(i,Nr)||qr(i,In)}function qr(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ti(i){return i&&(i.hasOwnProperty(Yr)||i.hasOwnProperty(di))?i[Yr]:null}const Nr=ge({\u0275prov:ge}),Yr=ge({\u0275inj:ge}),In=ge({ngInjectableDef:ge}),di=ge({ngInjectorDef:ge});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let ur;function zt(i){const s=ur;return ur=i,s}function Un(i,s,a){const u=dn(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&it.Optional?null:void 0!==s?s:void Me(ue(i),"Injector")}function Hn(i){return{toString:i}.toString()}var fn=(()=>((fn=fn||{})[fn.OnPush=0]="OnPush",fn[fn.Default=1]="Default",fn))(),Mt=(()=>{return(i=Mt||(Mt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Mt;var i})();const Xe="undefined"!=typeof globalThis&&globalThis,qe="undefined"!=typeof window&&window,kr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,xt=Xe||"undefined"!=typeof global&&global||qe||kr,Xt={},tt=[],_r=ge({\u0275cmp:ge}),W=ge({\u0275dir:ge}),H=ge({\u0275pipe:ge}),B=ge({\u0275mod:ge}),j=ge({\u0275fac:ge}),G=ge({__NG_ELEMENT_ID__:ge});let De=0;function Le(i){return Hn(()=>{const a={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===fn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||tt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Mt.Emulated,id:"c",styles:i.styles||tt,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,_=i.pipes;return u.id+=De++,u.inputs=q(i.inputs,a),u.outputs=q(i.outputs),f&&f.forEach(v=>v(u)),u.directiveDefs=d?()=>("function"==typeof d?d():d).map(jt):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(Ut):null,u})}function jt(i){return Ke(i)||function ft(i){return i[W]||null}(i)}function Ut(i){return function Nt(i){return i[H]||null}(i)}const $n={};function J(i){return Hn(()=>{const s={type:i.type,bootstrap:i.bootstrap||tt,declarations:i.declarations||tt,imports:i.imports||tt,exports:i.exports||tt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&($n[i.id]=i.type),s})}function K(i,s){return Hn(()=>{const a=St(i,!0);a.declarations=s.declarations||tt,a.imports=s.imports||tt,a.exports=s.exports||tt})}function q(i,s){if(null==i)return Xt;const a={};for(const u in i)if(i.hasOwnProperty(u)){let d=i[u],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=u,s&&(s[d]=f)}return a}const we=Le;function $e(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ke(i){return i[_r]||null}function St(i,s){const a=i[B]||null;if(!a&&!0===s)throw new Error(`Type ${ue(i)} does not have '\u0275mod' property.`);return a}function Qr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Lr(i){return Array.isArray(i)&&!0===i[1]}function Ru(i){return 0!=(8&i.flags)}function Ea(i){return 2==(2&i.flags)}function Qi(i){return 1==(1&i.flags)}function Vr(i){return null!==i.template}function ml(i){return 0!=(512&i[2])}function Br(i,s){return i.hasOwnProperty(j)?i[j]:null}class oo{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function No(){return ko}function ko(i){return i.type.prototype.ngOnChanges&&(i.setInput=zh),ad}function ad(){const i=Vu(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===Xt)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function zh(i,s,a,u){const d=Vu(i)||function Pi(i,s){return i[Xi]=s}(i,{previous:Xt,current:null}),f=d.current||(d.current={}),_=d.previous,v=this.declaredInputs[a],b=_[v];f[v]=new oo(b&&b.currentValue,s,_===Xt),i[u]=s}No.ngInherit=!0;const Xi="__ngSimpleChanges__";function Vu(i){return i[Xi]||null}let Ta;function _l(i){Ta=i}function sn(i){return!!i.listen}const Fo={createRenderer:(i,s)=>function Oi(){return void 0!==Ta?Ta:"undefined"!=typeof document?document:void 0}()};function Jt(i){for(;Array.isArray(i);)i=i[0];return i}function Ds(i,s){return Jt(s[i])}function Kn(i,s){return Jt(s[i.index])}function Mn(i,s){return i.data[s]}function Qn(i,s){const a=s[i];return Qr(a)?a:a[0]}function lo(i){return 4==(4&i[2])}function fi(i){return 128==(128&i[2])}function Tr(i,s){return null==s?null:i[s]}function ts(i){i[18]=0}function ns(i,s){i[5]+=s;let a=i,u=i[3];for(;null!==u&&(1===s&&1===a[5]||-1===s&&0===a[5]);)u[5]+=s,a=u,u=u[3]}const ot={lFrame:As(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function El(){return ot.bindingsEnabled}function Te(){return ot.lFrame.lView}function Pt(){return ot.lFrame.tView}function jo(i){return ot.lFrame.contextLView=i,i[8]}function En(){let i=rs();for(;null!==i&&64===i.type;)i=i.parent;return i}function rs(){return ot.lFrame.currentTNode}function vr(i,s){const a=ot.lFrame;a.currentTNode=i,a.isParent=s}function Cl(){return ot.lFrame.isParent}function Wo(){return ot.isInCheckNoChangesMode}function uo(i){ot.isInCheckNoChangesMode=i}function Wn(){const i=ot.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function pi(){return ot.lFrame.bindingIndex++}function zo(i,s){const a=ot.lFrame;a.bindingIndex=a.bindingRootIndex=i,Is(s)}function Is(i){ot.lFrame.currentDirectiveIndex=i}function Zo(){return ot.lFrame.currentQueryIndex}function Tl(i){ot.lFrame.currentQueryIndex=i}function Zh(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Aa(i,s,a){if(a&it.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&it.Host||(d=Zh(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const u=ot.lFrame=Dl();return u.currentTNode=s,u.lView=i,!0}function Ss(i){const s=Dl(),a=i[1];ot.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Dl(){const i=ot.lFrame,s=null===i?null:i.child;return null===s?As(i):s}function As(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function Zu(){const i=ot.lFrame;return ot.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ud=Zu;function co(){const i=Zu();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Jn(){return ot.lFrame.selectedIndex}function ki(i){ot.lFrame.selectedIndex=i}function xn(){const i=ot.lFrame;return Mn(i.tView,i.selectedIndex)}function qo(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:I,ngOnDestroy:A}=f;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),v&&((i.contentHooks||(i.contentHooks=[])).push(a,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,v)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),I&&((i.viewHooks||(i.viewHooks=[])).push(a,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,I)),null!=A&&(i.destroyHooks||(i.destroyHooks=[])).push(a,A)}}function Fi(i,s,a){Xn(i,s,3,a)}function Yo(i,s,a,u){(3&i[2])===a&&Xn(i,s,a,u)}function Ma(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Xn(i,s,a,u){const f=null!=u?u:-1,_=s.length-1;let v=0;for(let b=void 0!==u?65535&i[18]:0;b<_;b++)if("number"==typeof s[b+1]){if(v=s[b],null!=u&&v>=u)break}else s[b]<0&&(i[18]+=65536),(v<f||-1==f)&&(hd(i,a,s,b),i[18]=(4294901760&i[18])+b+2),b++}function hd(i,s,a,u){const d=a[u]<0,f=a[u+1],v=i[d?-a[u]:a[u]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(v)}finally{}}}else try{f.call(v)}finally{}}class ho{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}function un(i,s,a){const u=sn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const _=a[d++],v=a[d++],b=a[d++];u?i.setAttribute(s,v,b,_):s.setAttributeNS(_,v,b)}else{const _=f,v=a[++d];en(_)?u&&i.setProperty(s,_,v):u?i.setAttribute(s,_,v):s.setAttribute(_,v),d++}}return d}function Li(i){return 3===i||4===i||6===i}function en(i){return 64===i.charCodeAt(0)}function Qo(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const d=s[u];"number"==typeof d?a=d:0===a||xa(i,a,d,null,-1===a||2===a?s[++u]:null)}}return i}function xa(i,s,a,u,d){let f=0,_=i.length;if(-1===s)_=-1;else for(;f<i.length;){const v=i[f++];if("number"==typeof v){if(v===s){_=-1;break}if(v>s){_=f-1;break}}}for(;f<i.length;){const v=i[f];if("number"==typeof v)break;if(v===a){if(null===u)return void(null!==d&&(i[f+1]=d));if(u===i[f+1])return void(i[f+2]=d)}f++,null!==u&&f++,null!==d&&f++}-1!==_&&(i.splice(_,0,s),f=_+1),i.splice(f++,0,a),null!==u&&i.splice(f++,0,u),null!==d&&i.splice(f++,0,d)}function bt(i){return-1!==i}function Jo(i){return 32767&i}function Gn(i,s){let a=function mn(i){return i>>16}(i),u=s;for(;a>0;)u=u[15],a--;return u}let Ps=!0;function Os(i){const s=Ps;return Ps=i,s}let Sl=0;function Vi(i,s){const a=_t(i,s);if(-1!==a)return a;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,is(u.data,i),is(s,null),is(u.blueprint,null));const d=Ur(i,s),f=i.injectorIndex;if(bt(d)){const _=Jo(d),v=Gn(d,s),b=v[1].data;for(let I=0;I<8;I++)s[f+I]=v[_+I]|b[_+I]}return s[f+8]=d,f}function is(i,s){i.push(0,0,0,0,0,0,0,0,s)}function _t(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ur(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,d=s;for(;null!==d;){const f=d[1],_=f.type;if(u=2===_?f.declTNode:1===_?d[6]:null,null===u)return-1;if(a++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return-1}function Xo(i,s,a){!function Rs(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(G)&&(u=a[G]),null==u&&(u=a[G]=Sl++);const d=255&u;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function Al(i,s,a){if(a&it.Optional)return i;Me(s,"NodeInjector")}function po(i,s,a,u){if(a&it.Optional&&void 0===u&&(u=null),0==(a&(it.Self|it.Host))){const d=i[9],f=zt(void 0);try{return d?d.get(s,u,a&it.Optional):Un(s,u,a&it.Optional)}finally{zt(f)}}return Al(u,s,a)}function Ju(i,s,a,u=it.Default,d){if(null!==i){const f=function Na(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(G)?i[G]:void 0;return"number"==typeof s?s>=0?255&s:Oa:s}(a);if("function"==typeof f){if(!Aa(s,i,u))return u&it.Host?Al(d,a,u):po(s,a,u,d);try{const _=f(u);if(null!=_||u&it.Optional)return _;Me(a)}finally{ud()}}else if("number"==typeof f){let _=null,v=_t(i,s),b=-1,I=u&it.Host?s[16][6]:null;for((-1===v||u&it.SkipSelf)&&(b=-1===v?Ur(i,s):s[v+8],-1!==b&&ka(u,!1)?(_=s[1],v=Jo(b),s=Gn(b,s)):v=-1);-1!==v;){const A=s[1];if(pd(f,v,A.data)){const k=Xu(v,s,a,_,u,I);if(k!==go)return k}b=s[v+8],-1!==b&&ka(u,s[1].data[v+8]===I)&&pd(f,v,s)?(_=A,v=Jo(b),s=Gn(b,s)):v=-1}}}return po(s,a,u,d)}const go={};function Oa(){return new mo(En(),Te())}function Xu(i,s,a,u,d,f){const _=s[1],v=_.data[i+8],A=ta(v,_,a,null==u?Ea(v)&&Ps:u!=_&&0!=(3&v.type),d&it.Host&&f===v);return null!==A?Ra(s,_,A,v):go}function ta(i,s,a,u,d){const f=i.providerIndexes,_=s.data,v=1048575&f,b=i.directiveStart,A=f>>20,Z=d?v+A:i.directiveEnd;for(let ee=u?v:v+A;ee<Z;ee++){const Ee=_[ee];if(ee<b&&a===Ee||ee>=b&&Ee.type===a)return ee}if(d){const ee=_[b];if(ee&&Vr(ee)&&ee.type===a)return b}return null}function Ra(i,s,a,u){let d=i[a];const f=s.data;if(function Yu(i){return i instanceof ho}(d)){const _=d;_.resolving&&function Ue(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Oe(-200,`Circular dependency in DI detected for ${i}${a}`)}(Ce(f[a]));const v=Os(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?zt(_.injectImpl):null;Aa(i,u,it.Default);try{d=i[a]=_.factory(void 0,f,i,u),s.firstCreatePass&&a>=u.directiveStart&&function qh(i,s,a){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(u){const _=ko(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==b&&zt(b),Os(v),_.resolving=!1,ud()}}return d}function pd(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function ka(i,s){return!(i&it.Self||i&it.Host&&s)}class mo{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return Ju(this._tNode,this._lView,s,u,a)}}function Hr(i){return Hn(()=>{const s=i.prototype.constructor,a=s[j]||Fa(s),u=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==u;){const f=d[j]||Fa(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Fa(i){return Be(i)?()=>{const s=Fa(ie(i));return s&&s()}:Br(i)}function na(i){return function ea(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let d=0;for(;d<u;){const f=a[d];if(Li(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<u&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(En(),i)}const Ns="__parameters__";function ia(i,s,a){return Hn(()=>{const u=function ra(i){return function(...a){if(i){const u=i(...a);for(const d in u)this[d]=u[d]}}}(s);function d(...f){if(this instanceof d)return u.apply(this,f),this;const _=new d(...f);return v.annotation=_,v;function v(b,I,A){const k=b.hasOwnProperty(Ns)?b[Ns]:Object.defineProperty(b,Ns,{value:[]})[Ns];for(;k.length<=A;)k.push(null);return(k[A]=k[A]||[]).push(_),b}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Nn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const gd=new Nn("AnalyzeForEntryComponents");function ir(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let u=i[a];Array.isArray(u)?(s===i&&(s=i.slice(0,a)),ir(u,s)):s!==i&&s.push(u)}return s}function hr(i,s){i.forEach(a=>Array.isArray(a)?hr(a,s):s(a))}function yo(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function sr(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function _n(i,s,a){let u=Hi(i,s);return u>=0?i[1|u]=a:(u=~u,function Ba(i,s,a,u){let d=i.length;if(d==s)i.push(a,u);else if(1===d)i.push(u,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function Ls(i,s){const a=Hi(i,s);if(a>=0)return i[1|a]}function Hi(i,s){return function Vs(i,s,a){let u=0,d=i.length>>a;for(;d!==u;){const f=u+(d-u>>1),_=i[f<<a];if(s===_)return f<<a;_>s?d=f:u=f+1}return~(d<<a)}(i,s,1)}const _i={},os="__NG_DI_FLAG__",Ir="ngTempTokenPath",Er=/\n/gm,sa="__source",sc=ge({provide:String,useValue:ge});let yi;function oa(i){const s=yi;return yi=i,s}function as(i,s=it.Default){if(void 0===yi)throw new Oe(203,"");return null===yi?Un(i,void 0,s):yi.get(i,s&it.Optional?null:void 0,s)}function w(i,s=it.Default){return(function hn(){return ur}()||as)(ie(i),s)}const M=w;function L(i){const s=[];for(let a=0;a<i.length;a++){const u=ie(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Oe(900,"");let d,f=it.Default;for(let _=0;_<u.length;_++){const v=u[_],b=de(v);"number"==typeof b?-1===b?d=v.token:f|=b:d=v}s.push(w(d,f))}else s.push(w(u))}return s}function Q(i,s){return i[os]=s,i.prototype[os]=s,i}function de(i){return i[os]}const Qe=Q(ia("Inject",i=>({token:i})),-1),ct=Q(ia("Optional"),8),et=Q(ia("SkipSelf"),4);class kl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function us(i){return i instanceof kl?i.changingThisBreaksApplicationSecurity:i}const Pg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,y=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Fn=(()=>((Fn=Fn||{})[Fn.NONE=0]="NONE",Fn[Fn.HTML=1]="HTML",Fn[Fn.STYLE=2]="STYLE",Fn[Fn.SCRIPT=3]="SCRIPT",Fn[Fn.URL=4]="URL",Fn[Fn.RESOURCE_URL=5]="RESOURCE_URL",Fn))();function Ng(i){const s=function dc(){const i=Te();return i&&i[12]}();return s?s.sanitize(Fn.URL,i)||"":function Fl(i,s){const a=function wd(i){return i instanceof kl&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}(i,"URL")?us(i):function p(i){return(i=String(i)).match(Pg)||i.match(y)?i:"unsafe:"+i}(pe(i))}const Xy="__ngContext__";function Sr(i,s){i[Xy]=s}function ff(i){const s=function xd(i){return i[Xy]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function mf(i){return i.ngOriginalError}function sv(i,...s){i.error(...s)}class _f{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),u=function aw(i){return i&&i.ngErrorLogger||sv}(s);u(this._console,"ERROR",s),a&&u(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&mf(s);for(;a&&mf(a);)a=mf(a);return a||null}}const jD=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(xt))();function tr(i){return i.ownerDocument.defaultView}function ht(i){return i instanceof Function?i():i}var wn=(()=>((wn=wn||{})[wn.Important=1]="Important",wn[wn.DashCase=2]="DashCase",wn))();function Pd(i,s){return undefined(i,s)}function Od(i){const s=i[3];return Lr(s)?s[3]:s}function yf(i){return Za(i[13])}function Ug(i){return Za(i[4])}function Za(i){for(;null!==i&&!Lr(i);)i=i[4];return i}function Hl(i,s,a,u,d){if(null!=u){let f,_=!1;Lr(u)?f=u:Qr(u)&&(_=!0,u=u[0]);const v=Jt(u);0===i&&null!==a?null==d?Rd(s,a,v):jl(s,a,v,d||null,!0):1===i&&null!==a?jl(s,a,v,d||null,!0):2===i?function qg(i,s,a){const u=Cf(i,s);u&&function qa(i,s,a,u){sn(i)?i.removeChild(s,a,u):s.removeChild(a)}(i,u,s,a)}(s,v,_):3===i&&s.destroyNode(v),null!=f&&function Ew(i,s,a,u,d){const f=a[7];f!==Jt(a)&&Hl(s,i,u,f,d);for(let v=10;v<a.length;v++){const b=a[v];Mf(b[1],b,i,s,u,f)}}(s,i,f,a,d)}}function cv(i,s,a){if(sn(i))return i.createElement(s,a);{const u=null!==a?function ao(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===u?i.createElement(s):i.createElementNS(u,s)}}function Wg(i,s){const a=i[9],u=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,ns(d,-1)),a.splice(u,1)}function dv(i,s){if(i.length<=10)return;const a=10+s,u=i[a];if(u){const d=u[17];null!==d&&d!==i&&Wg(d,u),s>0&&(i[a-1][4]=u[4]);const f=sr(i,10+s);!function GD(i,s){Mf(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const _=f[19];null!==_&&_.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function hv(i,s){if(!(256&s[2])){const a=s[11];sn(a)&&a.destroyNode&&Mf(i,s,a,3,null,null),function qD(i){let s=i[13];if(!s)return Gg(i[1],i);for(;s;){let a=null;if(Qr(s))a=s[13];else{const u=s[10];u&&(a=u)}if(!a){for(;s&&!s[4]&&s!==i;)Qr(s)&&Gg(s[1],s),s=s[3];null===s&&(s=i),Qr(s)&&Gg(s[1],s),a=s&&s[4]}s=a}}(s)}}function Gg(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function vf(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const d=s[a[u]];if(!(d instanceof ho)){const f=a[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const v=d[f[_]],b=f[_+1];try{b.call(v)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function yw(i,s){const a=i.cleanup,u=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const _=a[f+1],v="function"==typeof _?_(s):Jt(s[_]),b=u[d=a[f+2]],I=a[f+3];"boolean"==typeof I?v.removeEventListener(a[f],b,I):I>=0?u[d=I]():u[d=-I].unsubscribe(),f+=2}else{const _=u[d=a[f+1]];a[f].call(_)}if(null!==u){for(let f=d+1;f<u.length;f++)u[f]();s[7]=null}}(i,s),1===s[1].type&&sn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&Lr(s[3])){a!==s[3]&&Wg(a,s);const u=s[19];null!==u&&u.detachView(i)}}}function zg(i,s,a){return function Ef(i,s,a){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return a[0];if(2&u.flags){const d=i.data[u.directiveStart].encapsulation;if(d===Mt.None||d===Mt.Emulated)return null}return Kn(u,a)}(i,s.parent,a)}function jl(i,s,a,u,d){sn(i)?i.insertBefore(s,a,u,d):s.insertBefore(a,u,d)}function Rd(i,s,a){sn(i)?i.appendChild(s,a):s.appendChild(a)}function vw(i,s,a,u,d){null!==u?jl(i,s,a,u,d):Rd(i,s,a)}function Cf(i,s){return sn(i)?i.parentNode(s):s.parentNode}let wf=function cs(i,s,a){return 40&i.type?Kn(i,a):null};function Df(i,s,a,u){const d=zg(i,u,s),f=s[11],v=function ri(i,s,a){return wf(i,s,a)}(u.parent||s[6],u,s);if(null!=d)if(Array.isArray(a))for(let b=0;b<a.length;b++)vw(f,d,a[b],v,!1);else vw(f,d,a,v,!1)}function If(i,s){if(null!==s){const a=s.type;if(3&a)return Kn(s,i);if(4&a)return Zg(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return If(i,u);{const d=i[s.index];return Lr(d)?Zg(-1,d):Jt(d)}}if(32&a)return Pd(s,i)()||Jt(i[s.index]);{const u=Sf(i,s);return null!==u?Array.isArray(u)?u[0]:If(Od(i[16]),u):If(i,s.next)}}return null}function Sf(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Zg(i,s){const a=10+i+1;if(a<s.length){const u=s[a],d=u[1].firstChild;if(null!==d)return If(u,d)}return s[7]}function Af(i,s,a,u,d,f,_){for(;null!=a;){const v=u[a.index],b=a.type;if(_&&0===s&&(v&&Sr(Jt(v),u),a.flags|=4),64!=(64&a.flags))if(8&b)Af(i,s,a.child,u,d,f,!1),Hl(s,i,d,v,f);else if(32&b){const I=Pd(a,u);let A;for(;A=I();)Hl(s,i,d,A,f);Hl(s,i,d,v,f)}else 16&b?Yg(i,s,u,a,d,f):Hl(s,i,d,v,f);a=_?a.projectionNext:a.next}}function Mf(i,s,a,u,d,f){Af(a,u,i.firstChild,s,d,f,!1)}function Yg(i,s,a,u,d,f){const _=a[16],b=_[6].projection[u.projection];if(Array.isArray(b))for(let I=0;I<b.length;I++)Hl(s,i,d,b[I],f);else Af(i,s,b,_[3],d,f,!0)}function Nd(i,s,a){sn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function kd(i,s,a){sn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function pv(i,s,a){let u=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===u||i.charCodeAt(d+f)<=32)return d}a=d+1}}const gv="ng-template";function Kg(i,s,a){let u=0;for(;u<i.length;){let d=i[u++];if(a&&"class"===d){if(d=i[u],-1!==pv(d.toLowerCase(),s,0))return!0}else if(1===d){for(;u<i.length&&"string"==typeof(d=i[u++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function mv(i){return 4===i.type&&i.value!==gv}function _v(i,s,a){return s===(4!==i.type||a?i.value:gv)}function Pf(i,s,a){let u=4;const d=i.attrs||[],f=function Fd(i){for(let s=0;s<i.length;s++)if(Li(i[s]))return s;return i.length}(d);let _=!1;for(let v=0;v<s.length;v++){const b=s[v];if("number"!=typeof b){if(!_)if(4&u){if(u=2|1&u,""!==b&&!_v(i,b,a)||""===b&&1===s.length){if(ii(u))return!1;_=!0}}else{const I=8&u?b:s[++v];if(8&u&&null!==i.attrs){if(!Kg(i.attrs,I,a)){if(ii(u))return!1;_=!0}continue}const k=yv(8&u?"class":b,d,mv(i),a);if(-1===k){if(ii(u))return!1;_=!0;continue}if(""!==I){let Z;Z=k>f?"":d[k+1].toLowerCase();const ee=8&u?Z:null;if(ee&&-1!==pv(ee,I,0)||2&u&&I!==Z){if(ii(u))return!1;_=!0}}}}else{if(!_&&!ii(u)&&!ii(b))return!1;if(_&&ii(b))continue;_=!1,u=b|1&u}}return ii(u)||_}function ii(i){return 0==(1&i)}function yv(i,s,a,u){if(null===s)return-1;let d=0;if(u||!a){let f=!1;for(;d<s.length;){const _=s[d];if(_===i)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let v=s[++d];for(;"string"==typeof v;)v=s[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function Qg(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function vv(i,s,a=!1){for(let u=0;u<s.length;u++)if(Pf(i,s[u],a))return!0;return!1}function Cv(i,s){return i?":not("+s.trim()+")":s}function wv(i){let s=i[0],a=1,u=2,d="",f=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&u){const v=i[++a];d+="["+_+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?d+="."+_:4&u&&(d+=" "+_);else""!==d&&!ii(_)&&(s+=Cv(f,d),d=""),u=_,f=f||!ii(u);a++}return""!==d&&(s+=Cv(f,d)),s}const vt={};function Tv(i){Of(Pt(),Te(),Jn()+i,Wo())}function Of(i,s,a,u){if(!u)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Fi(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Yo(s,f,0,a)}ki(a)}function Rf(i,s){return i<<17|s<<2}function Hs(i){return i>>17&32767}function Xg(i){return 2|i}function ca(i){return(131068&i)>>2}function em(i,s){return-131069&i|s<<2}function tm(i){return 1|i}function Mr(i,s){const a=i.contentQueries;if(null!==a)for(let u=0;u<a.length;u+=2){const d=a[u],f=a[u+1];if(-1!==f){const _=i.data[f];Tl(d),_.contentQueries(2,s[f],f)}}}function wo(i,s,a,u,d,f,_,v,b,I){const A=s.blueprint.slice();return A[0]=d,A[2]=140|u,ts(A),A[3]=A[15]=i,A[8]=a,A[10]=_||i&&i[10],A[11]=v||i&&i[11],A[12]=b||i&&i[12]||null,A[9]=I||i&&i[9]||null,A[6]=f,A[16]=2==s.type?i[16]:A,A}function $l(i,s,a,u,d){let f=i.data[s];if(null===f)f=function Vf(i,s,a,u,d){const f=rs(),_=Cl(),b=i.data[s]=function Hv(i,s,a,u,d,f){return{type:a,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,a,s,u,d);return null===i.firstChild&&(i.firstChild=b),null!==f&&(_?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b)),b}(i,s,a,u,d),function Go(){return ot.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=u,f.attrs=d;const _=function $o(){const i=ot.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return vr(f,!0),f}function Wl(i,s,a,u){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return d}function fc(i,s,a){Ss(s);try{const u=i.viewQuery;null!==u&&ym(1,u,a);const d=i.template;null!==d&&lm(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Mr(i,s),i.staticViewQueries&&ym(2,i.viewQuery,a);const f=i.components;null!==f&&function Pw(i,s){for(let a=0;a<s.length;a++)Zf(i,s[a])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,co()}}function Gl(i,s,a,u){const d=s[2];if(256==(256&d))return;Ss(s);const f=Wo();try{ts(s),function bl(i){return ot.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&lm(i,s,a,2,u);const _=3==(3&d);if(!f)if(_){const I=i.preOrderCheckHooks;null!==I&&Fi(s,I,null)}else{const I=i.preOrderHooks;null!==I&&Yo(s,I,0,null),Ma(s,0)}if(function jw(i){for(let s=yf(i);null!==s;s=Ug(s)){if(!s[2])continue;const a=s[9];for(let u=0;u<a.length;u++){const d=a[u],f=d[3];0==(1024&d[2])&&ns(f,1),d[2]|=1024}}}(s),function Hw(i){for(let s=yf(i);null!==s;s=Ug(s))for(let a=10;a<s.length;a++){const u=s[a],d=u[1];fi(u)&&Gl(d,u,d.template,u[8])}}(s),null!==i.contentQueries&&Mr(i,s),!f)if(_){const I=i.contentCheckHooks;null!==I&&Fi(s,I)}else{const I=i.contentHooks;null!==I&&Yo(s,I,1),Ma(s,1)}!function Lv(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const d=a[u];if(d<0)ki(~d);else{const f=d,_=a[++u],v=a[++u];zo(_,f),v(2,s[f])}}}finally{ki(-1)}}(i,s);const v=i.components;null!==v&&function Qa(i,s){for(let a=0;a<s.length;a++)zf(i,s[a])}(s,v);const b=i.viewQuery;if(null!==b&&ym(2,b,u),!f)if(_){const I=i.viewCheckHooks;null!==I&&Fi(s,I)}else{const I=i.viewHooks;null!==I&&Yo(s,I,2),Ma(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ns(s[3],-1))}finally{co()}}function Vv(i,s,a,u){const d=s[10],f=!Wo(),_=lo(s);try{f&&!_&&d.begin&&d.begin(),_&&fc(i,s,u),Gl(i,s,a,u)}finally{f&&!_&&d.end&&d.end()}}function lm(i,s,a,u,d){const f=Jn(),_=2&u;try{ki(-1),_&&s.length>20&&Of(i,s,20,Wo()),a(u,d)}finally{ki(f)}}function pc(i,s,a){!El()||(function Wv(i,s,a,u){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Vi(a,s),Sr(u,s);const _=a.initialInputs;for(let v=d;v<f;v++){const b=i.data[v],I=Vr(b);I&&uI(s,a,b);const A=Ra(s,i,v,a);Sr(A,s),null!==_&&cI(0,v-d,A,b,0,_),I&&(Qn(a.index,s)[8]=A)}}(i,s,a,Kn(a,s)),128==(128&a.flags)&&function Gv(i,s,a){const u=a.directiveStart,d=a.directiveEnd,_=a.index,v=function zu(){return ot.lFrame.currentDirectiveIndex}();try{ki(_);for(let b=u;b<d;b++){const I=i.data[b],A=s[b];Is(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Wf(I,A)}}finally{ki(-1),Is(v)}}(i,s,a))}function Bf(i,s,a=Kn){const u=s.localNames;if(null!==u){let d=s.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],v=-1===_?a(s,i):i[_];i[d++]=v}}}function cm(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Ld(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Ld(i,s,a,u,d,f,_,v,b,I){const A=20+u,k=A+d,Z=function Bv(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:vt);return a}(A,k),ee="function"==typeof I?I():I;return Z[1]={type:i,blueprint:Z,template:a,queries:null,viewQuery:v,declTNode:s,data:Z.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:ee,incompleteFirstPass:!1}}function Uf(i,s,a,u){const d=vm(s);null===a?d.push(u):(d.push(a),i.firstCreatePass&&Gw(i).push(u,d.length-1))}function Hf(i,s,a){for(let u in i)if(i.hasOwnProperty(u)){const d=i[u];(a=null===a?{}:a).hasOwnProperty(u)?a[u].push(s,d):a[u]=[s,d]}return a}function wi(i,s,a,u,d,f,_,v){const b=Kn(s,a);let A,I=s.inputs;!v&&null!=I&&(A=I[u])?(Em(i,a,A,u,d),Ea(s)&&function hm(i,s){const a=Qn(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(u=function $v(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),d=null!=_?_(d,s.value||"",u):d,sn(f)?f.setProperty(b,u,d):en(u)||(b.setProperty?b.setProperty(u,d):b[u]=d))}function $f(i,s,a,u){let d=!1;if(El()){const f=function Gf(i,s,a){const u=i.directiveRegistry;let d=null;if(u)for(let f=0;f<u.length;f++){const _=u[f];vv(a,_.selectors,!1)&&(d||(d=[]),Xo(Vi(a,s),i,_.type),Vr(_)?(zv(i,a),d.unshift(_)):d.push(_))}return d}(i,s,a),_=null===u?null:{"":-1};if(null!==f){d=!0,Lw(a,i.data.length,f.length);for(let A=0;A<f.length;A++){const k=f[A];k.providersResolver&&k.providersResolver(k)}let v=!1,b=!1,I=Wl(i,s,f.length,null);for(let A=0;A<f.length;A++){const k=f[A];a.mergedAttrs=Qo(a.mergedAttrs,k.hostAttrs),Vw(i,a,s,I,k),Fw(I,k,_),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const Z=k.type.prototype;!v&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),v=!0),!b&&(Z.ngOnChanges||Z.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),I++}!function jv(i,s){const u=s.directiveEnd,d=i.data,f=s.attrs,_=[];let v=null,b=null;for(let I=s.directiveStart;I<u;I++){const A=d[I],k=A.inputs,Z=null===f||mv(s)?null:Bw(k,f);_.push(Z),v=Hf(k,I,v),b=Hf(A.outputs,I,b)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=_,s.inputs=v,s.outputs=b}(i,a)}_&&function pm(i,s,a){if(s){const u=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Oe(-301,!1);u.push(s[d],f)}}}(a,u,_)}return a.mergedAttrs=Qo(a.mergedAttrs,a.attrs),d}function kw(i,s,a,u,d,f){const _=f.hostBindings;if(_){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const b=~s.index;(function lI(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(v)!=b&&v.push(b),v.push(u,d,_)}}function Wf(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function zv(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Fw(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;Vr(s)&&(a[""]=i)}}function Lw(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function Vw(i,s,a,u,d){i.data[u]=d;const f=d.factory||(d.factory=Br(d.type)),_=new ho(f,Vr(d),null);i.blueprint[u]=_,a[u]=_,kw(i,s,0,u,Wl(i,a,d.hostVars,vt),d)}function uI(i,s,a){const u=Kn(s,i),d=cm(a),f=i[10],_=Yf(i,wo(i,d,null,a.onPush?64:16,u,s,f,f.createRenderer(u,a),null,null));i[s.index]=_}function ha(i,s,a,u,d,f){const _=Kn(i,s);!function Zv(i,s,a,u,d,f,_){if(null==f)sn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const v=null==_?pe(f):_(f,u||"",d);sn(i)?i.setAttribute(s,d,v,a):a?s.setAttributeNS(a,d,v):s.setAttribute(d,v)}}(s[11],_,f,i.value,a,u,d)}function cI(i,s,a,u,d,f){const _=f[s];if(null!==_){const v=u.setInput;for(let b=0;b<_.length;){const I=_[b++],A=_[b++],k=_[b++];null!==v?u.setInput(a,k,I,A):a[A]=k}}}function Bw(i,s){let a=null,u=0;for(;u<s.length;){const d=s[u];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[u+1])),u+=2}else u+=2;else u+=4}return a}function qv(i,s,a,u){return new Array(i,!0,!1,s,null,0,u,a,null,null)}function zf(i,s){const a=Qn(s,i);if(fi(a)){const u=a[1];80&a[2]?Gl(u,a,u.template,a[8]):a[5]>0&&Zl(a)}}function Zl(i){for(let u=yf(i);null!==u;u=Ug(u))for(let d=10;d<u.length;d++){const f=u[d];if(1024&f[2]){const _=f[1];Gl(_,f,_.template,f[8])}else f[5]>0&&Zl(f)}const a=i[1].components;if(null!==a)for(let u=0;u<a.length;u++){const d=Qn(a[u],i);fi(d)&&d[5]>0&&Zl(d)}}function Zf(i,s){const a=Qn(s,i),u=a[1];(function qf(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(u,a),fc(u,a,a[8])}function Yf(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Vd(i){for(;i;){i[2]|=64;const s=Od(i);if(ml(i)&&!s)return i;i=s}return null}function mm(i,s,a){const u=s[10];u.begin&&u.begin();try{Gl(i,s,i.template,a)}catch(d){throw Kv(s,d),d}finally{u.end&&u.end()}}function _m(i){!function gm(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],u=ff(a),d=u[1];Vv(d,u,d.template,a)}}(i[8])}function ym(i,s,a){Tl(0),s(i,a)}const Ww=(()=>Promise.resolve(null))();function vm(i){return i[7]||(i[7]=[])}function Gw(i){return i.cleanup||(i.cleanup=[])}function Kv(i,s){const a=i[9],u=a?a.get(_f,null):null;u&&u.handleError(s)}function Em(i,s,a,u,d){for(let f=0;f<a.length;){const _=a[f++],v=a[f++],b=s[_],I=i.data[_];null!==I.setInput?I.setInput(b,d,u,v):b[v]=d}}function js(i,s,a){const u=Ds(s,i);!function _w(i,s,a){sn(i)?i.setValue(s,a):s.textContent=a}(i[11],u,a)}function gc(i,s,a){let u=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let _=0;_<s.length;_++){const v=s[_];"number"==typeof v?f=v:1==f?d=me(d,v):2==f&&(u=me(u,v+": "+s[++_]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=d:i.classesWithoutHost=d}const mc=new Nn("INJECTOR",-1);class ql{get(s,a=_i){if(a===_i){const u=new Error(`NullInjectorError: No provider for ${ue(s)}!`);throw u.name="NullInjectorError",u}return a}}const Yl=new Nn("Set Injector scope."),Bd={},wm={};let Xf;function ep(){return void 0===Xf&&(Xf=new ql),Xf}function bm(i,s=null,a=null,u){const d=Ud(i,s,a,u);return d._resolveInjectorDefTypes(),d}function Ud(i,s=null,a=null,u){return new Tm(i,a,s||ep(),u)}class Tm{constructor(s,a,u,d=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&hr(a,v=>this.processProvider(v,s,a)),hr([s],v=>this.processInjectorType(v,[],f)),this.records.set(mc,Kl(void 0,this));const _=this.records.get(Yl);this.scope=null!=_?_.value:null,this.source=d||("object"==typeof s?null:ue(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=_i,u=it.Default){this.assertNotDestroyed();const d=oa(this),f=zt(void 0);try{if(!(u&it.SkipSelf)){let v=this.records.get(s);if(void 0===v){const b=function Xv(i){return"function"==typeof i||"object"==typeof i&&i instanceof Nn}(s)&&dn(s);v=b&&this.injectableDefInScope(b)?Kl(_c(s),Bd):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(u&it.Self?ep():this.parent).get(s,a=u&it.Optional&&a===_i?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Ir]=_[Ir]||[]).unshift(ue(s)),d)throw _;return function Ie(i,s,a,u){const d=i[Ir];throw s[sa]&&d.unshift(s[sa]),i.message=function je(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=ue(s);if(Array.isArray(s))d=s.map(ue).join(" -> ");else if("object"==typeof s){let f=[];for(let _ in s)if(s.hasOwnProperty(_)){let v=s[_];f.push(_+":"+("string"==typeof v?JSON.stringify(v):ue(v)))}d=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${d}]: ${i.replace(Er,"\n  ")}`}("\n"+i.message,d,a,u),i.ngTokenPath=d,i[Ir]=null,i}(_,s,"R3InjectorError",this.source)}throw _}finally{zt(f),oa(d)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,d)=>s.push(ue(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Oe(205,!1)}processInjectorType(s,a,u){if(!(s=ie(s)))return!1;let d=Ti(s);const f=null==d&&s.ngModule||void 0,_=void 0===f?s:f,v=-1!==u.indexOf(_);if(void 0!==f&&(d=Ti(f)),null==d)return!1;if(null!=d.imports&&!v){let A;u.push(_);try{hr(d.imports,k=>{this.processInjectorType(k,a,u)&&(void 0===A&&(A=[]),A.push(k))})}finally{}if(void 0!==A)for(let k=0;k<A.length;k++){const{ngModule:Z,providers:ee}=A[k];hr(ee,Ee=>this.processProvider(Ee,Z,ee||tt))}}this.injectorDefTypes.add(_);const b=Br(_)||(()=>new _);this.records.set(_,Kl(b,Bd));const I=d.providers;if(null!=I&&!v){const A=s;hr(I,k=>this.processProvider(k,A,I))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,u){let d=Ql(s=ie(s))?s:ie(s&&s.provide);const f=function Jv(i,s,a){return tp(i)?Kl(void 0,i.useValue):Kl(Dm(i),Bd)}(s);if(Ql(s)||!0!==s.multi)this.records.get(d);else{let _=this.records.get(d);_||(_=Kl(void 0,Bd,!0),_.factory=()=>L(_.multi),this.records.set(d,_)),d=s,_.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===Bd&&(a.value=wm,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Im(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ie(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function _c(i){const s=dn(i),a=null!==s?s.factory:Br(i);if(null!==a)return a;if(i instanceof Nn)throw new Oe(204,!1);if(i instanceof Function)return function Qv(i){const s=i.length;if(s>0)throw function Fs(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(s,"?"),new Oe(204,!1);const a=function lr(i){const s=i&&(i[Nr]||i[In]);if(s){const a=function gn(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Oe(204,!1)}function Dm(i,s,a){let u;if(Ql(i)){const d=ie(i);return Br(d)||_c(d)}if(tp(i))u=()=>ie(i.useValue);else if(function Hd(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...L(i.deps||[]));else if(function yc(i){return!(!i||!i.useExisting)}(i))u=()=>w(ie(i.useExisting));else{const d=ie(i&&(i.useClass||i.provide));if(!function jd(i){return!!i.deps}(i))return Br(d)||_c(d);u=()=>new d(...L(i.deps))}return u}function Kl(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function tp(i){return null!==i&&"object"==typeof i&&sc in i}function Ql(i){return"function"==typeof i}let bo=(()=>{class i{static create(a,u){var d;if(Array.isArray(a))return bm({name:""},u,a,"");{const f=null!==(d=a.name)&&void 0!==d?d:"";return bm({name:f},a.parent,a.providers,f)}}}return i.THROW_IF_NOT_FOUND=_i,i.NULL=new ql,i.\u0275prov=qt({token:i,providedIn:"any",factory:()=>w(mc)}),i.__NG_ELEMENT_ID__=-1,i})();function d0(i,s){qo(ff(i)[1],En())}function Pm(i){let s=function sp(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let d;if(Vr(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Oe(903,"");d=s.\u0275dir}if(d){if(a){u.push(d);const _=i;_.inputs=Om(i.inputs),_.declaredInputs=Om(i.declaredInputs),_.outputs=Om(i.outputs);const v=d.hostBindings;v&&eb(i,v);const b=d.viewQuery,I=d.contentQueries;if(b&&Rm(i,b),I&&Xw(i,I),fe(i.inputs,d.inputs),fe(i.declaredInputs,d.declaredInputs),fe(i.outputs,d.outputs),Vr(d)&&d.data.animation){const A=i.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const v=f[_];v&&v.ngInherit&&v(i),v===Pm&&(a=!1)}}s=Object.getPrototypeOf(s)}!function h0(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const d=i[u];d.hostVars=s+=d.hostVars,d.hostAttrs=Qo(d.hostAttrs,a=Qo(a,d.hostAttrs))}}(u)}function Om(i){return i===Xt?{}:i===tt?[]:i}function Rm(i,s){const a=i.viewQuery;i.viewQuery=a?(u,d)=>{s(u,d),a(u,d)}:s}function Xw(i,s){const a=i.contentQueries;i.contentQueries=a?(u,d,f)=>{s(u,d,f),a(u,d,f)}:s}function eb(i,s){const a=i.hostBindings;i.hostBindings=a?(u,d)=>{s(u,d),a(u,d)}:s}let vc=null;function Ec(){if(!vc){const i=xt.Symbol;if(i&&i.iterator)vc=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const u=s[a];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(vc=u)}}}return vc}function $d(i){return!!Nm(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ec()in i)}function Nm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Ws(i,s,a){return i[s]=a}function xr(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function ap(i,s,a,u){const d=Te();return xr(d,pi(),s)&&(Pt(),ha(xn(),d,i,s,a,u)),ap}function eu(i,s,a,u){return xr(i,pi(),a)?s+pe(a)+u:vt}function Vm(i,s,a,u,d,f,_,v){const b=Te(),I=Pt(),A=i+20,k=I.firstCreatePass?function v0(i,s,a,u,d,f,_,v,b){const I=s.consts,A=$l(s,i,4,_||null,Tr(I,v));$f(s,a,A,Tr(I,b)),qo(s,A);const k=A.tViews=Ld(2,A,u,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,A),k.queries=s.queries.embeddedTView(A)),A}(A,I,b,s,a,u,d,f,_):I.data[A];vr(k,!1);const Z=b[11].createComment("");Df(I,b,Z,k),Sr(Z,b),Yf(b,b[A]=qv(Z,b,Z,k)),Qi(k)&&pc(I,b,k),null!=_&&Bf(b,k,v)}function el(i,s=it.Default){const a=Te();return null===a?w(i,s):Ju(En(),a,ie(i),s)}function M0(){throw new Error("invalid")}function zs(i,s,a){const u=Te();return xr(u,pi(),s)&&wi(Pt(),xn(),u,i,s,u[11],a,!1),zs}function fs(i,s,a,u,d){const _=d?"class":"style";Em(i,a,s.inputs[_],_,u)}function hp(i,s,a,u){const d=Te(),f=Pt(),_=20+i,v=d[11],b=d[_]=cv(v,s,function qu(){return ot.lFrame.currentNamespace}()),I=f.firstCreatePass?function au(i,s,a,u,d,f,_){const v=s.consts,I=$l(s,i,2,d,Tr(v,f));return $f(s,a,I,Tr(v,_)),null!==I.attrs&&gc(I,I.attrs,!1),null!==I.mergedAttrs&&gc(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(_,f,d,0,s,a,u):f.data[_];vr(I,!0);const A=I.mergedAttrs;null!==A&&un(v,b,A);const k=I.classes;null!==k&&kd(v,b,k);const Z=I.styles;return null!==Z&&Nd(v,b,Z),64!=(64&I.flags)&&Df(f,d,b,I),0===function Bo(){return ot.lFrame.elementDepthCount}()&&Sr(b,d),function ju(){ot.lFrame.elementDepthCount++}(),Qi(I)&&(pc(f,d,I),function um(i,s,a){if(Ru(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const _=i.data[f];_.contentQueries&&_.contentQueries(1,a[f],f)}}}(f,I,d)),null!==u&&Bf(d,I),hp}function tl(){let i=En();Cl()?function wl(){ot.lFrame.isParent=!1}():(i=i.parent,vr(i,!1));const s=i;!function Uo(){ot.lFrame.elementDepthCount--}();const a=Pt();return a.firstCreatePass&&(qo(a,i),Ru(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function fd(i){return 0!=(16&i.flags)}(s)&&fs(a,s,Te(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Yh(i){return 0!=(32&i.flags)}(s)&&fs(a,s,Te(),s.stylesWithoutHost,!1),tl}function Yd(i,s,a,u){return hp(i,s,a,u),tl(),Yd}function P0(){return Te()}function $m(i){return!!i&&"function"==typeof i.then}function Wm(i){return!!i&&"function"==typeof i.subscribe}const pp=Wm;function Ac(i,s,a,u){const d=Te(),f=Pt(),_=En();return function Mc(i,s,a,u,d,f,_,v){const b=Qi(u),A=i.firstCreatePass&&Gw(i),k=s[8],Z=vm(s);let ee=!0;if(3&u.type||v){const We=Kn(u,s),Ye=v?v(We):We,Pe=Z.length,lt=v?Ht=>v(Jt(Ht[u.index])):u.index;if(sn(a)){let Ht=null;if(!v&&b&&(Ht=function db(i,s,a,u){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===a&&d[f+1]===u){const v=s[7],b=d[f+2];return v.length>b?v[b]:null}"string"==typeof _&&(f+=2)}return null}(i,s,d,u.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=f,Ht.__ngLastListenerFn__=f,ee=!1;else{f=Gm(u,s,k,f,!1);const on=a.listen(Ye,d,f);Z.push(f,on),A&&A.push(d,lt,Pe,Pe+1)}}else f=Gm(u,s,k,f,!0),Ye.addEventListener(d,f,_),Z.push(f),A&&A.push(d,lt,Pe,_)}else f=Gm(u,s,k,f,!1);const Ee=u.outputs;let ke;if(ee&&null!==Ee&&(ke=Ee[d])){const We=ke.length;if(We)for(let Ye=0;Ye<We;Ye+=2){const an=s[ke[Ye]][ke[Ye+1]].subscribe(f),Or=Z.length;Z.push(f,an),A&&A.push(d,u.index,Or,-(Or+1))}}}(f,d,d[11],_,i,s,!!a,u),Ac}function O0(i,s,a,u){try{return!1!==a(u)}catch(d){return Kv(i,d),!1}}function Gm(i,s,a,u,d){return function f(_){if(_===Function)return u;const v=2&i.flags?Qn(i.index,s):s;0==(32&s[2])&&Vd(v);let b=O0(s,0,u,_),I=f.__ngNextListenerFn__;for(;I;)b=O0(s,0,I,_)&&b,I=I.__ngNextListenerFn__;return d&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function xc(i=1){return function gi(i){return(ot.lFrame.contextLView=function cd(i,s){for(;i>0;)s=s[15],i--;return s}(i,ot.lFrame.contextLView))[8]}(i)}function mp(i,s,a){return _p(i,"",s,"",a),mp}function _p(i,s,a,u,d){const f=Te(),_=eu(f,s,a,u);return _!==vt&&wi(Pt(),xn(),f,i,_,f[11],d,!1),_p}function Ep(i,s,a,u,d){const f=i[a+1],_=null===s;let v=u?Hs(f):ca(f),b=!1;for(;0!==v&&(!1===b||_);){const A=i[v+1];Jm(i[v],s)&&(b=!0,i[v+1]=u?tm(A):Xg(A)),v=u?Hs(A):ca(A)}b&&(i[a+1]=u?Xg(f):tm(f))}function Jm(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Hi(i,s)>=0}function Cp(i,s,a){return Zs(i,s,a,!1),Cp}function t_(i,s){return Zs(i,s,null,!0),t_}function Zs(i,s,a,u){const d=Te(),f=Pt(),_=function Ni(i){const s=ot.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}(2);f.firstUpdatePass&&function cu(i,s,a,u){const d=i.data;if(null===d[a+1]){const f=d[Jn()],_=function Kd(i,s){return s>=i.expandoStartIndex}(i,a);(function i_(i,s){return 0!=(i.flags&(s?16:32))})(f,u)&&null===s&&!_&&(s=!1),s=function H0(i,s,a,u){const d=function Sa(i){const s=ot.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=u?s.residualClasses:s.residualStyles;if(null===d)0===(u?s.classBindings:s.styleBindings)&&(a=du(a=n_(null,i,s,a,u),s.attrs,u),f=null);else{const _=s.directiveStylingLast;if(-1===_||i[_]!==d)if(a=n_(d,i,s,a,u),null===f){let b=function Cb(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==ca(u))return i[Hs(u)]}(i,s,u);void 0!==b&&Array.isArray(b)&&(b=n_(null,i,s,b[1],u),b=du(b,s.attrs,u),function wb(i,s,a,u){i[Hs(a?s.classBindings:s.styleBindings)]=u}(i,s,u,b))}else f=function bb(i,s,a){let u;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)u=du(u,i[f].hostAttrs,a);return du(u,s.attrs,a)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,u),function fb(i,s,a,u,d,f){let _=f?s.classBindings:s.styleBindings,v=Hs(_),b=ca(_);i[u]=a;let A,I=!1;if(Array.isArray(a)){const k=a;A=k[1],(null===A||Hi(k,A)>0)&&(I=!0)}else A=a;if(d)if(0!==b){const Z=Hs(i[v+1]);i[u+1]=Rf(Z,v),0!==Z&&(i[Z+1]=em(i[Z+1],u)),i[v+1]=function bw(i,s){return 131071&i|s<<17}(i[v+1],u)}else i[u+1]=Rf(v,0),0!==v&&(i[v+1]=em(i[v+1],u)),v=u;else i[u+1]=Rf(b,0),0===v?v=u:i[b+1]=em(i[b+1],u),b=u;I&&(i[u+1]=Xg(i[u+1])),Ep(i,A,u,!0),Ep(i,A,u,!1),function Qm(i,s,a,u,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Hi(f,s)>=0&&(a[u+1]=tm(a[u+1]))}(s,A,i,u,f),_=Rf(v,b),f?s.classBindings=_:s.styleBindings=_}(d,f,s,a,_,u)}}(f,i,_,u),s!==vt&&xr(d,_,s)&&function G0(i,s,a,u,d,f,_,v){if(!(3&s.type))return;const b=i.data,I=b[v+1];Qd(function Iv(i){return 1==(1&i)}(I)?r_(b,s,a,d,ca(I),_):void 0)||(Qd(f)||function Dv(i){return 2==(2&i)}(I)&&(f=r_(b,null,a,d,v,_)),function xf(i,s,a,u,d){const f=sn(i);if(s)d?f?i.addClass(a,u):a.classList.add(u):f?i.removeClass(a,u):a.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:wn.DashCase;if(null==d)f?i.removeStyle(a,u,_):a.style.removeProperty(u);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),_|=wn.Important),f?i.setStyle(a,u,d,_):a.style.setProperty(u,d,v?"important":"")}}}(u,_,Ds(Jn(),a),d,f))}(f,f.data[Jn()],d,d[11],i,d[_+1]=function z0(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ue(us(i)))),i}(s,a),u,_)}function n_(i,s,a,u,d){let f=null;const _=a.directiveEnd;let v=a.directiveStylingLast;for(-1===v?v=a.directiveStart:v++;v<_&&(f=s[v],u=du(u,f.hostAttrs,d),f!==i);)v++;return null!==i&&(a.directiveStylingLast=v),u}function du(i,s,a){const u=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const _=s[f];"number"==typeof _?d=_:d===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),_n(i,_,!!a||s[++f]))}return void 0===i?null:i}function r_(i,s,a,u,d,f){const _=null===s;let v;for(;d>0;){const b=i[d],I=Array.isArray(b),A=I?b[1]:b,k=null===A;let Z=a[d+1];Z===vt&&(Z=k?tt:void 0);let ee=k?Ls(Z,u):A===u?Z:void 0;if(I&&!Qd(ee)&&(ee=Ls(b,u)),Qd(ee)&&(v=ee,_))return v;const Ee=i[d+1];d=_?Hs(Ee):ca(Ee)}if(null!==s){let b=f?s.residualClasses:s.residualStyles;null!=b&&(v=Ls(b,u))}return v}function Qd(i){return void 0!==i}function Z0(i,s=""){const a=Te(),u=Pt(),d=i+20,f=u.firstCreatePass?$l(u,d,1,s,null):u.data[d],_=a[d]=function jg(i,s){return sn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Df(u,a,_,f),vr(f,!1)}function wp(i){return Jd("",i,""),wp}function Jd(i,s,a){const u=Te(),d=eu(u,i,s,a);return d!==vt&&js(u,Jn(),d),Jd}const Wr=void 0;var Ys=["en",[["a","p"],["AM","PM"],Wr],[["AM","PM"],Wr,Wr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Wr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Wr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Wr,"{1} 'at' {0}",Wr],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bp(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let Pc={};function p_(i){const s=function nE(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=tE(s);if(a)return a;const u=s.split("-")[0];if(a=tE(u),a)return a;if("en"===u)return Ys;throw new Error(`Missing locale data for the locale "${i}".`)}function Tp(i){return p_(i)[dt.PluralCase]}function tE(i){return i in Pc||(Pc[i]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[i]),Pc[i]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const ih="en-US";let iE=ih;function al(i,s,a,u,d){if(i=ie(i),Array.isArray(i))for(let f=0;f<i.length;f++)al(i[f],s,a,u,d);else{const f=Pt(),_=Te();let v=Ql(i)?i:ie(i.provide),b=Dm(i);const I=En(),A=1048575&I.providerIndexes,k=I.directiveStart,Z=I.providerIndexes>>20;if(Ql(i)||!i.multi){const ee=new ho(b,d,el),Ee=A_(v,s,d?A:A+Z,k);-1===Ee?(Xo(Vi(I,_),f,v),Up(f,i,s.length),s.push(v),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(ee),_.push(ee)):(a[Ee]=ee,_[Ee]=ee)}else{const ee=A_(v,s,A+Z,k),Ee=A_(v,s,A,A+Z),ke=ee>=0&&a[ee],We=Ee>=0&&a[Ee];if(d&&!We||!d&&!ke){Xo(Vi(I,_),f,v);const Ye=function Gb(i,s,a,u,d){const f=new ho(i,a,el);return f.multi=[],f.index=s,f.componentProviders=0,dh(f,d,u&&!a),f}(d?Wb:$b,a.length,d,u,b);!d&&We&&(a[Ee].providerFactory=Ye),Up(f,i,s.length,0),s.push(v),I.directiveStart++,I.directiveEnd++,d&&(I.providerIndexes+=1048576),a.push(Ye),_.push(Ye)}else Up(f,i,ee>-1?ee:Ee,dh(a[d?Ee:ee],b,!d&&u));!d&&u&&We&&a[Ee].componentProviders++}}}function Up(i,s,a,u){const d=Ql(s),f=function zw(i){return!!i.useClass}(s);if(d||f){const b=(f?ie(s.useClass):s).prototype.ngOnDestroy;if(b){const I=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const A=I.indexOf(a);-1===A?I.push(a,[u,b]):I[A+1].push(u,b)}else I.push(a,b)}}}function dh(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function A_(i,s,a,u){for(let d=a;d<u;d++)if(s[d]===i)return d;return-1}function $b(i,s,a,u){return M_(this.multi,[])}function Wb(i,s,a,u){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,v=Ra(a,a[1],this.providerFactory.index,u);f=v.slice(0,_),M_(d,f);for(let b=_;b<v.length;b++)f.push(v[b])}else f=[],M_(d,f);return f}function M_(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function mE(i,s=[]){return a=>{a.providersResolver=(u,d)=>function S_(i,s,a){const u=Pt();if(u.firstCreatePass){const d=Vr(i);al(a,u.data,u.blueprint,d,!0),al(s,u.data,u.blueprint,d,!1)}}(u,d?d(i):i,s)}}class x_{}class Zb{resolveComponentFactory(s){throw function _E(i){const s=Error(`No component factory found for ${ue(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Hp=(()=>{class i{}return i.NULL=new Zb,i})();function qb(){return Hc(En(),Te())}function Hc(i,s){return new ll(Kn(i,s))}let ll=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=qb,i})();function P_(i){return i instanceof ll?i.nativeElement:i}class hh{}let Kb=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function vE(){const i=Te(),a=Qn(En().index,i);return function O_(i){return i[11]}(Qr(a)?a:i)}(),i})(),EE=(()=>{class i{}return i.\u0275prov=qt({token:i,providedIn:"root",factory:()=>null}),i})();class CE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const wE=new CE("13.3.2"),jp={};function jc(i,s,a,u,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&u.push(Jt(f)),Lr(f))for(let v=10;v<f.length;v++){const b=f[v],I=b[1].firstChild;null!==I&&jc(b[1],b,I,u)}const _=a.type;if(8&_)jc(i,s,a.child,u);else if(32&_){const v=Pd(a,s);let b;for(;b=v();)u.push(b)}else if(16&_){const v=Sf(s,a);if(Array.isArray(v))u.push(...v);else{const b=Od(s[16]);jc(b[1],b,v,u,!0)}}a=d?a.projectionNext:a.next}return u}class fh{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return jc(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Lr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(dv(s,u),sr(a,u))}this._attachedToViewContainer=!1}hv(this._lView[1],this._lView)}onDestroy(s){Uf(this._lView[1],this._lView,null,s)}markForCheck(){Vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){mm(this._lView[1],this._lView,this.context)}checkNoChanges(){!function $w(i,s,a){uo(!0);try{mm(i,s,a)}finally{uo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Oe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZD(i,s){Mf(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Oe(902,"");this._appRef=s}}class Qb extends fh{constructor(s){super(s),this._view=s}detectChanges(){_m(this._view)}checkNoChanges(){!function Yv(i){uo(!0);try{_m(i)}finally{uo(!1)}}(this._view)}get context(){return null}}class bE extends Hp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ke(s);return new ph(a,this.ngModule)}}function TE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class ph extends x_{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function hc(i){return i.map(wv).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return TE(this.componentDef.inputs)}get outputs(){return TE(this.componentDef.outputs)}create(s,a,u,d){const f=(d=d||this.ngModule)?function $p(i,s){return{get:(a,u,d)=>{const f=i.get(a,jp,d);return f!==jp||u===jp?f:s.get(a,u,d)}}}(s,d.injector):s,_=f.get(hh,Fo),v=f.get(EE,null),b=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=u?function dm(i,s,a){if(sn(i))return i.selectRootElement(s,a===Mt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(b,u,this.componentDef.encapsulation):cv(_.createRenderer(null,this.componentDef),I,function DE(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(I)),k=this.componentDef.onPush?576:528,Z=function ip(i,s){return{components:[],scheduler:i||jD,clean:Ww,playerHandler:s||null,flags:0}}(),ee=Ld(0,null,null,1,0,null,null,null,null,null),Ee=wo(null,ee,Z,k,null,null,_,b,v,f);let ke,We;Ss(Ee);try{const Ye=function rp(i,s,a,u,d,f){const _=a[1];a[20]=i;const b=$l(_,20,2,"#host",null),I=b.mergedAttrs=s.hostAttrs;null!==I&&(gc(b,I,!0),null!==i&&(un(d,i,I),null!==b.classes&&kd(d,i,b.classes),null!==b.styles&&Nd(d,i,b.styles)));const A=u.createRenderer(i,s),k=wo(a,cm(s),null,s.onPush?64:16,a[20],b,u,A,f||null,null);return _.firstCreatePass&&(Xo(Vi(b,a),_,s.type),zv(_,b),Lw(b,a.length,1)),Yf(a,k),a[20]=k}(A,this.componentDef,Ee,_,b);if(A)if(u)un(b,A,["ng-version",wE.full]);else{const{attrs:Pe,classes:lt}=function bv(i){const s=[],a=[];let u=1,d=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++u]):8===d&&a.push(f);else{if(!ii(d))break;d=f}u++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);Pe&&un(b,A,Pe),lt&&lt.length>0&&kd(b,A,lt.join(" "))}if(We=Mn(ee,20),void 0!==a){const Pe=We.projection=[];for(let lt=0;lt<this.ngContentSelectors.length;lt++){const Ht=a[lt];Pe.push(null!=Ht?Array.from(Ht):null)}}ke=function c0(i,s,a,u,d){const f=a[1],_=function si(i,s,a){const u=En();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Vw(i,u,s,Wl(i,s,1,null),a));const d=Ra(s,i,u.directiveStart,u);Sr(d,s);const f=Kn(u,s);return f&&Sr(f,s),d}(f,a,s);if(u.components.push(_),i[8]=_,d&&d.forEach(b=>b(_,s)),s.contentQueries){const b=En();s.contentQueries(1,_,b.directiveStart)}const v=En();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ki(v.index),kw(a[1],v,0,v.directiveStart,v.directiveEnd,s),Wf(s,_)),_}(Ye,this.componentDef,Ee,Z,[d0]),fc(ee,Ee,null)}finally{co()}return new SE(this.componentType,ke,Hc(We,Ee),Ee,We)}}class SE extends class zb{}{constructor(s,a,u,d,f){super(),this.location=u,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Qb(d),this.componentType=s}get injector(){return new mo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class $c{}class AE{}const Wc=new Map;class k_ extends $c{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new bE(this);const u=St(s);this._bootstrapComponents=ht(u.bootstrap),this._r3Injector=Ud(s,a,[{provide:$c,useValue:this},{provide:Hp,useValue:this.componentFactoryResolver}],ue(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=bo.THROW_IF_NOT_FOUND,u=it.Default){return s===bo||s===$c||s===mc?this:this._r3Injector.get(s,a,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Wp extends AE{constructor(s){super(),this.moduleType=s,null!==St(s)&&function Jb(i){const s=new Set;!function a(u){const d=St(u,!0),f=d.id;null!==f&&(function ME(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${ue(s)} vs ${ue(s.name)}`)}(f,Wc.get(f),u),Wc.set(f,u));const _=ht(d.imports);for(const v of _)s.has(v)||(s.add(v),a(v))}(i)}(s)}create(s){return new k_(this.moduleType,s)}}function F_(i,s,a,u){return B_(Te(),Wn(),i,s,a,u)}function gh(i,s,a,u,d){return function ma(i,s,a,u,d,f,_){const v=s+a;return function Xl(i,s,a,u){const d=xr(i,s,a);return xr(i,s+1,u)||d}(i,v,d,f)?Ws(i,v+2,_?u.call(_,d,f):u(d,f)):mh(i,v+2)}(Te(),Wn(),i,s,a,u,d)}function mh(i,s){const a=i[s];return a===vt?void 0:a}function B_(i,s,a,u,d,f){const _=s+a;return xr(i,_,d)?Ws(i,_+1,f?u.call(f,d):u(d)):mh(i,_+1)}function _h(i,s){const a=Pt();let u;const d=i+20;a.firstCreatePass?(u=function Gp(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[d]=u,u.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,u.onDestroy)):u=a.data[d];const f=u.factory||(u.factory=Br(u.type)),_=zt(el);try{const v=Os(!1),b=f();return Os(v),function sb(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,Te(),d,b),b}finally{zt(_)}}function PE(i,s,a){const u=i+20,d=Te(),f=function Ri(i,s){return i[s]}(d,u);return function yh(i,s){return i[1].data[s].pure}(d,u)?B_(d,Wn(),s,f.transform,a,f):f.transform(a)}function yu(i){return s=>{setTimeout(i,void 0,s)}}const So=class ul extends l.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,u){var d,f,_;let v=s,b=a||(()=>null),I=u;if(s&&"object"==typeof s){const k=s;v=null===(d=k.next)||void 0===d?void 0:d.bind(k),b=null===(f=k.error)||void 0===f?void 0:f.bind(k),I=null===(_=k.complete)||void 0===_?void 0:_.bind(k)}this.__isAsync&&(b=yu(b),v&&(v=yu(v)),I&&(I=yu(I)));const A=super.subscribe({next:v,error:b,complete:I});return s instanceof V.w0&&s.add(A),A}};function oT(){return this._results[Ec()]()}class $_{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ec(),u=$_.prototype;u[a]||(u[a]=oT)}get changes(){return this._changes||(this._changes=new So)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const u=this;u.dirty=!1;const d=ir(s);(this._changesDetected=!function tc(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let d=i[u],f=s[u];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(u._results,d,a))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let cl=(()=>{class i{}return i.__NG_ELEMENT_ID__=lT,i})();const aT=cl,RE=class extends aT{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}createEmbeddedView(s){const a=this._declarationTContainer.tViews,u=wo(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(a)),fc(a,u,s),new fh(u)}};function lT(){return vh(En(),Te())}function vh(i,s){return 4&i.type?new RE(s,i,Hc(i,s)):null}let Eh=(()=>{class i{}return i.__NG_ELEMENT_ID__=zp,i})();function zp(){return G_(En(),Te())}const uT=Eh,vu=class extends uT{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Hc(this._hostTNode,this._hostLView)}get injector(){return new mo(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ur(this._hostTNode,this._hostLView);if(bt(s)){const a=Gn(s,this._hostLView),u=Jo(s);return new mo(a[1].data[u+8],a)}return new mo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=W_(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,u){const d=s.createEmbeddedView(a||{});return this.insert(d,u),d}createComponent(s,a,u,d,f){const _=s&&!function ss(i){return"function"==typeof i}(s);let v;if(_)v=a;else{const k=a||{};v=k.index,u=k.injector,d=k.projectableNodes,f=k.ngModuleRef}const b=_?s:new ph(Ke(s)),I=u||this.parentInjector;if(!f&&null==b.ngModule){const Z=(_?I:this.parentInjector).get($c,null);Z&&(f=Z)}const A=b.create(I,d,void 0,f);return this.insert(A.hostView,v),A}insert(s,a){const u=s._lView,d=u[1];if(function vl(i){return Lr(i[3])}(u)){const A=this.indexOf(s);if(-1!==A)this.detach(A);else{const k=u[3],Z=new vu(k,k[6],k[3]);Z.detach(Z.indexOf(s))}}const f=this._adjustIndex(a),_=this._lContainer;!function YD(i,s,a,u){const d=10+u,f=a.length;u>0&&(a[d-1][4]=s),u<f-10?(s[4]=a[d],yo(a,10+u,s)):(a.push(s),s[4]=null),s[3]=a;const _=s[17];null!==_&&a!==_&&function $g(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(_,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(d,u,_,f);const v=Zg(f,_),b=u[11],I=Cf(b,_[7]);return null!==I&&function zD(i,s,a,u,d,f){u[0]=d,u[6]=s,Mf(i,u,a,1,d,f)}(d,_[6],b,u,I,v),s.attachToViewContainerRef(),yo(Zp(_),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=W_(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=dv(this._lContainer,a);u&&(sr(Zp(this._lContainer),a),hv(u[1],u))}detach(s){const a=this._adjustIndex(s,-1),u=dv(this._lContainer,a);return u&&null!=sr(Zp(this._lContainer),a)?new fh(u):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function W_(i){return i[8]}function Zp(i){return i[8]||(i[8]=[])}function G_(i,s){let a;const u=s[i.index];if(Lr(u))a=u;else{let d;if(8&i.type)d=Jt(u);else{const f=s[11];d=f.createComment("");const _=Kn(i,s);jl(f,Cf(f,_),d,function KD(i,s){return sn(i)?i.nextSibling(s):s.nextSibling}(f,_),!1)}s[i.index]=a=qv(u,s,d,i),Yf(s,a)}return new vu(a,i,s)}class wh{constructor(s){this.queryList=s,this.matches=null}clone(){return new wh(this.queryList)}setDirty(){this.queryList.setDirty()}}class bh{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<u;f++){const _=a.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new bh(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==Jp(s,a).matches&&this.queries[a].setDirty()}}class kE{constructor(s,a,u=null){this.predicate=s,this.flags=a,this.read=u}}class Eu{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const d=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(s,d);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new Eu(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class z_{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new z_(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const f=u[d];this.matchTNodeWithReadOption(s,a,cT(a,f)),this.matchTNodeWithReadOption(s,a,ta(a,s,f,!1,!1))}else u===cl?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,ta(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===ll||d===Eh||d===cl&&4&a.type)this.addMatch(a.index,-2);else{const f=ta(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function cT(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function Z_(i,s,a,u){return-1===a?function dT(i,s){return 11&i.type?Hc(i,s):4&i.type?vh(i,s):null}(s,i):-2===a?function q_(i,s,a){return a===ll?Hc(s,i):a===cl?vh(s,i):a===Eh?G_(s,i):void 0}(i,s,u):Ra(i,i[1],a,s)}function FE(i,s,a,u){const d=s[19].queries[u];if(null===d.matches){const f=i.data,_=a.matches,v=[];for(let b=0;b<_.length;b+=2){const I=_[b];v.push(I<0?null:Z_(s,f[I],_[b+1],a.metadata.read))}d.matches=v}return d.matches}function Yp(i,s,a,u){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const _=FE(i,s,d,a);for(let v=0;v<f.length;v+=2){const b=f[v];if(b>0)u.push(_[v/2]);else{const I=f[v+1],A=s[-b];for(let k=10;k<A.length;k++){const Z=A[k];Z[17]===Z[3]&&Yp(Z[1],Z,I,u)}if(null!==A[9]){const k=A[9];for(let Z=0;Z<k.length;Z++){const ee=k[Z];Yp(ee[1],ee,I,u)}}}}}return u}function LE(i){const s=Te(),a=Pt(),u=Zo();Tl(u+1);const d=Jp(a,u);if(i.dirty&&lo(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Yp(a,s,u,[]):FE(a,s,d,u);i.reset(f,P_),i.notifyOnChanges()}return!0}return!1}function VE(i,s,a){const u=Pt();u.firstCreatePass&&(Th(u,new kE(i,s,a),-1),2==(2&s)&&(u.staticViewQueries=!0)),Qp(u,Te(),s)}function Y_(i,s,a,u){const d=Pt();if(d.firstCreatePass){const f=En();Th(d,new kE(s,a,u),f.index),function Cu(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}Qp(d,Te(),a)}function Kp(){return function K_(i,s){return i[19].queries[s].queryList}(Te(),Zo())}function Qp(i,s,a){const u=new $_(4==(4&a));Uf(i,s,u,u.destroy),null===s[19]&&(s[19]=new bh),s[19].queries.push(new wh(u))}function Th(i,s,a){null===i.queries&&(i.queries=new Eu),i.queries.track(new z_(s,a))}function Jp(i,s){return i.queries.getByIndex(s)}function Js(...i){}const sg=new Nn("Application Initializer");let Yc=(()=>{class i{constructor(a){this.appInits=a,this.resolve=Js,this.reject=Js,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if($m(f))a.push(f);else if(pp(f)){const _=new Promise((v,b)=>{f.subscribe({complete:v,error:b})});a.push(_)}}Promise.all(a).then(()=>{u()}).catch(d=>{this.reject(d)}),0===a.length&&u(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(w(sg,8))},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const XE=new Nn("AppId",{providedIn:"root",factory:function bu(){return`${og()}${og()}${og()}`}});function og(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iy=new Nn("Platform Initializer"),sy=new Nn("Platform ID"),Ah=new Nn("appBootstrapListener");let ag=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();const oy=new Nn("LocaleId",{providedIn:"root",factory:()=>M(oy,it.Optional|it.SkipSelf)||function CT(){return"undefined"!=typeof $localize&&$localize.locale||ih}()}),ay=new Nn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tC{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let nC=(()=>{class i{compileModuleSync(a){return new Wp(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),f=ht(St(a).declarations).reduce((_,v)=>{const b=Ke(v);return b&&_.push(new ph(b)),_},[]);return new tC(u,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const hl=(()=>Promise.resolve(0))();function Kc(i){"undefined"==typeof Zone?hl.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Pr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new So(!1),this.onMicrotaskEmpty=new So(!1),this.onStable=new So(!1),this.onError=new So(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&a,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ys(){let i=xt.requestAnimationFrame,s=xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function LI(i){const s=()=>{!function Tu(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(xt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,uy(i),i.isCheckStableRunning=!0,lg(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),uy(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,d,f,_,v)=>{try{return iC(i),a.invokeTask(d,f,_,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),ug(i)}},onInvoke:(a,u,d,f,_,v,b)=>{try{return iC(i),a.invoke(d,f,_,v,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),ug(i)}},onHasTask:(a,u,d,f)=>{a.hasTask(d,f),u===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,uy(i),lg(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Pr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,s,rC,Js,Js);try{return f.runTask(_,a,u)}finally{f.cancelTask(_)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const rC={};function lg(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function uy(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function iC(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function ug(i){i._nesting--,lg(i)}class TT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new So,this.onMicrotaskEmpty=new So,this.onStable=new So,this.onError=new So}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,d){return s.apply(a,u)}}let sC=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pr.assertNotInAngularZone(),Kc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kc(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,d){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),a(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,u,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(w(Pr))},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})(),oC=(()=>{class i{constructor(){this._applications=new Map,Qc.addToWindow(this)}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Qc.findTestabilityInTree(this,a,u)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();class DT{addToWindow(s){}findTestabilityInTree(s,a,u){return null}}function cg(i){Qc=i}let ui,Qc=new DT;const dy=new Nn("AllowMultipleToken");class lC{constructor(s,a){this.name=s,this.token=a}}function vs(i,s,a=[]){const u=`Platform: ${s}`,d=new Nn(u);return(f=[])=>{let _=dC();if(!_||_.injector.get(dy,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const v=a.concat(f).concat({provide:d,useValue:!0},{provide:Yl,useValue:"platform"});!function uC(i){if(ui&&!ui.destroyed&&!ui.injector.get(dy,!1))throw new Oe(400,"");ui=i.get(hC);const s=i.get(iy,null);s&&s.forEach(a=>a())}(bo.create({providers:v,name:u}))}return function cC(i){const s=dC();if(!s)throw new Oe(401,"");return s}()}}function dC(){return ui&&!ui.destroyed?ui:null}let hC=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,u){const v=function fC(i,s){let a;return a="noop"===i?new TT:("zone.js"===i?void 0:i)||new Pr({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:Pr,useValue:v}];return v.run(()=>{const I=bo.create({providers:b,parent:this.injector,name:a.moduleType.name}),A=a.create(I),k=A.injector.get(_f,null);if(!k)throw new Oe(402,"");return v.runOutsideAngular(()=>{const Z=v.onError.subscribe({next:ee=>{k.handleError(ee)}});A.onDestroy(()=>{fy(this._modules,A),Z.unsubscribe()})}),function ST(i,s,a){try{const u=a();return $m(u)?u.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(k,v,()=>{const Z=A.injector.get(Yc);return Z.runInitializers(),Z.donePromise.then(()=>(function Sp(i){Ze(i,"Expected localeId to be defined"),"string"==typeof i&&(iE=i.toLowerCase().replace(/_/g,"-"))}(A.injector.get(oy,ih)||ih),this._moduleDoBootstrap(A),A))})})}bootstrapModule(a,u=[]){const d=pC({},u);return function cy(i,s,a){const u=new Wp(a);return Promise.resolve(u)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const u=a.injector.get(hy);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Oe(403,"");a.instance.ngDoBootstrap(u)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Oe(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(w(bo))},i.\u0275prov=qt({token:i,factory:i.\u0275fac}),i})();function pC(i,s){return Array.isArray(s)?s.reduce(pC,i):Object.assign(Object.assign({},i),s)}let hy=(()=>{class i{constructor(a,u,d,f,_){this._zone=a,this._injector=u,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new x.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new x.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Pr.assertNotInAngularZone(),Kc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Pr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),k.unsubscribe()}});this.isStable=(0,oe.T)(v,b.pipe((0,le.B)()))}bootstrap(a,u){if(!this._initStatus.done)throw new Oe(405,"");let d;d=a instanceof x_?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function aC(i){return i.isBoundToModule}(d)?void 0:this._injector.get($c),v=d.create(bo.NULL,[],u||d.selector,f),b=v.location.nativeElement,I=v.injector.get(sC,null),A=I&&v.injector.get(oC);return I&&A&&A.registerApplication(b,I),v.onDestroy(()=>{this.detachView(v.hostView),fy(this.components,v),A&&A.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Oe(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;fy(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Ah,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(w(Pr),w(bo),w(_f),w(Hp),w(Yc))},i.\u0275prov=qt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function fy(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let mC=!0,_C=!1;function MT(){return _C=!0,mC}function xT(){if(_C)throw new Error("Cannot enable prod mode after platform setup.");mC=!1}let PT=(()=>{class i{}return i.__NG_ELEMENT_ID__=OT,i})();function OT(i){return function RT(i,s,a){if(Ea(i)&&!a){const u=Qn(i.index,s);return new fh(u,u)}return 47&i.type?new fh(s[16],s):null}(En(),Te(),16==(16&i))}class CC{constructor(){}supports(s){return $d(s)}create(s){return new UT(s)}}const BT=(i,s)=>s;class UT{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||BT}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,d=0,f=null;for(;a||u;){const _=!u||a&&a.currentIndex<bC(u,d,f)?a:u,v=bC(_,d,f),b=_.currentIndex;if(_===u)d--,u=u._nextRemoved;else if(a=a._next,null==_.previousIndex)d++;else{f||(f=[]);const I=v-d,A=b-d;if(I!=A){for(let Z=0;Z<I;Z++){const ee=Z<f.length?f[Z]:f[Z]=0,Ee=ee+Z;A<=Ee&&Ee<I&&(f[Z]=ee+1)}f[_.previousIndex]=A-I}}v!==b&&s(_,v,b)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!$d(s))throw new Oe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,_,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)f=s[v],_=this._trackByFn(v,f),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,f,_,v)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,_,v),u=!0),a=a._next}else d=0,function Jl(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Ec()]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,v=>{_=this._trackByFn(d,v),null!==a&&Object.is(a.trackById,_)?(u&&(a=this._verifyReinsertion(a,v,_,d)),Object.is(a.item,v)||this._addIdentityChange(a,v)):(a=this._mismatch(a,v,_,d),u=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new ZI(a,u),f,d),s}_verifyReinsertion(s,a,u,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new wC),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wC),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ZI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class wC{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new qI,this.map.set(a,u)),u.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bC(i,s,a){const u=i.previousIndex;if(null===u)return u;let d=0;return a&&u<a.length&&(d=a[u]),u+s+d}class TC{constructor(){}supports(s){return s instanceof Map||Nm(s)}create(){return new DC}}class DC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Nm(s)))throw new Oe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const u=new HT(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class HT{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function IC(){return new vy([new CC])}let vy=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(null!=u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||IC()),deps:[[i,new et,new ct]]}}find(a){const u=this.factories.find(d=>d.supports(a));if(null!=u)return u;throw new Oe(901,"")}}return i.\u0275prov=qt({token:i,providedIn:"root",factory:IC}),i})();function va(){return new mr([new TC])}let mr=(()=>{class i{constructor(a){this.factories=a}static create(a,u){if(u){const d=u.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||va()),deps:[[i,new et,new ct]]}}find(a){const u=this.factories.find(f=>f.supports(a));if(u)return u;throw new Oe(901,"")}}return i.\u0275prov=qt({token:i,providedIn:"root",factory:va}),i})();const jT=vs(null,"core",[{provide:sy,useValue:"unknown"},{provide:hC,deps:[bo]},{provide:oC,deps:[]},{provide:ag,deps:[]}]);let hg=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(w(hy))},i.\u0275mod=J({type:i}),i.\u0275inj=Gt({}),i})()},3942:(Ge,ye,P)=>{P.d(ye,{Z:()=>Oe});var l=P(2090),V=P(4859),x=P(9681),oe=P(1877);class le{constructor(pe,Ce){this._delegate=pe,this.firebase=Ce,(0,x._addComponent)(pe,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(pe,Ce=x._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const Ve=this._delegate.container.getProvider(pe);return!Ve.isInitialized()&&"EXPLICIT"===(null===(Ue=Ve.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&Ve.initialize(),Ve.getImmediate({identifier:Ce})}_removeServiceInstance(pe,Ce=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(Ce)}_addComponent(pe){(0,x._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,x._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function me(){const Ne=function ue(Ne){const pe={},Ce={__esModule:!0,initializeApp:function Ae(ne,he={}){const U=x.initializeApp(ne,he);if((0,l.r3)(pe,U.name))return pe[U.name];const X=new Ne(U,Ce);return pe[U.name]=X,X},app:Ve,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function ve(ne){const he=ne.name,U=he.replace("-compat","");if(x._registerComponent(ne)&&"PUBLIC"===ne.type){const X=(ae=Ve())=>{if("function"!=typeof ae[U])throw fe.create("invalid-app-argument",{appName:he});return ae[U]()};void 0!==ne.serviceProps&&(0,l.ZB)(X,ne.serviceProps),Ce[U]=X,Ne.prototype[U]=function(...ae){return this._getService.bind(this,he).apply(this,ne.multipleInstances?ae:[])}}return"PUBLIC"===ne.type?Ce[U]:null},removeApp:function Ue(ne){delete pe[ne]},useAsService:function He(ne,he){return"serverAuth"===he?null:he},modularAPIs:x}};function Ve(ne){if(!(0,l.r3)(pe,ne=ne||x._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:ne});return pe[ne]}return Ce.default=Ce,Object.defineProperty(Ce,"apps",{get:function Me(){return Object.keys(pe).map(ne=>pe[ne])}}),Ve.App=Ne,Ce}(le);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:me,extendNamespace:function pe(Ce){(0,l.ZB)(Ne,Ce)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ne}(),$=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Oe=z;!function Se(Ne){(0,x.registerVersion)("@firebase/app-compat","0.1.30",Ne)}()},9681:(Ge,ye,P)=>{P.r(ye),P.d(ye,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Nr,_DEFAULT_ENTRY_NAME:()=>Ze,_addComponent:()=>Bn,_addOrOverwriteComponent:()=>qt,_apps:()=>Dn,_clearComponents:()=>qr,_components:()=>Wt,_getProvider:()=>Gt,_registerComponent:()=>Rt,_removeServiceInstance:()=>dn,deleteApp:()=>it,getApp:()=>In,getApps:()=>di,initializeApp:()=>Yr,onLog:()=>zt,registerVersion:()=>hn,setLogLevel:()=>Un});var l=P(5861),V=P(4859),x=P(1877),oe=P(2090),le=P(8766);class ge{constructor(j){this.container=j}getPlatformInfoString(){return this.container.getProviders().map(G=>{if(function fe(B){const j=B.getComponent();return"VERSION"===(null==j?void 0:j.type)}(G)){const De=G.getImmediate();return`${De.library}/${De.version}`}return null}).filter(G=>G).join(" ")}}const ue="@firebase/app",z=new x.Yd("@firebase/app"),Ze="[DEFAULT]",st={[ue]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dn=new Map,Wt=new Map;function Bn(B,j){try{B.container.addComponent(j)}catch(G){z.debug(`Component ${j.name} failed to register with FirebaseApp ${B.name}`,G)}}function qt(B,j){B.container.addOrOverwriteComponent(j)}function Rt(B){const j=B.name;if(Wt.has(j))return z.debug(`There were multiple attempts to register component ${j}.`),!1;Wt.set(j,B);for(const G of Dn.values())Bn(G,B);return!0}function Gt(B,j){const G=B.container.getProvider("heartbeat").getImmediate({optional:!0});return G&&G.triggerHeartbeat(),B.container.getProvider(j)}function dn(B,j,G=Ze){Gt(B,j).clearInstance(G)}function qr(){Wt.clear()}const gn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ti{constructor(j,G,De){this._isDeleted=!1,this._options=Object.assign({},j),this._config=Object.assign({},G),this._name=G.name,this._automaticDataCollectionEnabled=G.automaticDataCollectionEnabled,this._container=De,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(j){this.checkDestroyed(),this._automaticDataCollectionEnabled=j}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(j){this._isDeleted=j}checkDestroyed(){if(this.isDeleted)throw gn.create("app-deleted",{appName:this._name})}}const Nr="9.9.1";function Yr(B,j={}){"object"!=typeof j&&(j={name:j});const G=Object.assign({name:Ze,automaticDataCollectionEnabled:!1},j),De=G.name;if("string"!=typeof De||!De)throw gn.create("bad-app-name",{appName:String(De)});const Le=Dn.get(De);if(Le){if((0,oe.vZ)(B,Le.options)&&(0,oe.vZ)(G,Le.config))return Le;throw gn.create("duplicate-app",{appName:De})}const ut=new V.H0(De);for(const Ut of Wt.values())ut.addComponent(Ut);const jt=new Ti(B,G,ut);return Dn.set(De,jt),jt}function In(B=Ze){const j=Dn.get(B);if(!j)throw gn.create("no-app",{appName:B});return j}function di(){return Array.from(Dn.values())}function it(B){return ur.apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(B){const j=B.name;Dn.has(j)&&(Dn.delete(j),yield Promise.all(B.container.getProviders().map(G=>G.delete())),B.isDeleted=!0)})).apply(this,arguments)}function hn(B,j,G){var De;let Le=null!==(De=st[B])&&void 0!==De?De:B;G&&(Le+=`-${G}`);const ut=Le.match(/\s|\//),jt=j.match(/\s|\//);if(ut||jt){const Ut=[`Unable to register library "${Le}" with version "${j}":`];return ut&&Ut.push(`library name "${Le}" contains illegal characters (whitespace or "/")`),ut&&jt&&Ut.push("and"),jt&&Ut.push(`version name "${j}" contains illegal characters (whitespace or "/")`),void z.warn(Ut.join(" "))}Rt(new V.wA(`${Le}-version`,()=>({library:Le,version:j}),"VERSION"))}function zt(B,j){if(null!==B&&"function"!=typeof B)throw gn.create("invalid-log-argument");(0,x.Am)(B,j)}function Un(B){(0,x.Ub)(B)}const fn="firebase-heartbeat-store";let jn=null;function Di(){return jn||(jn=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(B,j)=>{0===j&&B.createObjectStore(fn)}}).catch(B=>{throw gn.create("storage-open",{originalErrorMessage:B.message})})),jn}function Xe(){return(Xe=(0,l.Z)(function*(B){var j;try{return(yield Di()).transaction(fn).objectStore(fn).get(Fr(B))}catch(G){throw gn.create("storage-get",{originalErrorMessage:null===(j=G)||void 0===j?void 0:j.message})}})).apply(this,arguments)}function qe(B,j){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(B,j){var G;try{const Le=(yield Di()).transaction(fn,"readwrite");return yield Le.objectStore(fn).put(j,Fr(B)),Le.done}catch(De){throw gn.create("storage-set",{originalErrorMessage:null===(G=De)||void 0===G?void 0:G.message})}})).apply(this,arguments)}function Fr(B){return`${B.name}!${B.options.appId}`}class Sn{constructor(j){this.container=j,this._heartbeatsCache=null;const G=this.container.getProvider("app").getImmediate();this._storage=new _r(G),this._heartbeatsCachePromise=this._storage.read().then(De=>(this._heartbeatsCache=De,De))}triggerHeartbeat(){var j=this;return(0,l.Z)(function*(){const De=j.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Le=Xt();if(null===j._heartbeatsCache&&(j._heartbeatsCache=yield j._heartbeatsCachePromise),j._heartbeatsCache.lastSentHeartbeatDate!==Le&&!j._heartbeatsCache.heartbeats.some(ut=>ut.date===Le))return j._heartbeatsCache.heartbeats.push({date:Le,agent:De}),j._heartbeatsCache.heartbeats=j._heartbeatsCache.heartbeats.filter(ut=>{const jt=new Date(ut.date).valueOf();return Date.now()-jt<=2592e6}),j._storage.overwrite(j._heartbeatsCache)})()}getHeartbeatsHeader(){var j=this;return(0,l.Z)(function*(){if(null===j._heartbeatsCache&&(yield j._heartbeatsCachePromise),null===j._heartbeatsCache||0===j._heartbeatsCache.heartbeats.length)return"";const G=Xt(),{heartbeatsToSend:De,unsentEntries:Le}=function tt(B,j=1024){const G=[];let De=B.slice();for(const Le of B){const ut=G.find(jt=>jt.agent===Le.agent);if(ut){if(ut.dates.push(Le.date),W(G)>j){ut.dates.pop();break}}else if(G.push({agent:Le.agent,dates:[Le.date]}),W(G)>j){G.pop();break}De=De.slice(1)}return{heartbeatsToSend:G,unsentEntries:De}}(j._heartbeatsCache.heartbeats),ut=(0,oe.L)(JSON.stringify({version:2,heartbeats:De}));return j._heartbeatsCache.lastSentHeartbeatDate=G,Le.length>0?(j._heartbeatsCache.heartbeats=Le,yield j._storage.overwrite(j._heartbeatsCache)):(j._heartbeatsCache.heartbeats=[],j._storage.overwrite(j._heartbeatsCache)),ut})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class _r{constructor(j){this.app=j,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var j=this;return(0,l.Z)(function*(){return(yield j._canUseIndexedDBPromise)&&(yield function Mt(B){return Xe.apply(this,arguments)}(j.app))||{heartbeats:[]}})()}overwrite(j){var G=this;return(0,l.Z)(function*(){var De;if(yield G._canUseIndexedDBPromise){const ut=yield G.read();return qe(G.app,{lastSentHeartbeatDate:null!==(De=j.lastSentHeartbeatDate)&&void 0!==De?De:ut.lastSentHeartbeatDate,heartbeats:j.heartbeats})}})()}add(j){var G=this;return(0,l.Z)(function*(){var De;if(yield G._canUseIndexedDBPromise){const ut=yield G.read();return qe(G.app,{lastSentHeartbeatDate:null!==(De=j.lastSentHeartbeatDate)&&void 0!==De?De:ut.lastSentHeartbeatDate,heartbeats:[...ut.heartbeats,...j.heartbeats]})}})()}}function W(B){return(0,oe.L)(JSON.stringify({version:2,heartbeats:B})).length}!function H(B){Rt(new V.wA("platform-logger",j=>new ge(j),"PRIVATE")),Rt(new V.wA("heartbeat",j=>new Sn(j),"PRIVATE")),hn(ue,"0.7.29",B),hn(ue,"0.7.29","esm2017"),hn("fire-js","")}("")},4859:(Ge,ye,P)=>{P.d(ye,{H0:()=>ue,wA:()=>x,zt:()=>le});var l=P(5861),V=P(2090);class x{constructor(z,$,ie){this.name=z,this.instanceFactory=$,this.type=ie,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const oe="[DEFAULT]";class le{constructor(z,$){this.name=z,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const $=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has($)){const ie=new V.BH;if(this.instancesDeferred.set($,ie),this.isInitialized($)||this.shouldAutoInitialize())try{const Be=this.getOrInitializeService({instanceIdentifier:$});Be&&ie.resolve(Be)}catch(Be){}}return this.instancesDeferred.get($).promise}getImmediate(z){var $;const ie=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),Be=null!==($=null==z?void 0:z.optional)&&void 0!==$&&$;if(!this.isInitialized(ie)&&!this.shouldAutoInitialize()){if(Be)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ie})}catch(Se){if(Be)return null;throw Se}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function fe(me){return"EAGER"===me.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch($){}for(const[$,ie]of this.instancesDeferred.entries()){const Be=this.normalizeInstanceIdentifier($);try{const Se=this.getOrInitializeService({instanceIdentifier:Be});ie.resolve(Se)}catch(Se){}}}}clearInstance(z=oe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,l.Z)(function*(){const $=Array.from(z.instances.values());yield Promise.all([...$.filter(ie=>"INTERNAL"in ie).map(ie=>ie.INTERNAL.delete()),...$.filter(ie=>"_delete"in ie).map(ie=>ie._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=oe){return this.instances.has(z)}getOptions(z=oe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:$={}}=z,ie=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(ie))throw Error(`${this.name}(${ie}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Be=this.getOrInitializeService({instanceIdentifier:ie,options:$});for(const[Se,Oe]of this.instancesDeferred.entries())ie===this.normalizeInstanceIdentifier(Se)&&Oe.resolve(Be);return Be}onInit(z,$){var ie;const Be=this.normalizeInstanceIdentifier($),Se=null!==(ie=this.onInitCallbacks.get(Be))&&void 0!==ie?ie:new Set;Se.add(z),this.onInitCallbacks.set(Be,Se);const Oe=this.instances.get(Be);return Oe&&z(Oe,Be),()=>{Se.delete(z)}}invokeOnInitCallbacks(z,$){const ie=this.onInitCallbacks.get($);if(ie)for(const Be of ie)try{Be(z,$)}catch(Se){}}getOrInitializeService({instanceIdentifier:z,options:$={}}){let ie=this.instances.get(z);if(!ie&&this.component&&(ie=this.component.instanceFactory(this.container,{instanceIdentifier:(me=z,me===oe?void 0:me),options:$}),this.instances.set(z,ie),this.instancesOptions.set(z,$),this.invokeOnInitCallbacks(ie,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ie)}catch(Be){}var me;return ie||null}normalizeInstanceIdentifier(z=oe){return this.component?this.component.multipleInstances?z:oe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ue{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const $=this.getProvider(z.name);if($.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);$.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const $=new le(z,this);return this.providers.set(z,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(Ge,ye,P)=>{P.d(ye,{Am:()=>me,Ub:()=>ue,Yd:()=>fe,in:()=>V});const l=[];var V=(()=>{return(z=V||(V={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",V;var z})();const x={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},oe=V.INFO,le={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ge=(z,$,...ie)=>{if($<z.logLevel)return;const Be=(new Date).toISOString(),Se=le[$];if(!Se)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Se](`[${Be}]  ${z.name}:`,...ie)};class fe{constructor($){this.name=$,this._logLevel=oe,this._logHandler=ge,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in V))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?x[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...$),this._logHandler(this,V.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...$),this._logHandler(this,V.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,V.INFO,...$),this._logHandler(this,V.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,V.WARN,...$),this._logHandler(this,V.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...$),this._logHandler(this,V.ERROR,...$)}}function ue(z){l.forEach($=>{$.setLogLevel(z)})}function me(z,$){for(const ie of l){let Be=null;$&&$.level&&(Be=x[$.level]),ie.userLogHandler=null===z?null:(Se,Oe,...Ne)=>{const pe=Ne.map(Ce=>{if(null==Ce)return null;if("string"==typeof Ce)return Ce;if("number"==typeof Ce||"boolean"==typeof Ce)return Ce.toString();if(Ce instanceof Error)return Ce.message;try{return JSON.stringify(Ce)}catch(Ue){return null}}).filter(Ce=>Ce).join(" ");Oe>=(null!=Be?Be:Se.logLevel)&&z({level:V[Oe].toLowerCase(),message:pe,args:Ne,type:Se.name})}}}},8766:(Ge,ye,P)=>{P.d(ye,{Lj:()=>Ae,X3:()=>Ve});var l=P(5861);let x,oe;const fe=new WeakMap,ue=new WeakMap,me=new WeakMap,z=new WeakMap,$=new WeakMap;let Se={get(he,U,X){if(he instanceof IDBTransaction){if("done"===U)return ue.get(he);if("objectStoreNames"===U)return he.objectStoreNames||me.get(he);if("store"===U)return X.objectStoreNames[1]?void 0:X.objectStore(X.objectStoreNames[0])}return Ce(he[U])},set:(he,U,X)=>(he[U]=X,!0),has:(he,U)=>he instanceof IDBTransaction&&("done"===U||"store"===U)||U in he};function pe(he){return"function"==typeof he?function Ne(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ge(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...U){return he.apply(Ue(this),U),Ce(fe.get(this))}:function(...U){return Ce(he.apply(Ue(this),U))}:function(U,...X){const ae=he.call(Ue(this),U,...X);return me.set(ae,U.sort?U.sort():[U]),Ce(ae)}}(he):(he instanceof IDBTransaction&&function Be(he){if(ue.has(he))return;const U=new Promise((X,ae)=>{const ce=()=>{he.removeEventListener("complete",xe),he.removeEventListener("error",se),he.removeEventListener("abort",se)},xe=()=>{X(),ce()},se=()=>{ae(he.error||new DOMException("AbortError","AbortError")),ce()};he.addEventListener("complete",xe),he.addEventListener("error",se),he.addEventListener("abort",se)});ue.set(he,U)}(he),((he,U)=>U.some(X=>he instanceof X))(he,function le(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Se):he)}function Ce(he){if(he instanceof IDBRequest)return function ie(he){const U=new Promise((X,ae)=>{const ce=()=>{he.removeEventListener("success",xe),he.removeEventListener("error",se)},xe=()=>{X(Ce(he.result)),ce()},se=()=>{ae(he.error),ce()};he.addEventListener("success",xe),he.addEventListener("error",se)});return U.then(X=>{X instanceof IDBCursor&&fe.set(X,he)}).catch(()=>{}),$.set(U,he),U}(he);if(z.has(he))return z.get(he);const U=pe(he);return U!==he&&(z.set(he,U),$.set(U,he)),U}const Ue=he=>$.get(he);function Ve(he,U,{blocked:X,upgrade:ae,blocking:ce,terminated:xe}={}){const se=indexedDB.open(he,U),rt=Ce(se);return ae&&se.addEventListener("upgradeneeded",Ct=>{ae(Ce(se.result),Ct.oldVersion,Ct.newVersion,Ce(se.transaction))}),X&&se.addEventListener("blocked",()=>X()),rt.then(Ct=>{xe&&Ct.addEventListener("close",()=>xe()),ce&&Ct.addEventListener("versionchange",()=>ce())}).catch(()=>{}),rt}function Ae(he,{blocked:U}={}){const X=indexedDB.deleteDatabase(he);return U&&X.addEventListener("blocked",()=>U()),Ce(X).then(()=>{})}const Me=["get","getKey","getAll","getAllKeys","count"],ve=["put","add","delete","clear"],He=new Map;function ne(he,U){if(!(he instanceof IDBDatabase)||U in he||"string"!=typeof U)return;if(He.get(U))return He.get(U);const X=U.replace(/FromIndex$/,""),ae=U!==X,ce=ve.includes(X);if(!(X in(ae?IDBIndex:IDBObjectStore).prototype)||!ce&&!Me.includes(X))return;const xe=function(){var se=(0,l.Z)(function*(rt,...Ct){const Tn=this.transaction(rt,ce?"readwrite":"readonly");let Ze=Tn.store;return ae&&(Ze=Ze.index(Ct.shift())),(yield Promise.all([Ze[X](...Ct),ce&&Tn.done]))[0]});return function(Ct){return se.apply(this,arguments)}}();return He.set(U,xe),xe}!function Oe(he){Se=he(Se)}(he=>pM(fM({},he),{get:(U,X,ae)=>ne(U,X)||he.get(U,X,ae),has:(U,X)=>!!ne(U,X)||he.has(U,X)}))},5861:(Ge,ye,P)=>{function l(x,oe,le,ge,fe,ue,me){try{var z=x[ue](me),$=z.value}catch(ie){return void le(ie)}z.done?oe($):Promise.resolve($).then(ge,fe)}function V(x){return function(){var oe=this,le=arguments;return new Promise(function(ge,fe){var ue=x.apply(oe,le);function me($){l(ue,ge,fe,me,z,"next",$)}function z($){l(ue,ge,fe,me,z,"throw",$)}me(void 0)})}}P.d(ye,{Z:()=>V})}},Ge=>{Ge(Ge.s=3141)}]);